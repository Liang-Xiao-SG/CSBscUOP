(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1446],{45213:function(e,t,s){var n={"./androidkotlin/supabasekt/content":[12930,8703,2930],"./astro/supabasejs/content":[10417,8703,417],"./drizzle/content":[56413,8703,6413],"./exporeactnative/supabasejs/content":[26719,8703,6719],"./flutter/supabaseflutter/content":[24009,8703,4009],"./ionicangular/supabasejs/content":[44247,8703,4247],"./ionicreact/supabasejs/content":[60082,8703,82],"./nextjs/app/supabasejs/content":[7421,8703,7421],"./nextjs/pages/supabasejs/content":[64801,8703,4801],"./nuxt/supabasejs/content":[67748,8703,7748],"./prisma/content":[29873,8703,9873],"./react/create-react-app/supabasejs/content":[23358,8703,3358],"./react/vite/supabasejs/content":[91375,8703,1375],"./refine/supabasejs/content":[14617,8703,4617],"./remix/supabasejs/content":[82794,8703,2794],"./solidjs/supabasejs/content":[54970,8703,4970],"./sveltekit/supabasejs/content":[7751,8703,7751],"./swift/supabaseswift/content":[39669,8703,9669],"./vuejs/supabasejs/content":[86973,8703,6973]};function r(e){if(!s.o(n,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],r=t[0];return Promise.all(t.slice(1).map(s.e)).then(function(){return s(r)})}r.keys=function(){return Object.keys(n)},r.id=45213,e.exports=r},99457:function(e,t,s){"use strict";s.d(t,{B:function(){return o},F2:function(){return d},G2:function(){return h},LZ:function(){return x},Y4:function(){return l},_J:function(){return u},hk:function(){return c},nK:function(){return a},q_:function(){return p}});var n=s(7406),r=s(56535),i=s(620);let a=660,l=50,o=20,c={...r.S,INIT_READ_REPLICA:"INIT_READ_REPLICA",INIT_READ_REPLICA_FAILED:"INIT_READ_REPLICA_FAILED"},d={SOUTHEAST_ASIA:[103.8,1.37],NORTHEAST_ASIA:[139.42,35.41],NORTHEAST_ASIA_2:[126.98,37.56],CENTRAL_CANADA:[-73.6,45.5],WEST_US:[-121.96,37.35],EAST_US:[-78.45,38.13],WEST_EU:[-8,53],WEST_EU_2:[-.1,51],CENTRAL_EU:[8,50],SOUTH_ASIA:[72.88,19.08],OCEANIA:[151.2,-33.86],SOUTH_AMERICA:[-46.38,-23.34],CENTRAL_EU_2:[8.54,47.45],EAST_US_2:[-83,39.96],NORTH_EU:[17.91,59.65],WEST_EU_3:[2.35,48.86]},u={SOUTHEAST_ASIA:[103.8,1.37]},p=Object.keys(i.Wp).map(e=>({key:e,name:null===i.Wp||void 0===i.Wp?void 0:i.Wp[e].displayName,region:null===i.Wp||void 0===i.Wp?void 0:i.Wp[e].code,coordinates:d[e]})).filter(e=>void 0!==e.coordinates),h={[n.Vb.Requested]:"Requesting replica instance",[n.Vb.Started]:"Launching replica instance",[n.Vb.LaunchedReadReplicaInstance]:"Initiating replica setup",[n.Vb.InitiatedReadReplicaSetup]:"Downloading base backup",[n.Vb.DownloadedBaseBackup]:"Replaying WAL archives",[n.Vb.ReplayedWalArchives]:"Completing set up",[n.Vb.CompletedReadReplicaSetup]:"Completed"},x={[n.Bm.ReadReplicaInstanceLaunchFailed]:"Failed to launch replica",[n.Bm.InitiateReadReplicaSetupFailed]:"Failed to initiate replica",[n.Bm.DownloadBaseBackupFailed]:"Failed to download backup",[n.Bm.ReplayWalArchivesFailed]:"Failed to replay WAL archives",[n.Bm.CompleteReadReplicaSetupFailed]:"Failed to set up replica"}},8933:function(e,t,s){"use strict";s.d(t,{v:function(){return L}});var n=s(97458),r=s(52983),i=s(12753),a=s(53486),l=s(64305),o=s(11321),c=s(61559),d=s(84531),u=s(57361),p=s(83145),h=s.n(p),x=s(32691),g=s(34549),m=s(73512),f=s(64618),j=s(129);async function v(e){let{message:t,pathname:s,projectRef:n,organizationSlug:r}=e,{data:i,error:a}=await (0,j.v_)("/platform/feedback/send",{body:{message:t,category:"Feedback",tags:["dashboard-feedback"],projectRef:n,organizationSlug:r,pathname:s}});return a&&(0,j.S3)(a),i}let b=function(){let{onError:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.D)(e=>v(e),{async onError(t,s,n){void 0===e?g.Am.error("Failed to submit feedback: ".concat(t.message)):e(t,s,n)},...t})};var y=s(59884),N=s(9881),k=s(6433),w=s(60661),S=s(15011),_=s(34112),C=s(73656);let A=C.env.NEXT_PUBLIC_SUPPORT_API_URL||"",E=C.env.NEXT_PUBLIC_SUPPORT_ANON_KEY||"",z=e=>{let t="image/png",s=atob(e.substr("data:".concat(t,";base64,").length)),n=[];for(let e=0;e<s.length;e+=1024){let t=s.slice(e,e+1024),r=Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);let i=new Uint8Array(r);n.push(i)}return new Blob(n,{type:t})},P=async(e,t)=>{let s=(0,_.eI)(A,E,{auth:{persistSession:!1,autoRefreshToken:!1,multiTab:!1,detectSessionInUrl:!1,localStorage:{getItem:e=>void 0,setItem:(e,t)=>{},removeItem:e=>{}}}}),n=z(t),r="".concat(e||"no-project","/").concat((0,k.k$)(),".png"),{data:i,error:a}=await s.storage.from("feedback-attachments").upload(r,n,{cacheControl:"3600"});if(a){console.error("Failed to upload:",a);return}if(i){let{data:e}=await s.storage.from("feedback-attachments").createSignedUrls([i.path],31536e4);return null==e?void 0:e[0].signedUrl}};var R=e=>{let{feedback:t,screenshot:s,onClose:i,setFeedback:p,setScreenshot:f}=e,j="feedback_content",v="screenshot",_=(0,x.useRouter)(),{ref:C,slug:A}=(0,m.UO)(),E=(0,N.l)(),R=(0,r.useRef)(null),[L,T]=(0,r.useState)(!1),[I,Z]=(0,r.useState)(!1),{mutate:F}=(0,y.a)(),{mutate:O}=b({onSuccess:()=>{p(""),f(void 0),localStorage.removeItem(j),localStorage.removeItem(v),g.Am.success("Feedback sent. Thank you!\n\nPlease be aware that we do not provide responses to feedback. If you require assistance or a reply, consider submitting a support ticket.",{duration:8e3}),T(!1)},onError:e=>{g.Am.error("Failed to submit feedback: ".concat(e.message)),T(!1)}});(0,r.useEffect)(()=>{let e=localStorage.getItem(j);e&&p(e);let t=localStorage.getItem(v);t&&f(t)},[]),(0,r.useEffect)(()=>{localStorage.setItem(j,t)},[t]),(0,r.useEffect)(()=>{s&&localStorage.setItem(v,s)},[s]);let U=()=>{p(""),f(void 0),localStorage.removeItem(j),localStorage.removeItem(v)},D=async()=>{Z(!0),await (0,k.Vs)(100),(0,l.YM)(document.body,{filter:function(e){var t;return!((null!==(t=null==e?void 0:e.children)&&void 0!==t?t:[]).length>0)||"feedback-widget"!==e.children[0].id}}).then(e=>{localStorage.setItem(v,e),f(e)}).catch(()=>g.Am.error("Failed to capture screenshot")).finally(()=>{Z(!1)})},W=async e=>{e.persist();let[t]=e.target.files||e.dataTransfer.items,s=new FileReader;s.onload=function(e){var t;let s=null===(t=e.target)||void 0===t?void 0:t.result;"string"==typeof s&&(f(s),localStorage.setItem(v,s))},s.readAsDataURL(t),e.target.value=""},q=async()=>{let[e]=await navigator.clipboard.read();if(void 0===s&&"image/png"===e.types[0]){let t=await e.getType("image/png"),s=new FileReader;s.onload=function(e){var t;let s=null===(t=e.target)||void 0===t?void 0:t.result;"string"==typeof s&&(f(s),localStorage.setItem(v,s))},s.readAsDataURL(t)}},B=async()=>{if(0===t.length&&void 0!==s)return g.Am.error("Please include a message in your feedback.");if(t.length>0){T(!0);let e=s?await P(C,s):void 0;O({projectRef:C,organizationSlug:A,message:void 0!==e?"".concat(t,"\n\nAttachments:\n").concat(e):t,pathname:_.asPath})}return i()};return(0,n.jsxs)("div",{id:"feedback-widget",className:"text-area-text-sm",children:[(0,n.jsx)(w.Z.TextArea,{className:"w-80 p-3",size:"small",placeholder:"Ideas on how to improve this page. Use the Support Form for technical issues.",rows:5,value:t,onChange:e=>p(e.target.value),onPaste:q}),(0,n.jsx)("div",{className:"w-full h-px bg-border"}),(0,n.jsxs)("div",{className:"w-80 space-y-3 px-3 py-2 pb-4",children:[(0,n.jsxs)("div",{className:"flex justify-between space-x-2",children:[(0,n.jsx)(a.z,{type:"default",onClick:()=>{U(),i()},children:"Cancel"}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(a.z,{type:"default",onClick:U,children:"Clear"}),void 0!==s?(0,n.jsx)("div",{style:{backgroundImage:'url("'.concat(s,'")')},onClick:()=>{let e=z(s),t=URL.createObjectURL(e);window.open(t,"_blank")},className:"cursor-pointer rounded h-[26px] w-[30px] border border-control relative bg-cover bg-center bg-no-repeat",children:(0,n.jsx)("button",{className:"cursor-pointer rounded-full bg-red-900 h-3 w-3 flex items-center justify-center absolute -top-1 -right-1",onClick:e=>{e.stopPropagation(),f(void 0)},children:(0,n.jsx)(o.Z,{size:8,strokeWidth:3})})}):(0,n.jsxs)(S.h_,{children:[(0,n.jsx)(S.$F,{asChild:!0,children:(0,n.jsx)(a.z,{type:"default",disabled:I,loading:I,className:"px-2 py-1.5",children:(0,n.jsx)(c.Z,{size:14})})}),(0,n.jsxs)(S.AW,{side:"bottom",align:"end",children:[(0,n.jsxs)(S.Xi,{className:"flex gap-2",onSelect:()=>{R.current&&R.current.click()},children:[(0,n.jsx)(d.Z,{size:14}),"Upload screenshot"]},"upload-screenshot"),(0,n.jsxs)(S.Xi,{className:"flex gap-2",onSelect:()=>D(),children:[(0,n.jsx)(u.Z,{size:14}),"Capture screenshot"]},"capture-screenshot")]})]}),(0,n.jsx)("input",{type:"file",ref:R,className:"hidden",accept:"image/png",onChange:W}),(0,n.jsx)(a.z,{disabled:0===t.length||L,loading:L,onClick:()=>{B(),F({action:"send_feedback_button_clicked",groups:{project:C,organization:null==E?void 0:E.slug}})},children:"Send feedback"})]})]}),(0,n.jsxs)("p",{className:"text-xs text-foreground-light",children:["Have a technical issue? Contact"," ",(0,n.jsx)(h(),{href:"/support/new",children:(0,n.jsx)("span",{className:"cursor-pointer text-brand transition-colors hover:text-brand-600",children:"Supabase support"})})," ","or"," ",(0,n.jsx)("a",{href:"https://supabase.com/docs",target:"_blank",rel:"noreferrer",children:(0,n.jsx)("span",{className:"cursor-pointer text-brand transition-colors hover:text-brand-600",children:"browse our docs"})}),"."]})]})]})},L=()=>{let[e,t]=(0,r.useState)(!1),[s,l]=(0,r.useState)(""),[o,c]=(0,r.useState)();return(0,n.jsxs)(i.J2,{modal:!1,open:e,onOpenChange:e=>{t(e),e||c(void 0)},children:[(0,n.jsx)(i.xo,{asChild:!0,children:(0,n.jsx)(a.z,{asChild:!0,onClick:()=>t(e=>!e),type:"outline",children:(0,n.jsx)("span",{className:"hidden md:flex",children:"Feedback"})})}),(0,n.jsx)(i.yk,{side:"bottom",align:"end",className:"w-full p-0",children:(0,n.jsx)(R,{onClose:()=>t(!1),feedback:s,setFeedback:l,screenshot:o,setScreenshot:c})})]})}},76125:function(e,t,s){"use strict";var n=s(97458),r=s(29274),i=s(11433),a=s(44607),l=s(31869),o=s(69636),c=s(6081),d=s(47623),u=s.n(d),p=s(83145),h=s.n(p),x=s(32691),g=s(50588),m=s(2861),f=s(59884),j=s(9881),v=s(12753),b=s(53486),y=s(44336),N=s(32672);t.Z=()=>{var e;let t=(0,x.useRouter)(),{project:s}=(0,N.d2)(),d=(0,j.l)(),{mutate:p}=(0,f.a)(),k=null!==(e=null==s?void 0:s.parent_project_ref)&&void 0!==e?e:t.query.ref;return(0,n.jsxs)(v.J2,{children:[(0,n.jsx)(v.xo,{asChild:!0,children:(0,n.jsx)(m.u,{id:"help-popover-button",type:"text",className:"px-1",icon:(0,n.jsx)(r.Z,{size:16,strokeWidth:1.5,className:"text-foreground-light"}),tooltip:{content:{side:"bottom",text:"Help"}},onClick:()=>{p({action:"help_button_clicked",groups:{project:null==s?void 0:s.ref,organization:null==d?void 0:d.slug}})}})}),(0,n.jsxs)(v.yk,{className:"w-[400px] space-y-4 p-0 py-5",align:"end",side:"bottom",children:[(0,n.jsxs)("div",{className:"mb-5 space-y-4 px-5",children:[(0,n.jsx)("h5",{className:"text-foreground",children:"Need help with your project?"}),(0,n.jsx)("p",{className:"text-sm text-foreground-lighter",children:"For issues with your project hosted on supabase.com, or other inquiries about our hosted services."}),(0,n.jsxs)("div",{className:"space-x-1",children:[(0,n.jsx)(b.z,{asChild:!0,type:"default",icon:(0,n.jsx)(i.Z,{}),children:(0,n.jsx)(h(),{href:"https://supabase.com/docs/guides/platform/troubleshooting",target:"_blank",rel:"noreferrer",children:"Troubleshooting"})}),(0,n.jsx)(b.z,{asChild:!0,type:"text",size:"tiny",icon:(0,n.jsx)(a.Z,{}),children:(0,n.jsx)(h(),{href:"https://supabase.com/docs/",target:"_blank",rel:"noreferrer",children:"Docs"})}),(0,n.jsx)(b.z,{asChild:!0,type:"text",size:"tiny",icon:(0,n.jsx)(l.Z,{}),children:(0,n.jsx)(h(),{href:"https://status.supabase.com/",target:"_blank",rel:"noreferrer",children:"Supabase Status"})})]}),(0,n.jsx)("p",{className:"text-sm text-foreground-lighter",children:"Expected response time is based on your billing plan. Projects on paid plans are prioritized."}),(0,n.jsx)("div",{children:(0,n.jsx)(b.z,{asChild:!0,type:"default",icon:(0,n.jsx)(o.Z,{}),children:(0,n.jsx)(h(),{href:"/support/new".concat(k?"?ref=".concat(k):""),children:"Contact Support"})})})]}),(0,n.jsx)(y.Z.Separator,{}),(0,n.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,n.jsxs)("div",{className:"mb-4 px-5",children:[(0,n.jsx)("h5",{className:"mb-2",children:"Reach out to the community"}),(0,n.jsx)("p",{className:"text-sm text-foreground-lighter",children:"For other support, including questions on our client libraries, advice, or best practices."})]}),(0,n.jsx)("div",{className:"px-5",children:(0,n.jsx)("div",{className:"relative space-y-2 overflow-hidden rounded px-5 py-4 pb-12 shadow-md",style:{background:"#404EED"},children:(0,n.jsxs)("a",{href:"https://discord.supabase.com",target:"_blank",rel:"noreferrer",className:"dark block cursor-pointer",children:[(0,n.jsx)(u(),{className:"absolute left-0 top-0 opacity-50",src:"".concat(t.basePath,"/img/support/discord-bg-small.jpg"),layout:"fill",objectFit:"cover",alt:"discord illustration header"}),(0,n.jsx)(b.z,{type:"secondary",icon:(0,n.jsx)(g.Z,{src:"".concat(t.basePath,"/img/discord-icon.svg"),className:"h-4 w-4"}),children:(0,n.jsx)("span",{style:{color:"#404EED"},children:"Join Discord server"})})]})})}),(0,n.jsx)("div",{className:"px-5",children:(0,n.jsx)("div",{className:"relative space-y-2 overflow-hidden rounded px-5 py-4 pb-12 shadow-md",children:(0,n.jsxs)("a",{href:"https://github.com/supabase/supabase/discussions",target:"_blank",rel:"noreferrer",className:"block cursor-pointer",children:[(0,n.jsx)(u(),{className:"absolute left-0 top-0 opacity-50",src:"".concat(t.basePath,"/img/support/github-bg.jpg?v-1"),layout:"fill",objectFit:"cover",alt:"discord illustration header"}),(0,n.jsx)(b.z,{type:"secondary",icon:(0,n.jsx)(c.Z,{}),children:"GitHub Discussions"})]})})})]})]})]})}},7350:function(e,t,s){"use strict";s.d(t,{N:function(){return tW}});var n=s(97458),r=s(83145),i=s.n(r),a=s(32691),l=s(52983),o=s(73512),c=s(63640),d=s(40540),u=s(39265),p=s(99033),h=s(62213),x=s(15647),g=s(16303),m=s(84261),f=s(64269),j=s(61115),v=s(98330),b=s(25606),y=s(18505),N=s(17164),k=s(59884),w=s(9881),S=s(30114),_=s(6433),C=s(80342),A=s(43633),E=s(79180),z=s(68981),P=s(7879),R=s(47889),L=s(67976),T=s(27429);let I=[{id:"uri",label:"URI",contentType:"input",lang:"bash",fileTitle:void 0},{id:"psql",label:"PSQL",contentType:"code",lang:"bash",fileTitle:void 0},{id:"golang",label:"Golang",contentType:"code",lang:"go",fileTitle:".env"},{id:"jdbc",label:"JDBC",contentType:"input",lang:"bash",fileTitle:void 0},{id:"dotnet",label:".NET",contentType:"code",lang:"csharp",fileTitle:"appsettings.json"},{id:"nodejs",label:"Node.js",contentType:"code",lang:"js",fileTitle:".env"},{id:"php",label:"PHP",contentType:"code",lang:"php",fileTitle:".env"},{id:"python",label:"Python",contentType:"code",lang:"python",fileTitle:".env"},{id:"sqlalchemy",label:"SQLAlchemy",contentType:"code",lang:"python",fileTitle:".env"}],Z={host:{key:"host",description:"The hostname of your database"},port:{key:"port",description:"Port number for the connection"},database:{key:"database",description:"Default database name"},user:{key:"user",description:"Database user"},pool_mode:{key:"pool_mode",description:"Connection pooling behavior"}},F=[{key:"nextjs",label:"Next.js",icon:"nextjs",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/nextjs",children:[{key:"app",label:"App Router",icon:"",children:[{key:"supabasejs",label:"supabase-js",icon:"supabase",children:[]}]},{key:"pages",label:"Pages Router",icon:"",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}]},{key:"remix",label:"Remix",icon:"remix",guideLink:"https://supabase.com/docs/guides/auth/server-side/creating-a-client?framework=remix&environment=remix-loader",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"react",label:"React",icon:"react",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/reactjs",children:[{key:"create-react-app",label:"Create React App",icon:"react",children:[{key:"supabasejs",label:"supabase-js",icon:"supabase",children:[]}]},{key:"vite",label:"Vite",icon:"vite",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}]},{key:"nuxt",label:"Nuxt",icon:"nuxt",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/nuxtjs",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"vuejs",label:"Vue.JS",icon:"vuejs",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/vue",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"sveltekit",label:"SvelteKit",icon:"sveltekit",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/sveltekit",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"solidjs",label:"Solid.js",icon:"solidjs",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/solidjs",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"astro",label:"Astro",icon:"astro",guideLink:"https://docs.astro.build/en/guides/backend/supabase/",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"refine",label:"refine",icon:"refine",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/refine",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}],O=[{key:"exporeactnative",label:"Expo React Native",icon:"expo",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-expo-react-native",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"flutter",label:"Flutter",icon:"flutter",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-flutter",children:[{key:"supabaseflutter",label:"supabase-flutter",children:[],icon:"supabase"}]},{key:"ionicreact",label:"Ionic React",icon:"react",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-ionic-react",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"swift",label:"Swift",icon:"swift",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-swift",children:[{key:"supabaseswift",label:"supabase-swift",children:[],icon:"supabase"}]},{key:"androidkotlin",label:"Android Kotlin",icon:"kotlin",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-kotlin",children:[{key:"supabasekt",label:"supabase-kt",children:[],icon:"supabase"}]},{key:"ionicangular",label:"Ionic Angular",icon:"ionic-angular",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-ionic-angular",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}],U=[{key:"prisma",label:"Prisma",icon:"prisma",guideLink:"https://supabase.com/partners/integrations/prisma",children:[]},{key:"drizzle",label:"Drizzle",icon:"drizzle",guideLink:"https://supabase.com/docs/guides/database/connecting-to-postgres#connecting-with-drizzle",children:[]}],D=[{key:"direct",label:"Connection String",obj:[]},{key:"frameworks",label:"App Frameworks",obj:F},{key:"mobiles",label:"Mobile Frameworks",obj:O},{key:"orms",label:"ORMs",obj:U}],W="Purchase IPv4 add-on or use Supavisor if on a IPv4 network",q="Connections are IPv4 proxied with IPv4 add-on";var B=s(11321),M=s(86491),V=s(86817),H=s(49510),Q=s(33971),Y=s(53486),J=s(3696),K=s(9738),G=s(74459);let X=e=>{let{parameters:t}=e,[s,r]=(0,l.useState)(!1),[i,a]=(0,l.useState)({});return(0,n.jsxs)(L.zF,{open:s,onOpenChange:r,className:"group -space-y-px",children:[(0,n.jsx)(L.wy,{asChild:!0,className:"w-full justify-start rounded-t-none !last:rounded-b group-data-[state=open]:rounded-b-none border-light px-3",children:(0,n.jsx)(Y.z,{type:"default",size:"tiny",className:"text-foreground-lighter !bg-dash-sidebar",icon:(0,n.jsx)(V.Z,{className:(0,A.cn)("text-foreground-muted transition-transform",s?"rotate-90":"")}),children:"View parameters"})}),(0,n.jsxs)(L.Fw,{className:"bg-dash-sidebar rounded-b border font-mono text-sm",children:[(0,n.jsx)("div",{className:"px-4 py-2",children:t.map(e=>(0,n.jsx)("div",{className:"py-0.5 group/param",children:(0,n.jsxs)("div",{className:"text-xs flex items-center",children:[(0,n.jsxs)("span",{className:"text-foreground-lighter",children:[e.key,": "]}),(0,n.jsx)("span",{className:"ml-1 text-foreground",children:e.value}),(0,n.jsx)("button",{onClick:()=>{(0,_.vQ)(e.value,()=>{a(t=>({...t,[e.key]:!0})),setTimeout(()=>{a(t=>({...t,[e.key]:!1}))},1e3)})},className:(0,A.cn)("text-foreground-lighter","ml-2 opacity-0 group-hover/param:opacity-100","hover:text-foreground rounded-sm p-1",i[e.key]&&"opacity-100","transition-all"),children:i[e.key]?(0,n.jsx)(K.Z,{size:12,strokeWidth:1.5}):(0,n.jsx)(G.Z,{size:12,strokeWidth:1.5})})]})},e.key))}),(0,n.jsx)(R.Z,{}),(0,n.jsx)("div",{className:"text-foreground-muted text-xs px-4 py-1 font-sans",children:"For security reasons, your database password is never shown."})]})]})};var $=s(59171),ee=s(16402),et=s(27735);let es=e=>{let{x:t,y1:s,y2:r,isActive:i}=e;return(0,n.jsx)($.M,{children:i&&(0,n.jsxs)("svg",{width:2,height:r-s+6,viewBox:"0 0 ".concat(2," ").concat(r-s+6),style:{position:"absolute",left:t-1,top:s-3},children:[(0,n.jsx)(ee.E.line,{x1:"1",y1:"3",x2:"1",y2:r-s+3,stroke:"hsl(var(--foreground-default) / 0.6)",strokeWidth:1,strokeLinecap:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},exit:{pathLength:0,opacity:0},transition:{duration:.2}}),(0,n.jsx)("defs",{children:(0,n.jsxs)(ee.E.linearGradient,{id:"lineGradient-".concat(t,"-").concat(s,"-").concat(r),gradientUnits:"userSpaceOnUse",x1:"2",y1:"-20",x2:"2",y2:r-s+26,animate:{y1:[-20,r-s+26],y2:[0,r-s+46]},transition:{duration:1,repeat:1/0,ease:"linear",repeatDelay:0},children:[(0,n.jsx)("stop",{offset:"0",stopColor:"hsl(var(--foreground-default) / 0.6)",stopOpacity:"0"}),(0,n.jsx)("stop",{offset:"0.8",stopColor:"hsl(var(--foreground-default))"}),(0,n.jsx)("stop",{offset:"1",stopColor:"hsl(var(--foreground-default) / 0.6)",stopOpacity:"0"})]})}),(0,n.jsx)(ee.E.line,{x1:"2",y1:"3",x2:"2",y2:r-s+3,stroke:"url(#lineGradient-".concat(t,"-").concat(s,"-").concat(r,")"),strokeWidth:1,strokeLinecap:"round",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}})]})})},en=e=>{let{isActive:t}=e;return(0,n.jsx)(ee.E.rect,{width:eo,height:3,className:(0,A.cn)("fill-background-surface-200 stroke-border-stronger stroke-[1]",t&&"stroke-foreground/40"),x:el,y:ei,rx:"1.5",animate:{boxShadow:t?"0 0 8px #86efac":"0 0 0px #86efac"},transition:{duration:.2}})},er=e=>{let{isActive:t}=e;return(0,n.jsxs)("g",{children:[(0,n.jsx)(ee.E.rect,{width:eo,height:32,className:(0,A.cn)("stroke-border fill-background-surface-100 stroke-[1] transition-all",t&&"fill-background-surface-100 stroke-border-stronger","flex items-center justify-center"),x:el,y:ea,rx:"4",animate:{fill:t?"#2563eb":"#1e40af",stroke:"#93c5fd",boxShadow:t?"0 0 8px #93c5fd":"0 0 0px #93c5fd"},transition:{duration:.2}}),(0,n.jsx)(et.vo,{size:21,className:(0,A.cn)("w-4 h-4 text-foreground-lighter transition-all",t&&"text-foreground"),x:el+eo/6,y:ea+5.5,strokeWidth:1})]})},ei=30.72,ea=61.44,el=8.16,eo=32.160000000000004,ec=()=>{let[e,t]=(0,l.useState)([!1,!1,!1]),[s,r]=(0,l.useState)([!1,!1,!1]),[i,a]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{a(s.some(Boolean))},[s]),(0,l.useEffect)(()=>{let e=e=>{t(t=>{let s=[...t];return s[e]=!1,s}),r(t=>{let s=[...t];return s[e]=!1,s}),setTimeout(()=>{t(t=>{let s=[...t];return s[e]=!0,s})},0),setTimeout(()=>{r(t=>{let s=[...t];return s[e]=!0,s})},400),setTimeout(()=>{t(t=>{let s=[...t];return s[e]=!1,s}),r(t=>{let s=[...t];return s[e]=!1,s})},1e3)};setTimeout(()=>e(0),0),setTimeout(()=>e(1),200),setTimeout(()=>e(2),400);let s=[0,1,2].map(t=>setInterval(()=>e(t),3e3+200*t));return()=>s.forEach(clearInterval)},[]),(0,n.jsxs)("div",{style:{position:"relative",width:48,height:96},children:[(0,n.jsxs)("svg",{width:48,height:96,viewBox:"0 0 ".concat(48," ").concat(96),children:[[0,1,2].map(t=>(0,n.jsx)(l.Fragment,{children:(0,n.jsx)($.M,{children:e[t]&&(0,n.jsx)(ee.E.circle,{cx:12+12*t,cy:12.48,r:2.64,className:"fill-foreground",initial:{scale:0,x:[-8,-5,-2][t],y:-10},animate:{scale:1,x:0,y:0},exit:{scale:0,x:[8,5,2][t],y:-10},transition:{type:"spring",stiffness:500,damping:30}})})},t)),(0,n.jsx)(en,{isActive:i}),(0,n.jsx)(er,{isActive:!0})]}),[0,1,2].map(e=>(0,n.jsx)(es,{x:12+12*e,y1:17.28,y2:26.880000000000003,isActive:s[e]},e)),(0,n.jsx)(es,{x:18,y1:38.400000000000006,y2:56.64,isActive:!0}),(0,n.jsx)(es,{x:30,y1:38.400000000000006,y2:56.64,isActive:!0})]})},ed=()=>{let[e,t]=(0,l.useState)([!1,!1,!1]),[s,r]=(0,l.useState)([!1,!1,!1]);return(0,l.useEffect)(()=>{let e=e=>{t(t=>{let s=[...t];return s[e]=!0,s}),r(t=>{let s=[...t];return s[e]=!0,s}),setTimeout(()=>{t(t=>{let s=[...t];return s[e]=!1,s}),r(t=>{let s=[...t];return s[e]=!1,s})},2500)};setTimeout(()=>e(0),100),setTimeout(()=>e(1),1500),setTimeout(()=>e(2),3e3);let s=[0,1,2].map(t=>setInterval(()=>e(t),3e3*Math.random()+8e3));return()=>s.forEach(clearInterval)},[]),(0,n.jsxs)("div",{style:{position:"relative",width:48,height:96},children:[(0,n.jsxs)("svg",{width:48,height:96,viewBox:"0 0 ".concat(48," ").concat(96),children:[[0,1,2].map(t=>(0,n.jsx)(l.Fragment,{children:(0,n.jsx)($.M,{children:e[t]&&(0,n.jsx)(ee.E.circle,{cx:12+12*t,cy:12.48,r:2.64,className:"fill-foreground",initial:{scale:0,x:[-8,-5,-2][t],y:-10},animate:{scale:1,x:0,y:0},exit:{scale:0,x:[8,5,2][t],y:-10},transition:{type:"spring",stiffness:500,damping:30}})})},t)),(0,n.jsx)(er,{isActive:s.some(e=>e)})]}),[0,1,2].map(e=>(0,n.jsx)(es,{x:12+12*e,y1:17.28,y2:56.64,isActive:s[e]},e))]})},eu=e=>{let{className:t,active:s}=e;return(0,n.jsxs)("div",{className:(0,A.cn)("relative inline-flex",t),children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor",className:"size-6 stroke-foreground-lighter",children:(0,n.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"})}),s?(0,n.jsx)("div",{className:"absolute -right-1.5 -top-1.5 bg-brand-500 rounded w-4 h-4 flex items-center justify-center",children:(0,n.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M8.33325 2.5L3.74992 7.08333L1.66659 5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}):(0,n.jsx)("div",{className:"absolute -right-1.5 -top-1.5 bg-destructive rounded w-4 h-4 flex items-center justify-center",children:(0,n.jsx)(B.Z,{size:10,strokeWidth:4,className:"text-white rounded-full"})})]})},ep=e=>{let{title:t}=e;return(0,n.jsx)("div",{className:"flex items-center justify-between px-4 py-1 bg-surface-100/50 border border-b-0 border-surface rounded-t",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(M.Z,{size:12,className:"text-foreground-muted",strokeWidth:1.5}),(0,n.jsx)("span",{className:"text-xs text-foreground-light",children:t})]})})},eh=e=>{var t;let{type:s="direct",badge:r,title:a,description:l,connectionString:c,ipv4Status:d,notice:u,parameters:p=[],lang:h="bash",fileTitle:x,onCopyCallback:g}=e,{ref:m}=(0,o.UO)(),f=(0,C.TF)(),{data:j}=(0,b.b)({projectRef:m}),v=null==j?void 0:j.find(e=>e.identifier===f.selectedDatabaseId),y=(null==v?void 0:v.pool_mode)==="session",N=null!==(t=d.links)&&void 0!==t?t:[];return(0,n.jsxs)("div",{className:"flex flex-col gap-5 lg:grid lg:grid-cols-2 lg:gap-20 w-full",children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("div",{className:"flex items-center gap-x-2 mb-2",children:[(0,n.jsx)("h1",{className:"text-sm",children:a}),!!r&&(0,n.jsx)(Q.C,{children:r})]}),(0,n.jsx)("p",{className:"text-sm text-foreground-light mb-4",children:l}),(0,n.jsxs)("div",{className:"flex flex-col -space-y-px",children:[x&&(0,n.jsx)(ep,{title:x}),"transaction"===s&&y?(0,n.jsx)(T.J,{showIcon:!1,type:"default",className:"[&>h5]:text-xs [&>div]:text-xs",title:"Transaction pooler is unavailable as pool mode is set to Session",description:"If you'd like to use transaction mode, update your pool mode to Transaction for the connection pooler in your project's Database Settings.",children:(0,n.jsx)(Y.z,{asChild:!0,type:"default",className:"mt-2",children:(0,n.jsx)(i(),{href:"/project/".concat(m,"/settings/database#connection-pooler"),className:"text-xs text-light hover:text-foreground",children:"Database Settings"})})}):(0,n.jsxs)(n.Fragment,{children:["session"===s&&y&&(0,n.jsx)(H.Z.Notice,{layout:"vertical",className:"border rounded mb-2",title:"Deprecating Session Mode on Port 6543",description:"Please use port 5432 for Session Mode as Supavisor will be deprecating Session Mode on port 6543 on February 28, 2025.",href:"https://github.com/orgs/supabase/discussions/32755",buttonText:"Read the announcement"}),(0,n.jsx)(P.d,{wrapperClassName:(0,A.cn)("[&_pre]:rounded-b-none [&_pre]:px-4 [&_pre]:py-3",x&&"[&_pre]:rounded-t-none"),language:h,value:c,className:"[&_code]:text-[12px] [&_code]:text-foreground",hideLineNumbers:!0,onCopyCallback:g}),u&&(0,n.jsx)("div",{className:"border px-4 py-1 w-full justify-start rounded-t-none !last:rounded-b group-data-[state=open]:rounded-b-none border-light",children:null==u?void 0:u.map(e=>(0,n.jsx)("p",{className:"text-xs text-foreground-lighter",children:e},e))}),p.length>0&&(0,n.jsx)(X,{parameters:p})]})]})]}),(0,n.jsx)("div",{className:"flex flex-col items-end",children:(0,n.jsxs)("div",{className:"flex flex-col -space-y-px w-full",children:["session"!==s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"relative border border-muted px-5 flex items-center gap-3 py-3 first:rounded-t last:rounded-b h-[58px]",children:[(0,n.jsx)("div",{className:"absolute top-2 left-2.5",children:"transaction"===s?(0,n.jsx)(ec,{}):(0,n.jsx)(ed,{})}),(0,n.jsx)("div",{className:"flex flex-col pl-[52px]",children:(0,n.jsx)("span",{className:"text-xs text-foreground",children:"transaction"===s?"Suitable for a large number of connected clients":"Suitable for long-lived, persistent connections"})})]}),(0,n.jsx)("div",{className:"border border-muted px-5 flex items-center gap-3 py-3 first:rounded-t last:rounded-b h-[58px]",children:(0,n.jsx)("div",{className:"flex flex-col pl-[52px]",children:(0,n.jsx)("span",{className:"text-xs text-foreground",children:"transaction"===s?"Pre-warmed connection pool to Postgres":"Each client has a dedicated connection to Postgres"})})})]}),(0,n.jsxs)("div",{className:"border border-muted px-5 flex gap-7 items-center py-3 first:rounded-t last:rounded-b",children:[(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)(eu,{active:"success"===d.type})}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"text-xs text-foreground",children:d.title}),d.description&&(0,n.jsx)("span",{className:"text-xs text-foreground-lighter",children:d.description}),N.length>0&&(0,n.jsx)("div",{className:"flex items-center gap-x-2 mt-2",children:N.map(e=>(0,n.jsx)(Y.z,{asChild:!0,type:"default",size:"tiny",children:(0,n.jsx)(i(),{href:e.url,className:"text-xs text-light hover:text-foreground",children:e.text})},e.text))})]})]}),"session"===s&&(0,n.jsxs)("div",{className:"border border-muted px-5 flex gap-7 items-center py-3 first:rounded-t last:rounded-b bg-alternative/50",children:[(0,n.jsx)("div",{className:"flex w-6 h-6 rounded items-center justify-center gap-2 flex-shrink-0 bg-surface-100",children:(0,n.jsx)(J.aN,{})}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"text-xs text-foreground",children:"Only use on a IPv4 network"}),(0,n.jsx)("span",{className:"text-xs text-foreground-lighter",children:"Use Direct Connection if connecting via an IPv6 network"})]})]}),"error"===d.type&&(0,n.jsxs)(L.zF,{className:"group -space-y-px",children:[(0,n.jsx)(L.wy,{asChild:!0,className:"group/collapse w-full justify-start rounded-t-none !last:rounded-b group-data-[state=open]:rounded-b-none border-muted",children:(0,n.jsx)(Y.z,{type:"default",size:"tiny",className:"text-foreground-lighter !bg-dash-sidebar",icon:(0,n.jsx)(V.Z,{className:(0,A.cn)("group-data-[state=open]/collapse:rotate-90 text-foreground-muted transition-transform")}),children:"Some platforms are IPv4-only:"})}),(0,n.jsx)(L.Fw,{className:"bg-dash-sidebar rounded-b border px-3 py-2",children:(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("p",{className:"text-xs text-foreground-light max-w-xs",children:"A few major platforms are IPv4-only and may not work with a Direct Connection:"}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)("div",{className:"text-foreground text-xs",children:"Vercel"}),(0,n.jsx)("div",{className:"text-foreground text-xs",children:"GitHub Actions"}),(0,n.jsx)("div",{className:"text-foreground text-xs",children:"Render"}),(0,n.jsx)("div",{className:"text-foreground text-xs",children:"Retool"})]}),(0,n.jsxs)("p",{className:"text-xs text-foreground-lighter max-w-xs",children:["If you wish to use a Direct Connection with these, please purchase"," ",(0,n.jsx)(i(),{href:"/project/".concat(m,"/settings/addons?panel=ipv4"),className:"text-xs text-light hover:text-foreground",children:"IPv4 support"}),"."]}),(0,n.jsxs)("p",{className:"text-xs text-foreground-lighter max-w-xs",children:["You may also use the"," ",(0,n.jsx)("span",{className:"text-foreground-light",children:"Session Pooler"})," or"," ",(0,n.jsx)("span",{className:"text-foreground-light",children:"Transaction Pooler"})," if you are on a IPv4 network."]})]})})]})]})})]})},ex=e=>{let{connectionInfo:t,poolingInfo:s,metadata:n}=e,r=s.connectionString.includes("options=reference"),{projectRef:i}=n,a="[YOUR-PASSWORD]",l=t.db_user,o=t.db_port,c=t.db_host,d=t.db_name,u=s.db_user,p=s.db_port,h=s.db_host,x=s.db_name,g=r?'psql "postgresql://'.concat(l,":").concat(a,"@").concat(c,":").concat(o,"/").concat(d,'"'):"psql -h ".concat(c," -p ").concat(o," -d ").concat(d," -U ").concat(l),m="postgresql://".concat(l,":").concat(a,"@").concat(c,":").concat(o,"/").concat(d),f="DATABASE_URL=".concat(m),j="jdbc:postgresql://".concat(c,":").concat(o,"/").concat(d,"?user=").concat(l,"&password=").concat(a),v='{\n  "ConnectionStrings": {\n    "DefaultConnection": "Host='.concat(c,";Database=").concat(d,";Username=").concat(l,";Password=").concat(a,';SSL Mode=Require;Trust Server Certificate=true"\n  }\n}'),b='{\n  "ConnectionStrings": {\n    "DefaultConnection": "User Id='.concat(u,";Password=").concat(a,";Server=").concat(h,";Port=").concat(p,";Database=").concat(x).concat(r?";Options='reference=".concat(i,"'"):"",'"\n  }\n}'),y=r?'psql "postgresql://'.concat(u,":").concat(a,"@").concat(h,":").concat(p,"/").concat(x,"?options=reference%3D").concat(i,'"'):"psql -h ".concat(h," -p ").concat(p," -d ").concat(x," -U ").concat(u),N=s.connectionString,k="DATABASE_URL=".concat(s.connectionString),w="user=".concat(u," \npassword=").concat(a," \nhost=").concat(h,"\nport=").concat(p,"\ndbname=").concat(x).concat(r?"options=reference=".concat(i):""),S="jdbc:postgresql://".concat(h,":").concat(p,"/").concat(x,"?user=").concat(u).concat(r?"&options=reference%3D".concat(i):"","&password=").concat(a),_="user=".concat(l," \npassword=").concat(a," \nhost=").concat(c," \nport=").concat(o," \ndbname=").concat(d),C="user=".concat(u," \npassword=").concat(a," \nhost=").concat(h," \nport=").concat(p," \ndbname=").concat(x);return{direct:{psql:g,uri:m,golang:f,jdbc:j,dotnet:v,nodejs:"DATABASE_URL=".concat(m),php:f,python:f,sqlalchemy:_},pooler:{psql:y,uri:N,golang:w,jdbc:S,dotnet:b,nodejs:k,php:w,python:w,sqlalchemy:C}}};var eg={nodejs:{installCommands:["npm install postgres"],files:[{name:"db.js",content:"import postgres from 'postgres'\n\nconst connectionString = process.env.DATABASE_URL\nconst sql = postgres(connectionString)\n\nexport default sql"}]},golang:{installCommands:["go get github.com/jackc/pgx/v5"],files:[{name:"main.go",content:'package main\n\nimport (\n	"context"\n	"log"\n	"os"\n	"github.com/jackc/pgx/v5"\n)\n\nfunc main() {\n	conn, err := pgx.Connect(context.Background(), os.Getenv("DATABASE_URL"))\n	if err != nil {\n		log.Fatalf("Failed to connect to the database: %v", err)\n	}\n	defer conn.Close(context.Background())\n\n	// Example query to test connection\n	var version string\n	if err := conn.QueryRow(context.Background(), "SELECT version()").Scan(&version); err != nil {\n		log.Fatalf("Query failed: %v", err)\n	}\n\n	log.Println("Connected to:", version)\n}'}]},dotnet:{installCommands:["dotnet add package Microsoft.Extensions.Configuration.Json --version YOUR_DOTNET_VERSION"],postInstallCommands:["dotnet add package Microsoft.Extensions.Configuration.Json --version YOUR_DOTNET_VERSION"]},python:{installCommands:["pip install python-dotenv psycopg2"],files:[{name:"main.py",content:'import psycopg2\nfrom dotenv import load_dotenv\nimport os\n\n# Load environment variables from .env\nload_dotenv()\n\n# Fetch variables\nUSER = os.getenv("user")\nPASSWORD = os.getenv("password")\nHOST = os.getenv("host")\nPORT = os.getenv("port")\nDBNAME = os.getenv("dbname")\n\n# Connect to the database\ntry:\n    connection = psycopg2.connect(\n        user=USER,\n        password=PASSWORD,\n        host=HOST,\n        port=PORT,\n        dbname=DBNAME\n    )\n    print("Connection successful!")\n    \n    # Create a cursor to execute SQL queries\n    cursor = connection.cursor()\n    \n    # Example query\n    cursor.execute("SELECT NOW();")\n    result = cursor.fetchone()\n    print("Current Time:", result)\n\n    # Close the cursor and connection\n    cursor.close()\n    connection.close()\n    print("Connection closed.")\n\nexcept Exception as e:\n    print(f"Failed to connect: {e}")'}]},sqlalchemy:{installCommands:["pip install python-dotenv sqlalchemy psycopg2"],files:[{name:"main.py",content:'from sqlalchemy import create_engine\n# from sqlalchemy.pool import NullPool\nfrom dotenv import load_dotenv\nimport os\n\n# Load environment variables from .env\nload_dotenv()\n\n# Fetch variables\nUSER = os.getenv("user")\nPASSWORD = os.getenv("password")\nHOST = os.getenv("host")\nPORT = os.getenv("port")\nDBNAME = os.getenv("dbname")\n\n# Construct the SQLAlchemy connection string\nDATABASE_URL = f"postgresql+psycopg2://{USER}:{PASSWORD}@{HOST}:{PORT}/{DBNAME}?sslmode=require"\n\n# Create the SQLAlchemy engine\nengine = create_engine(DATABASE_URL)\n# If using Transaction Pooler or Session Pooler, we want to ensure we disable SQLAlchemy client side pooling -\n# https://docs.sqlalchemy.org/en/20/core/pooling.html#switching-pool-implementations\n# engine = create_engine(DATABASE_URL, poolclass=NullPool)\n\n# Test the connection\ntry:\n    with engine.connect() as connection:\n        print("Connection successful!")\nexcept Exception as e:\n    print(f"Failed to connect: {e}")'}]}};let em=e=>{let{number:t,children:s,...r}=e;return(0,n.jsxs)("div",{...r,className:(0,A.cn)("flex items-center gap-2",r.className),children:[(0,n.jsx)("div",{className:"flex font-mono text-xs items-center justify-center w-6 h-6 border border-strong rounded-md bg-surface-100",children:t}),(0,n.jsx)("span",{children:s})]})},ef=()=>{var e,t,s,r,i,a,c,d,u,p,h,F,O;let{ref:U}=(0,o.UO)(),D=(0,w.l)(),B=(0,C.TF)(),M=(0,S.P)("dualPoolerSupport"),[V,H]=(0,l.useState)("uri"),{data:Q,error:Y,isLoading:J,isError:K,isSuccess:G}=(0,v.f)({projectRef:U}),{data:X,error:$,isLoading:ee,isError:et,isSuccess:es}=(0,b.b)({projectRef:U}),en=M&&!!(null==Q?void 0:Q.pgbouncer_enabled),er=en?Q:null==X?void 0:X.find(e=>e.identifier===B.selectedDatabaseId),{data:ei,error:ea,isLoading:el,isError:eo,isSuccess:ec}=(0,y.bN)({projectRef:U}),ed=(null!=ei?ei:[]).find(e=>e.identifier===B.selectedDatabaseId),{data:eu}=(0,N.F)({projectRef:U}),{ipv4:ef}=(0,g.OP)(null!==(r=null==eu?void 0:eu.selected_addons)&&void 0!==r?r:[]),{mutate:ej}=(0,k.a)(),ev=(0,_.Ff)(ed||{db_user:"",db_host:"",db_port:"",db_name:""},["db_host","db_name","db_port","db_user","inserted_at"]),eb=(e,t)=>{var s,n,r;let i=I.find(t=>t.id===e);ej({action:"connection_string_copied",properties:{connectionType:null!==(s=null==i?void 0:i.label)&&void 0!==s?s:"Unknown",lang:null!==(n=null==i?void 0:i.lang)&&void 0!==n?n:"Unknown",connectionMethod:t},groups:{project:null!=U?U:"Unknown",organization:null!==(r=null==D?void 0:D.slug)&&void 0!==r?r:"Unknown"}})},ey=es&&void 0!==er?ex({connectionInfo:ev,poolingInfo:{connectionString:er.connection_string,db_host:er.db_host,db_name:er.db_name,db_port:er.db_port,db_user:er.db_user},metadata:{projectRef:U}}):{direct:{uri:"",psql:"",golang:"",jdbc:"",dotnet:"",nodejs:"",php:"",python:"",sqlalchemy:""},pooler:{uri:"",psql:"",golang:"",jdbc:"",dotnet:"",nodejs:"",php:"",python:"",sqlalchemy:""}},eN=null!==(i=null===(e=I.find(e=>e.id===V))||void 0===e?void 0:e.lang)&&void 0!==i?i:"bash",ek=null!==(a=null===(t=I.find(e=>e.id===V))||void 0===t?void 0:t.contentType)&&void 0!==a?a:"input",ew=eg[V],eS=null==ew?void 0:ew.files,e_=null==ew?void 0:ew.installCommands,eC=null==ew?void 0:ew.postInstallCommands,eA=eS||e_,eE=null===(s=I.find(e=>e.id===V))||void 0===s?void 0:s.fileTitle,ez=0,eP={text:"Pooler settings",url:"/project/".concat(U,"/settings/database#connection-pooling")},eR=ef?[{text:"IPv4 settings",url:"/project/".concat(U,"/settings/addons?panel=ipv4")},...en?[eP]:[]]:[{text:"IPv4 add-on",url:"/project/".concat(U,"/settings/addons?panel=ipv4")},...en?[eP]:[]];return(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("div",{className:(0,A.cn)("flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3",E.gZ),children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("span",{className:"flex items-center text-foreground-lighter px-3 rounded-lg rounded-r-none text-xs border border-button border-r-0",children:"Type"}),(0,n.jsxs)(z.Ph,{value:V,onValueChange:e=>H(e),children:[(0,n.jsx)(z.i4,{size:"small",className:"w-auto rounded-l-none",children:(0,n.jsx)(z.ki,{})}),(0,n.jsx)(z.Bw,{children:I.map(e=>(0,n.jsx)(z.Ql,{value:e.id,children:e.label},e.id))})]})]}),(0,n.jsx)(f.Z,{buttonProps:{size:"small"}})]}),((en?J:ee)||el)&&(0,n.jsx)("div",{className:"p-7",children:(0,n.jsx)(j.Z,{className:"h-8 w-full"})}),((en?K:et)||eo)&&(0,n.jsx)("div",{className:"p-7",children:(0,n.jsx)(m.Z,{error:(en?Y:$)||ea,subject:"Failed to retrieve database settings"})}),(en?G:es)&&ec&&(0,n.jsxs)("div",{className:"flex flex-col divide-y divide-border",children:[eA&&(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-x-20 w-full px-4 md:px-7 py-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(em,{number:++ez,className:"mb-4",children:"Install the following"}),null==e_?void 0:e_.map((e,t)=>(0,n.jsx)(P.d,{className:"[&_code]:text-[12px] [&_code]:text-foreground",value:e,hideLineNumbers:!0,language:"bash",children:e},t))]}),eS&&(null==eS?void 0:eS.length)>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)(em,{number:++ez,className:"mb-4",children:"Add file to project"}),null==eS?void 0:eS.map((e,t)=>(0,n.jsxs)("div",{children:[(0,n.jsx)(ep,{title:e.name}),(0,n.jsx)(P.d,{wrapperClassName:"[&_pre]:max-h-40 [&_pre]:px-4 [&_pre]:py-3 [&_pre]:rounded-t-none",value:e.content,hideLineNumbers:!0,language:eN,className:"[&_code]:text-[12px] [&_code]:text-foreground"})]},t))]})]}),(0,n.jsxs)("div",{children:[eA&&(0,n.jsx)("div",{className:"px-4 md:px-7 pt-8",children:(0,n.jsx)(em,{number:++ez,children:"Choose type of connection"})}),(0,n.jsxs)("div",{className:"divide-y divide-border-muted [&>div]:px-4 [&>div]:md:px-7 [&>div]:py-8",children:[(0,n.jsx)(eh,{contentType:ek,lang:eN,type:"direct",title:"Direct connection",fileTitle:eE,description:"Ideal for applications with persistent, long-lived connections, such as those running on virtual machines or long-standing containers.",connectionString:ey.direct[V],ipv4Status:{type:ef?"success":"error",title:ef?"IPv4 compatible":"Not IPv4 compatible",description:en&&!ef?W:en?q:"Use Session Pooler if on a IPv4 network or purchase IPv4 add-on",links:eR},parameters:[{...Z.host,value:ev.db_host},{...Z.port,value:ev.db_port},{...Z.database,value:ev.db_name},{...Z.user,value:ev.db_user}],onCopyCallback:()=>eb(V,"direct")}),(0,n.jsx)(eh,{contentType:ek,lang:eN,type:"transaction",title:"Transaction pooler",badge:en?"Dedicated Pooler":"Supavisor",fileTitle:eE,description:"Ideal for stateless applications like serverless functions where each interaction with Postgres is brief and isolated.",connectionString:ey.pooler[V],ipv4Status:{type:en&&!ef?"error":"success",title:en&&!ef?"IPv4 incompatible":"IPv4 compatible",description:en&&!ef?W:en?q:"Transaction pooler connections are IPv4 proxied for free.",links:en?eR:void 0},notice:["Does not support PREPARE statements"],parameters:[{...Z.host,value:null!==(c=null==er?void 0:er.db_host)&&void 0!==c?c:""},{...Z.port,value:null!==(d=null==er?void 0:er.db_port.toString())&&void 0!==d?d:"6543"},{...Z.database,value:null!==(u=null==er?void 0:er.db_name)&&void 0!==u?u:""},{...Z.user,value:null!==(p=null==er?void 0:er.db_user)&&void 0!==p?p:""},{...Z.pool_mode,value:"transaction"}],onCopyCallback:()=>eb(V,"transaction_pooler")}),ef&&!en&&(0,n.jsx)(T.J,{type:"warning",title:"Highly recommended to not use Session Pooler",className:"[&>div]:gap-0 px-8 [&>svg]:left-7 border-0 border-b rounded-none border-border-muted !py-4 mb-0",children:(0,n.jsx)("p",{className:"text-sm text-foreground-lighter !mb-0",children:"If you are using Session Pooler, we recommend switching to Direct Connection."})}),(0,n.jsx)(eh,{contentType:ek,lang:eN,type:"session",title:"Session pooler",badge:en?"Dedicated Pooler":"Supavisor",fileTitle:eE,description:en?"Recommended if you need to use prepared statements, or other features that are only available in Session mode.":"Only recommended as an alternative to Direct Connection, when connecting via an IPv4 network.",connectionString:ey.pooler[V].replace("6543","5432"),ipv4Status:{type:en&&!ef?"error":"success",title:en&&!ef?"IPv4 incompatible":"IPv4 compatible",description:en&&!ef?W:en?q:"Session pooler connections are IPv4 proxied for free",links:en?eR:void 0},parameters:[{...Z.host,value:null!==(h=null==er?void 0:er.db_host)&&void 0!==h?h:""},{...Z.port,value:"5432"},{...Z.database,value:null!==(F=null==er?void 0:er.db_name)&&void 0!==F?F:""},{...Z.user,value:null!==(O=null==er?void 0:er.db_user)&&void 0!==O?O:""},{...Z.pool_mode,value:"session"}],onCopyCallback:()=>eb(V,"session_pooler")})]})]}),eC&&(0,n.jsx)("div",{className:"grid grid-cols-2 gap-20 w-full px-4 md:px-7 py-10",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(em,{number:++ez,className:"mb-4",children:"Add the configuration package to read the settings"}),null==eC?void 0:eC.map((e,t)=>(0,n.jsx)(P.d,{className:"text-sm",value:e,hideLineNumbers:!0,language:"bash",children:e},t))]})})]}),"python"===V&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(R.Z,{}),(0,n.jsxs)(L.zF,{className:"px-8 pt-5",children:[(0,n.jsx)(L.wy,{className:"group [&[data-state=open]>div>svg]:!-rotate-180",children:(0,n.jsxs)("div",{className:"flex items-center gap-x-2 w-full",children:[(0,n.jsx)("p",{className:"text-xs text-foreground-light group-hover:text-foreground transition",children:"Connecting to SQL Alchemy"}),(0,n.jsx)(x.Z,{className:"transition-transform duration-200",strokeWidth:1.5,size:14})]})}),(0,n.jsx)(L.Fw,{className:"my-2",children:(0,n.jsxs)("div",{className:"text-foreground-light text-xs grid gap-2",children:[(0,n.jsxs)("p",{children:["Please use ",(0,n.jsx)("code",{children:"postgresql://"})," instead of ",(0,n.jsx)("code",{children:"postgres://"})," as your dialect when connecting via SQLAlchemy."]}),(0,n.jsxs)("p",{children:["Example:",(0,n.jsx)("code",{children:'create_engine("postgresql+psycopg2://...")'})]}),(0,n.jsx)("p",{className:"text-sm font-mono tracking-tight text-foreground-lighter"})]})})]})]})]})};var ej=s(2861),ev=s(38391),eb=s(94281),ey=s(289),eN=s(56535),ek=s(19337);let ew=e=>{let{connectionObject:t,selectedParent:s,selectedChild:n,selectedGrandchild:r}=e,i=t.find(e=>e.key===s);if(i){let e=i.children.find(e=>e.key===n);return e?e.children.find(e=>e.key===r)?"".concat(s,"/").concat(n,"/").concat(r):"".concat(s,"/").concat(n):s}return""};var eS=s(46427),e_=s(12753),eC=s(22921),eA=s(98809),eE=s(51650),ez=s.n(eE);let eP=e=>{let{connection:t}=e,{resolvedTheme:s}=(0,eA.F)(),r=["ionic-angular"].includes(t)?"icons/frameworks":"libraries";return(0,n.jsx)(ez(),{className:"transition-all group-hover:scale-110",src:"".concat(eN.GW,"/img/").concat(r,"/").concat(t.toLowerCase()).concat(["expo","nextjs","prisma","drizzle","astro","remix"].includes(t.toLowerCase())&&(null==s?void 0:s.includes("dark"))?"-dark":"").concat("icons/frameworks"===r?"":"-icon",".svg"),alt:"".concat(t," logo"),width:14,height:14})};var eR=e=>{let{state:t,updateState:s,label:r,items:i}=e,[a,o]=(0,l.useState)(!1),c=i.find(e=>e.key===t);return(0,n.jsxs)(e_.J2,{open:a,onOpenChange:o,modal:!1,children:[(0,n.jsxs)("div",{className:"flex ",children:[(0,n.jsx)("span",{className:"flex items-center text-foreground-lighter px-3 rounded-lg rounded-r-none text-xs border border-button border-r-0",children:r}),(0,n.jsx)(e_.xo,{asChild:!0,children:(0,n.jsx)(Y.z,{size:"small",type:"default",className:"gap-0 rounded-l-none",iconRight:(0,n.jsx)(x.Z,{strokeWidth:1.5}),children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(null==c?void 0:c.icon)?(0,n.jsx)(eP,{connection:c.icon}):(0,n.jsx)(eS.Z,{size:12}),null==c?void 0:c.label]})})})]}),(0,n.jsx)(e_.yk,{className:"p-0 max-w-48",side:"bottom",align:"start",children:(0,n.jsxs)(eC.mY,{children:[(0,n.jsx)(eC.sZ,{placeholder:"Search..."}),(0,n.jsxs)(eC.e8,{children:[(0,n.jsx)(eC.rb,{children:"No results found."}),(0,n.jsx)(eC.fu,{children:i.map(e=>(0,n.jsxs)(eC.di,{value:e.key,onSelect:()=>{s(e.key),o(!1),o(!1)},className:"flex gap-2 items-center",children:[e.icon?(0,n.jsx)(eP,{connection:e.icon}):(0,n.jsx)(eS.Z,{size:12}),e.label,(0,n.jsx)(K.Z,{size:15,className:(0,A.cn)("ml-auto  ",e.key===t?"opacity-100":"opacity-0")})]},e.key))})]})]})})]})},eL=s(34583),eT=s.n(eL);let eI=(0,l.forwardRef)((e,t)=>{let{projectKeys:r,filePath:i,...a}=e,{ref:c}=(0,o.UO)(),d=(0,S.P)("dualPoolerSupport"),{data:u}=(0,ev.zR)({projectRef:c}),{data:p}=(0,v.f)({projectRef:c}),{data:h}=(0,b.b)({projectRef:c}),x=d&&!!(null==p?void 0:p.pgbouncer_enabled),g=(0,_.Ff)(u||{db_user:"",db_host:"",db_port:"",db_name:""},["db_host","db_name","db_port","db_user","inserted_at"]),m=x?p:null==h?void 0:h.find(e=>"PRIMARY"===e.database_type),f=void 0!==m?ex({connectionInfo:g,poolingInfo:{connectionString:m.connection_string,db_host:m.db_host,db_name:m.db_name,db_port:m.db_port,db_user:m.db_user},metadata:{projectRef:c}}):{direct:{uri:""},pooler:{uri:""}},y=f.pooler,N=f.direct,k=y.uri,w=y.uri.replace("6543","5432"),C=(0,l.useMemo)(()=>eT()(()=>s(45213)("./".concat(i,"/content")),{loading:()=>(0,n.jsx)("div",{className:"p-4 min-h-[331px]",children:(0,n.jsx)(j.A,{})})}),[i]);return(0,n.jsx)("div",{ref:t,...a,className:(0,A.cn)("border rounded-lg",a.className),children:(0,n.jsx)(C,{projectKeys:r,filePath:i,connectionStringPooler:{transaction:k,session:w},connectionStringDirect:N.uri})})});eI.displayName="ConnectTabContent";var eZ=()=>{var e,t,s,r,i,a,c,x,g,m,f;let{ref:j}=(0,o.UO)(),v=(0,ey.Vm)(),b=(null==v?void 0:v.status)===eN.S.ACTIVE_HEALTHY,[y,N]=(0,h.v1)("showConnect",h.AE.withDefault(!1)),[k,w]=(0,l.useState)(F),[S,_]=(0,l.useState)(k[0].key),[C,z]=(0,l.useState)(null!==(x=null===(t=k.find(e=>e.key===S))||void 0===t?void 0:null===(e=t.children[0])||void 0===e?void 0:e.key)&&void 0!==x?x:""),[P,R]=(0,l.useState)((null===(i=k.find(e=>e.key===S))||void 0===i?void 0:null===(r=i.children.find(e=>e.key===C))||void 0===r?void 0:null===(s=r.children[0])||void 0===s?void 0:s.key)||""),{data:L}=(0,ev.zR)({projectRef:j}),T=(0,eb.Xo)(d.KA.READ,"service_api_keys"),I=e=>{var t,s,n,r,i,a,l;_(e),z(null!==(a=null===(s=k.find(t=>t.key===e))||void 0===s?void 0:null===(t=s.children[0])||void 0===t?void 0:t.key)&&void 0!==a?a:""),R(null!==(l=null===(i=k.find(t=>t.key===e))||void 0===i?void 0:null===(r=i.children[0])||void 0===r?void 0:null===(n=r.children[0])||void 0===n?void 0:n.key)&&void 0!==l?l:"")},Z=e=>{z(e);let t=k.find(e=>e.key===S),s=null==t?void 0:t.children.find(t=>t.key===e);s&&s.children.length>0?R(s.children[0].key):R("")},W=e=>{R(e)};function q(e){var t,s;_(e[0].key),(null===(t=e[0])||void 0===t?void 0:t.children.length)>0?(z(e[0].children[0].key),(null===(s=e[0].children[0])||void 0===s?void 0:s.children.length)>0?R(e[0].children[0].children[0].key):R("")):(z(""),R(""))}let B=()=>{let e=k.find(e=>e.key===S);return e&&e.children.length>0?e.children:[]},M=()=>{let e=k.find(e=>e.key===S),t=null==e?void 0:e.children.find(e=>e.key===C);return t&&t.children.length>0?t.children:[]},V=null!==(g=null==L?void 0:null===(a=L.app_config)||void 0===a?void 0:a.protocol)&&void 0!==g?g:"https",Q=null!==(m=null==L?void 0:null===(c=L.app_config)||void 0===c?void 0:c.endpoint)&&void 0!==m?m:"",J=T?"".concat(V,"://").concat(null!=Q?Q:"-"):"",{anonKey:K}=T?(0,ev.Pb)(L):{anonKey:null},G={apiUrl:T?J:null,anonKey:null!==(f=null==K?void 0:K.api_key)&&void 0!==f?f:null},X=ew({connectionObject:k,selectedParent:S,selectedChild:C,selectedGrandchild:P});return b?(0,n.jsxs)(E.Vq,{open:y,onOpenChange:e=>N(e||null),children:[(0,n.jsx)(E.hg,{asChild:!0,children:(0,n.jsx)(Y.z,{type:"default",className:"rounded-full",icon:(0,n.jsx)(u.Z,{className:"rotate-90"}),children:(0,n.jsx)("span",{children:"Connect"})})}),(0,n.jsxs)(E.cZ,{className:(0,A.cn)("sm:max-w-5xl p-0"),centered:!1,children:[(0,n.jsxs)(E.fK,{className:E.gZ,children:[(0,n.jsx)(E.$N,{children:"Connect to your project"}),(0,n.jsx)(E.Be,{children:"Get the connection strings and environment variables for your app"})]}),(0,n.jsxs)(ek.mQ,{defaultValue:"direct",onValueChange:e=>{"frameworks"===e&&(w(F),q(F)),"mobiles"===e&&(w(O),q(O)),"orms"===e&&(w(U),q(U))},children:[(0,n.jsx)(ek.dr,{className:(0,A.cn)("flex overflow-x-scroll gap-x-4",E.gZ),children:D.map(e=>(0,n.jsx)(ek.SP,{value:e.key,className:"px-0",children:e.label},e.key))}),D.map(e=>{var t,s,r,i,a,l;let o=((null===(t=k.find(e=>e.key===S))||void 0===t?void 0:t.children.length)||0)>0,c=((null===(r=k.find(e=>e.key===S))||void 0===r?void 0:null===(s=r.children.find(e=>e.key===C))||void 0===s?void 0:s.children.length)||0)>0;return"direct"===e.key?(0,n.jsx)(ek.nU,{value:"direct",className:(0,A.cn)("!mt-0","p-0","flex flex-col gap-6"),children:(0,n.jsx)("div",{className:E.rR,children:(0,n.jsx)(ef,{})})},"direct"):(0,n.jsxs)(ek.nU,{value:e.key,className:(0,A.cn)(E.gZ,E.rR,"!mt-0"),children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-2 justify-between",children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3",children:[(0,n.jsx)(eR,{state:S,updateState:I,label:k===F||k===O?"Framework":"Tool",items:k}),S&&o&&(0,n.jsx)(eR,{state:C,updateState:Z,label:"Using",items:B()}),C&&c&&(0,n.jsx)(eR,{state:P,updateState:W,label:"With",items:M()})]}),(null===(i=k.find(e=>e.key===S))||void 0===i?void 0:i.guideLink)&&(0,n.jsx)(Y.z,{asChild:!0,type:"default",icon:(0,n.jsx)(p.Z,{strokeWidth:1.5}),children:(0,n.jsxs)("a",{target:"_blank",rel:"noreferrer",href:(null===(a=k.find(e=>e.key===S))||void 0===a?void 0:a.guideLink)||"",children:[null===(l=k.find(e=>e.key===S))||void 0===l?void 0:l.label," guide"]})})]}),(0,n.jsx)("p",{className:"text-xs text-foreground-lighter my-3",children:"Add the following files below to your application"}),(0,n.jsx)(eI,{projectKeys:G,filePath:X,className:"rounded-b-none"}),(0,n.jsx)(H.Z.Notice,{className:"border border-t-0 rounded-lg rounded-t-none",title:"New API keys coming 2025",description:"\n`anon` and `service_role` API keys will be changing to `publishable` and `secret` API keys.   \n",href:"https://github.com/orgs/supabase/discussions/29260",buttonText:"Read the announcement"})]},"content-".concat(e.key))})]})]})]}):(0,n.jsx)(ej.u,{disabled:!0,type:"default",className:"rounded-full",icon:(0,n.jsx)(u.Z,{className:"rotate-90"}),tooltip:{content:{side:"bottom",text:"Project is currently not active and cannot be connected"}},children:"Connect"})},eF=s(41212),eO=s(8294),eU=()=>{let{setAiAssistantPanel:e,aiAssistantPanel:t}=(0,eF.WZ)();return(0,n.jsx)(Y.z,{type:"text",size:"tiny",id:"assistant-trigger",className:"h-full w-full rounded-none",onClick:()=>{e({open:!t.open})},children:(0,n.jsx)(eO.c,{allowHoverEffect:!0,size:20})})},eD=s(58241),eW=s(19369),eq=s(26833),eB=s(8535),eM=s(6081),eV=s(67354),eH=s(12361),eQ=s(4534),eY=s(19890),eJ=s(20424);let eK=(e,t)=>{if(!(Object.entries(t).length>1))return e;{let s="bucketId"in t,n="preset"in t;return e.split("/").slice(0,s||n?5:4).join("/")}},eG=e=>{var t;let{project:s,setOpen:r}=e,l=(0,a.useRouter)(),{ref:c}=(0,o.UO)(),d=eK(l.route,l.query),u=null!==(t=null==d?void 0:d.replace("[ref]",s.ref))&&void 0!==t?t:"/project/".concat(s.ref);return(0,n.jsx)(eC.di,{value:"".concat(s.name.replaceAll('"',""),"-").concat(s.ref),className:"cursor-pointer w-full",onSelect:()=>{l.push(u),r(!1)},onClick:()=>r(!1),children:(0,n.jsxs)(i(),{href:u,className:"w-full flex items-center justify-between",children:[s.name,s.ref===c&&(0,n.jsx)(K.Z,{size:16})]})},s.ref)};var eX=e=>{let{isNewNav:t=!1}=e,s=(0,a.useRouter)(),{ref:r}=(0,o.UO)(),c=(0,ey.Vm)(),d=(0,w.l)(),{data:u,isLoading:p}=(0,eY.Sy)(),h=(0,eJ.N)("projects:create"),x=(null==c?void 0:c.parentRef)!==(null==c?void 0:c.ref),g=t?null==u?void 0:u.filter(e=>e.organization_id===(null==d?void 0:d.id)).sort((e,t)=>e.name.localeCompare(t.name)):null==u?void 0:u.sort((e,t)=>e.name.localeCompare(t.name)),m=x?null==g?void 0:g.find(e=>e.ref===(null==c?void 0:c.parentRef)):null==g?void 0:g.find(e=>e.ref===r),[f,v]=(0,l.useState)(!1);return p||!m?(0,n.jsx)(j.Z,{className:"w-[90px]"}):eN.Qy?(0,n.jsxs)(e_.J2,{open:f,onOpenChange:v,modal:!1,children:[(0,n.jsx)(e_.xo,{asChild:!0,children:(0,n.jsx)(Y.z,{type:"text",className:"pr-2",iconRight:(0,n.jsx)(eq.Z,{}),children:(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsx)("p",{className:t?"text-sm":"text-xs",children:null==m?void 0:m.name})})})}),(0,n.jsx)(e_.yk,{className:"p-0",side:"bottom",align:"start",children:(0,n.jsxs)(eC.mY,{children:[(0,n.jsx)(eC.sZ,{placeholder:"Find project..."}),(0,n.jsxs)(eC.e8,{children:[(0,n.jsx)(eC.rb,{children:"No projects found"}),(0,n.jsx)(eC.fu,{children:(0,n.jsx)(eH.xr,{className:(g||[]).length>7?"h-[210px]":"",children:null==g?void 0:g.map(e=>(0,n.jsx)(eG,{project:e,setOpen:v},e.ref))})}),h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eC.zz,{}),(0,n.jsx)(eC.fu,{children:(0,n.jsx)(eC.di,{className:"cursor-pointer w-full",onSelect:()=>{v(!1),s.push("/new/".concat(null==d?void 0:d.slug))},onClick:()=>v(!1),children:(0,n.jsxs)(i(),{href:"/new/".concat(null==d?void 0:d.slug),onClick:()=>{v(!1)},className:"w-full flex items-center gap-2",children:[(0,n.jsx)(eQ.Z,{size:14,strokeWidth:1.5}),(0,n.jsx)("p",{children:"New project"})]})})})]})]})]})})]}):(0,n.jsx)(Y.z,{type:"text",children:(0,n.jsx)("span",{className:t?"text-sm":"text-xs",children:null==m?void 0:m.name})})};let e$=e=>{var t;let{branch:s,isSelected:r,setOpen:l}=e,o=(0,a.useRouter)(),c=eK(o.route,o.query),d=null!==(t=null==c?void 0:c.replace("[ref]",s.project_ref))&&void 0!==t?t:"/project/".concat(s.project_ref);return(0,n.jsx)(i(),{passHref:!0,href:d,children:(0,n.jsxs)(eC.di,{value:s.name.replaceAll('"',""),className:"cursor-pointer w-full flex items-center justify-between",onSelect:()=>{l(!1),o.push(d)},onClick:()=>{l(!1)},children:[(0,n.jsxs)("p",{className:"truncate w-60 flex items-center gap-1",title:s.name,children:[s.is_default&&(0,n.jsx)(eD.Z,{size:14,className:"text-amber-900"}),s.name]}),r&&(0,n.jsx)(K.Z,{size:14,strokeWidth:1.5})]})})};var e0=e=>{let{isNewNav:t=!1}=e,s=(0,a.useRouter)(),{ref:r}=(0,o.UO)(),c=(0,ey.Vm)(),d=(null==c?void 0:c.parent_project_ref)!==void 0,u=void 0!==c?d?c.parent_project_ref:r:void 0,{data:p,isLoading:h,isError:x,isSuccess:g}=(0,eV.V)({projectRef:u}),[m,f]=(0,l.useState)(!1),v=null==p?void 0:p.find(e=>e.project_ref===r),b=null==p?void 0:p.find(e=>e.is_default),y=null==p?void 0:p.filter(e=>!e.is_default).sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()),N=b?[b].concat(null!=y?y:[]):null!=y?y:[],k="https://github.com/orgs/supabase/discussions/18937";return(0,n.jsxs)(n.Fragment,{children:[h&&(0,n.jsx)(j.Z,{className:"w-[90px]"}),x&&(0,n.jsxs)("div",{className:"flex items-center space-x-2 text-amber-900",children:[(0,n.jsx)(eW.Z,{size:16,strokeWidth:2}),(0,n.jsx)("p",{className:"text-sm",children:"Failed to load branches"})]}),g&&p.length>0&&(0,n.jsx)("div",{className:"flex items-center px-2",children:(0,n.jsxs)(e_.J2,{open:m,onOpenChange:f,modal:!1,children:[(0,n.jsx)(e_.xo,{asChild:!0,children:(0,n.jsx)(Y.z,{type:"text",className:"pr-2",iconRight:(0,n.jsx)(eq.Z,{}),children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("p",{className:t?"text-sm":"text-xs",children:null==v?void 0:v.name}),(null==v?void 0:v.is_default)?(0,n.jsx)(Q.C,{variant:"warning",children:"Production"}):(0,n.jsx)(Q.C,{variant:"brand",children:"Preview Branch"})]})})}),(0,n.jsx)(e_.yk,{className:"p-0",side:"bottom",align:"start",children:(0,n.jsxs)(eC.mY,{children:[(0,n.jsx)(eC.sZ,{placeholder:"Find branch..."}),(0,n.jsxs)(eC.e8,{children:[(0,n.jsx)(eC.rb,{children:"No branches found"}),(0,n.jsx)(eC.fu,{children:(0,n.jsx)(eH.xr,{className:"max-h-[210px] overflow-y-auto",children:null==N?void 0:N.map(e=>(0,n.jsx)(e$,{branch:e,isSelected:e.id===(null==v?void 0:v.id),setOpen:f},e.id))})}),(0,n.jsx)(eC.zz,{}),(0,n.jsx)(eC.fu,{children:(0,n.jsx)(eC.di,{className:"cursor-pointer w-full",onSelect:e=>{f(!1),s.push("/project/".concat(r,"/branches"))},onClick:()=>f(!1),children:(0,n.jsxs)(i(),{href:"/project/".concat(r,"/branches"),className:"w-full flex items-center gap-2",children:[(0,n.jsx)(eB.Z,{size:14,strokeWidth:1.5}),(0,n.jsx)("p",{children:"Manage branches"})]})})}),(0,n.jsx)(eC.zz,{}),(0,n.jsx)(eC.fu,{children:(0,n.jsx)(eC.di,{className:"cursor-pointer w-full",onSelect:()=>{var e,t;f(!1),null===(t=window)||void 0===t||null===(e=t.open(k,"_blank"))||void 0===e||e.focus()},onClick:()=>f(!1),children:(0,n.jsxs)(i(),{href:k,target:"_blank",onClick:()=>{f(!1)},className:"w-full flex gap-2",children:[(0,n.jsx)(eM.Z,{size:14,strokeWidth:1,className:"text-muted mt-0.5"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:"Branching feedback"}),(0,n.jsx)("p",{className:"text-lighter",children:"Join Github Discussion"})]})]})})})]})]})})]})})]})},e1=s(70111),e2=e=>{let{isNewNav:t=!1}=e,s=(0,eF.WZ)(),r=(0,ey.Vm)(),i=(0,eb.Xo)(d.KA.CREATE,"preview_branches",{resource:{is_default:!0}}),a=!i||(null==r?void 0:r.status)!=="ACTIVE_HEALTHY";return(0,n.jsx)(ej.u,{disabled:a,type:t?"default":"text",icon:(0,n.jsx)(e1.Z,{strokeWidth:1.5}),onClick:()=>s.setShowEnableBranchingModal(!0),tooltip:{content:{side:"bottom",text:(null==r?void 0:r.status)!=="ACTIVE_HEALTHY"?"Unpause your project to enable branching":i?void 0:"You need additional permissions to enable branching"}},children:"Enable branching"})},e3=()=>{let{setEditorPanel:e,editorPanel:t}=(0,eF.WZ)();return(0,n.jsx)(Y.z,{type:"text",size:"tiny",id:"editor-trigger",className:"h-full w-full rounded-none text-foreground-light",onClick:()=>{e({open:!t.open})},children:(0,n.jsx)(et.vu,{size:20,strokeWidth:1.5})})},e4=s(74261),e5=s(5359),e6=s(63864),e8=e=>{let{isNewNav:t=!1}=e,s=(0,a.useRouter)(),r=(0,w.l)(),{data:o,isLoading:c}=(0,e4.tl)(),d=(0,eJ.N)("organizations:create"),u=null==r?void 0:r.slug,p=null==r?void 0:r.name,{data:h,isSuccess:x}=(0,e5.Gl)({orgSlug:u}),[g,m]=(0,l.useState)(!1);return c?(0,n.jsx)(j.Z,{className:"w-[90px]"}):(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsxs)(e_.J2,{open:g,onOpenChange:m,modal:!1,children:[(0,n.jsx)(e_.xo,{asChild:!0,children:(0,n.jsx)(Y.z,{type:"text",className:"pr-2",iconRight:(0,n.jsx)(eq.Z,{}),children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("p",{className:t?"text-sm":"text-xs",children:p}),x&&(0,n.jsx)(Q.C,{variant:"default",children:null==h?void 0:h.plan.name})]})})}),(0,n.jsx)(e_.yk,{className:"p-0",side:"bottom",align:"start",children:(0,n.jsxs)(eC.mY,{children:[(0,n.jsx)(eC.sZ,{placeholder:"Find organization..."}),(0,n.jsxs)(eC.e8,{children:[(0,n.jsx)(eC.rb,{children:"No organizations found"}),(0,n.jsx)(eC.fu,{children:(0,n.jsx)(eH.xr,{className:(o||[]).length>7?"h-[210px]":"",children:null==o?void 0:o.map(e=>{let r=s.pathname.includes("[slug]")?s.pathname.replace("[slug]",e.slug):t?"/org/".concat(e.slug):"/org/".concat(e.slug,"/general");return(0,n.jsx)(eC.di,{value:"".concat(e.name.replaceAll('"',"")," - ").concat(e.slug),className:"cursor-pointer w-full",onSelect:()=>{m(!1),s.push(r)},onClick:()=>m(!1),children:(0,n.jsxs)(i(),{href:r,className:"w-full flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{children:e.name}),(0,n.jsx)(e6.Z,{organization:e})]}),e.slug===u&&(0,n.jsx)(K.Z,{size:16})]})},e.slug)})})}),d&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eC.zz,{}),(0,n.jsx)(eC.fu,{children:(0,n.jsx)(eC.di,{className:"cursor-pointer w-full",onSelect:e=>{m(!1),s.push("/new")},onClick:()=>m(!1),children:(0,n.jsxs)(i(),{href:"/new",className:"flex items-center gap-2 w-full",children:[(0,n.jsx)(eQ.Z,{size:14,strokeWidth:1.5}),(0,n.jsx)("p",{children:"New organization"})]})})})]})]})]})})]})})};let e9=e=>e.length?e.filter(e=>{if(!e.capped||!e.available_in_plan||e.unlimited||"DISK_IOPS_GP3"===e.metric)return!1;let t=e.pricing_free_units||0;return e.usage>t}).map(e=>e.metric):[];var e7=s(49390),te=e=>{let{defaultValue:t}=e;return(0,n.jsx)(n.Fragment,{children:(null==t?void 0:t.length)?t.map((e,t)=>(0,n.jsxs)(l.Fragment,{children:[t>0&&(0,n.jsx)("span",{className:"text-border-stronger dark:text-border-strong",children:(0,n.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,n.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),(0,n.jsx)("a",{onClick:e.onClick||(()=>{}),className:"text-gray-1100 block px-2 py-1 text-xs leading-5 focus:bg-gray-100 focus:text-gray-900 focus:outline-none ".concat(e.onClick?"cursor-pointer hover:text-white":""),children:e.label})]},e.key)):null})},tt=s(8933),ts=s(76125),tn=s(797),tr=s(10335),ti=s(34549),ta=s(61711),tl=s(36457),to=s(64618),tc=s(129);let td=()=>["notifications"],tu=e=>["notifications",e],tp=()=>["notifications","summary"];async function th(){let{data:e,error:t}=await (0,tc.r$)("/platform/notifications/archive-all",{headers:{Version:"2"}});return t&&(0,tc.S3)(t),e}let tx=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,tl.NL)();return(0,to.D)(()=>th(),{async onSuccess(t,s,r){await n.invalidateQueries(td()),await (null==e?void 0:e(t,s,r))},async onError(e,s,n){void 0===t?ti.Am.error("Failed to archive all notifications: ".concat(e.message)):t(e,s,n)},...s})};var tg=s(90688);async function tm(e,t){let{status:s,filters:n,page:r=0,limit:i=10}=e,{data:a,error:l}=await (0,tc.U2)("/platform/notifications",{params:{query:{offset:String(r*i),limit:String(i),...void 0!==s?{status:s}:{status:"new,seen"},...n.priority.length>0?{priority:n.priority.join(",")}:{},...n.organizations.length>0?{org_slug:n.organizations.join(",")}:{},...n.projects.length>0?{project_ref:n.projects.join(",")}:{}}},headers:{Version:"2"},signal:t});return l&&(0,tc.S3)(l),a}let tf=function(e){let{status:t,filters:s,limit:n=10}=e,{enabled:r=!0,...i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,tg.N)(tu({status:t,filters:s,limit:n}),e=>{let{signal:r,pageParam:i}=e;return tm({status:t,filters:s,limit:n,page:i},r)},{enabled:r,getNextPageParam(e,t){let s=t.length;if(!((null!=e?e:[]).length<n))return s},...i})};var tj=s(28894);async function tv(e){let{data:t,error:s}=await (0,tc.U2)("/platform/notifications/summary",{signal:e});return s&&(0,tc.S3)(s),t}let tb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,tj.a)(tp(),e=>{let{signal:t}=e;return tv(t)},e)};async function ty(e){let{ids:t,status:s}=e,{data:n,error:r}=await (0,tc.r$)("/platform/notifications",{body:t.map(e=>({id:e,status:s})),headers:{Version:"2"}});return r&&(0,tc.S3)(r),n}let tN=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,tl.NL)();return(0,to.D)(e=>ty(e),{async onSuccess(t,s,r){await n.invalidateQueries(["notifications"]),await (null==e?void 0:e(t,s,r))},async onError(e,s,n){void 0===t?ti.Am.error("Failed to update notifications: ".concat(e.message)):t(e,s,n)},...s})};var tk=s(28622),tw=s(34653);let tS=(0,tk.sj)({filterStatuses:[],filterPriorities:[],filterOrganizations:[],filterProjects:[],get numFiltersApplied(){return[...this.filterStatuses,...this.filterPriorities,...this.filterOrganizations,...this.filterProjects].length},setFilters:(e,t)=>{switch(t){case"status":tS.filterStatuses.includes(e)?tS.filterStatuses=tS.filterStatuses.filter(t=>t!==e):tS.filterStatuses=tS.filterStatuses.concat([e]);break;case"priority":tS.filterPriorities.includes(e)?tS.filterPriorities=tS.filterPriorities.filter(t=>t!==e):tS.filterPriorities=tS.filterPriorities.concat([e]);break;case"organizations":tS.filterOrganizations.includes(e)?tS.filterOrganizations=tS.filterOrganizations.filter(t=>t!==e):tS.filterOrganizations=tS.filterOrganizations.concat([e]);break;case"projects":tS.filterProjects.includes(e)?tS.filterProjects=tS.filterProjects.filter(t=>t!==e):tS.filterProjects=tS.filterProjects.concat([e])}},resetFilters:()=>{tS.filterStatuses=[],tS.filterPriorities=[],tS.filterOrganizations=[],tS.filterProjects=[]}}),t_=e=>(0,tw.R)(tS,e);var tC=s(28977),tA=s.n(tC),tE=s(33518),tz=s(70999),tP=s(79663),tR=e=>{var t;let{index:s,listRef:r,item:a,setRowHeight:o,getProject:c,getOrganizationById:d,getOrganizationBySlug:u,onUpdateNotificationStatus:h,queueMarkRead:x}=e,g=(0,l.useRef)(null),{ref:m,inView:f}=(0,tz.YD)(),{status:j,priority:v}=a,b=a.data,y=void 0!==b.project_ref?c(b.project_ref):void 0,N=void 0!==b.org_slug?u(b.org_slug):void 0!==y?d(y.organization_id):void 0,k=tA()().diff(tA()(a.inserted_at),"day"),w=tA()(a.inserted_at).fromNow(),S=tA()(a.inserted_at).format("MMM DD, YYYY"),_=e=>{console.log("Action",e)};return(0,l.useEffect)(()=>{if(g.current){var e;null==r||null===(e=r.current)||void 0===e||e.resetAfterIndex(0),o(s,g.current.clientHeight)}},[g]),(0,l.useEffect)(()=>{f&&"new"===a.status&&x(a.id)},[f]),(0,n.jsxs)("div",{ref:g,className:(0,A.cn)("p-4 flex justify-between gap-x-3 group",0!==s?"border-t border-overlay":"","new"===j?"bg-surface-100/50":"bg-background"),children:[(0,n.jsxs)("div",{ref:m,className:"flex flex-col gap-y-2.5 w-full py-0.5",children:[(void 0!==y||void 0!==N)&&(0,n.jsxs)("div",{className:"flex items-center max-w-[350px]",children:[void 0!==N&&(0,n.jsx)(i(),{title:N.name,href:"/org/".concat(N.slug,"/general"),className:"text-xs transition text-foreground-light hover:text-foreground underline truncate",children:N.name}),void 0!==N&&void 0!==y&&(0,n.jsx)("span",{className:"text-foreground-lighter",children:(0,n.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,n.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),void 0!==y&&(0,n.jsx)(i(),{title:y.name,href:"/project/".concat(y.ref),className:"text-xs transition text-foreground-light hover:text-foreground underline truncate",children:y.name})]}),(0,n.jsx)("div",{className:"flex items-center gap-x-2",children:(0,n.jsxs)("p",{className:"text-sm break-word",children:[b.title," ",(0,n.jsx)("span",{className:"ml-1 text-xs text-foreground-light capitalize-sentence",children:k>1?S:w})]})}),void 0!==b.message&&(0,n.jsx)(tP.U,{className:"text-foreground-light text-xs",content:b.message}),(null!==(t=b.actions)&&void 0!==t?t:[]).length>0&&(0,n.jsx)("div",{className:"flex items-center gap-x-2",children:b.actions.map((e,t)=>{let s="".concat(a.id,"-action-").concat(t);if(void 0!==e.url){var r,l;let t=e.url.includes("[ref]")?e.url.replace("[ref]",null!==(r=null==y?void 0:y.ref)&&void 0!==r?r:"_"):e.url.includes("[slug]")?e.url.replace("[slug]",null!==(l=null==N?void 0:N.slug)&&void 0!==l?l:"_"):e.url;return(0,n.jsx)(Y.z,{type:"default",icon:(0,n.jsx)(p.Z,{strokeWidth:1.5}),asChild:!0,children:(0,n.jsx)(i(),{href:t,target:"_blank",rel:"noreferrer",children:e.label})},s)}return void 0!==e.action_type?(0,n.jsx)(Y.z,{type:"default",onClick:()=>_(e.action_type),children:e.label},s):null})})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-y-2",children:["Warning"===v&&(0,n.jsx)(J.aN,{className:"w-5 h-5"}),"Critical"===v&&(0,n.jsx)(J.ku,{className:"w-5 h-5"}),"archived"===a.status?(0,n.jsx)(ej.u,{type:"outline",icon:(0,n.jsx)(tE.Z,{size:13,strokeWidth:2,className:"text-foreground-light"}),className:"p-1.5 group-hover:opacity-100 opacity-0 transition rounded-full",onClick:()=>h(a.id,"seen"),tooltip:{content:{text:"Unarchive",side:"bottom"}}}):(0,n.jsx)(ej.u,{type:"outline",icon:(0,n.jsx)(tr.Z,{size:13,strokeWidth:2,className:"text-foreground-light"}),className:"p-1.5 group-hover:opacity-100 opacity-0 transition rounded-full",onClick:()=>h(a.id,"archived"),tooltip:{content:{text:"Archive",side:"bottom"}}})]})]})},tL=s(99721),tT=s(66775),tI=s(15011),tZ=s(7257),tF=s(5562);let tO=e=>{let{activeTab:t}=e,[s,r]=(0,l.useState)(!1),i=t_(),{data:a}=(0,e4.tl)(),{data:o}=(0,eY.Sy)();return(0,n.jsxs)(e_.J2,{modal:!0,open:s,onOpenChange:r,children:[(0,n.jsx)(e_.xo,{asChild:!0,children:(0,n.jsx)(Y.z,{type:i.numFiltersApplied>0?"default":"text",icon:(0,n.jsx)(tL.Z,{strokeWidth:1}),className:"px-1 h-[26px]",children:i.numFiltersApplied>0&&"".concat(i.numFiltersApplied," filter").concat(i.numFiltersApplied>1?"s":""," applied")})}),(0,n.jsx)(e_.yk,{className:"p-0 w-64",side:"bottom",align:"end",children:(0,n.jsxs)(eC.mY,{children:[(0,n.jsx)(eC.sZ,{placeholder:"Find filter..."}),(0,n.jsxs)(eC.e8,{children:[(0,n.jsxs)(eH.xr,{className:"max-h-[240px] py-1 overflow-y-auto",children:[(0,n.jsxs)(eC.fu,{children:[(0,n.jsx)(tI.Ju,{children:"Status"}),(0,n.jsx)(eC.di,{disabled:"archived"===t,onSelect:()=>{i.setFilters("unread","status")},children:(0,n.jsxs)(tZ._,{htmlFor:"unread",className:(0,A.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",i.filterStatuses.includes("unread")&&"text-foreground"),children:[(0,n.jsx)(tF.X,{name:"unread",checked:i.filterStatuses.includes("unread")}),"Unread"]})})]}),(0,n.jsx)(eC.zz,{}),(0,n.jsxs)(eC.fu,{children:[(0,n.jsx)(tI.Ju,{children:"Priority"}),(0,n.jsx)(eC.di,{onSelect:()=>{i.setFilters("Warning","priority")},className:"flex items-center gap-x-2",children:(0,n.jsxs)(tZ._,{htmlFor:"warning",className:(0,A.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",i.filterPriorities.includes("Warning")&&"text-foreground"),children:[(0,n.jsx)(tF.X,{name:"warning",checked:i.filterPriorities.includes("Warning")}),(0,n.jsx)(J.aN,{className:"size-4"}),"Warning"]})}),(0,n.jsx)(eC.di,{onSelect:()=>{i.setFilters("Critical","priority")},children:(0,n.jsxs)(tZ._,{htmlFor:"critical",className:(0,A.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",i.filterPriorities.includes("Critical")&&"text-foreground"),children:[(0,n.jsx)(tF.X,{name:"critical",checked:i.filterPriorities.includes("Critical")}),(0,n.jsx)(J.ku,{className:"size-4"}),"Critical"]})},"critical")]}),(0,n.jsx)(eC.zz,{}),(0,n.jsxs)(eC.fu,{children:[(0,n.jsx)(tI.Ju,{children:"Organizations"}),(null!=a?a:[]).map(e=>(0,n.jsx)(eC.di,{value:e.name.replaceAll('"',""),className:"flex items-center gap-x-2",onSelect:()=>{i.setFilters(e.slug,"organizations")},children:(0,n.jsxs)(tZ._,{htmlFor:"".concat(e.slug),className:(0,A.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",i.filterOrganizations.includes(e.slug)&&"text-foreground"),children:[(0,n.jsx)(tF.X,{name:"".concat(e.slug),checked:i.filterOrganizations.includes(e.slug),className:""}),e.name]})},e.slug))]}),(0,n.jsx)(eC.zz,{}),(0,n.jsxs)(eC.fu,{children:[(0,n.jsx)(tI.Ju,{children:"Projects"}),(null!=o?o:[]).map(e=>(0,n.jsx)(eC.di,{className:"flex items-center gap-x-2",onSelect:t=>{i.setFilters(e.ref,"projects")},children:(0,n.jsxs)(tZ._,{htmlFor:"".concat(e.ref),className:(0,A.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",i.filterProjects.includes(e.ref)&&"text-foreground"),children:[(0,n.jsx)(tF.X,{name:"".concat(e.ref),checked:i.filterProjects.includes(e.ref),className:""}),e.name]})},e.ref))]})]}),(0,n.jsx)(eC.zz,{}),(0,n.jsx)(eC.fu,{children:(0,n.jsxs)(eC.di,{onSelect:()=>i.resetFilters(),className:"flex gap-x-2 items-center",children:[(0,n.jsx)(tT.Z,{className:"text-foreground-muted",size:12,strokeWidth:1}),"Reset filters"]})})]})]})})]})};var tU=()=>{var e,t,s;let[r,i]=(0,l.useState)(!1),[a,o]=(0,l.useState)("inbox"),c=t_(),d=(0,l.useRef)([]),u=(0,l.useRef)({}),{data:p}=(0,eY.Sy)(),{data:h}=(0,e4.tl)(),{data:x,error:g,isLoading:f,isError:v,isSuccess:b,hasNextPage:y,isFetchingNextPage:N,fetchNextPage:k}=tf({status:"archived"===a?"archived":c.filterStatuses.includes("unread")?"new":void 0,filters:{priority:c.filterPriorities,organizations:c.filterOrganizations,projects:c.filterProjects}}),{data:w}=tb(),{mutate:S}=tN(),{mutate:_,isLoading:C}=tx({onSuccess:()=>ti.Am.success("Successfully archived all notifications")}),E=(0,l.useMemo)(()=>{var e;return null!==(e=null==x?void 0:x.pages.flatMap(e=>e))&&void 0!==e?e:[]},[null==x?void 0:x.pages]),z=null!==(e=null==w?void 0:w.unread_count)&&void 0!==e&&e,P=null==w?void 0:w.has_warning,R=null==w?void 0:w.has_critical,L=()=>{d.current.length>0&&S({ids:d.current,status:"seen"})};return(0,n.jsxs)(e_.J2,{modal:!1,open:r,onOpenChange:e=>{i(e),e||L()},children:[(0,n.jsx)(e_.xo,{asChild:!0,children:(0,n.jsx)(Y.z,{type:z?"outline":"text",className:(0,A.cn)("h-[26px]","group",z?"rounded-full px-1.5":"px-1",R?"border-destructive-500 hover:border-destructive-600 hover:bg-destructive-300":P?"border-warning-500 hover:border-warning-600 hover:bg-warning-300":""),icon:R?(0,n.jsx)(J.ku,{className:"relative !w-3.5 !h-3.5 transition-all -mr-3.5 group-hover:-mr-1 z-10"}):P?(0,n.jsx)(J.aN,{className:"relative !w-3.5 !h-3.5 transition-all -mr-3.5 group-hover:-mr-1 z-10"}):z?(0,n.jsx)("div",{className:(0,A.cn)("transition-all -mr-3 group-hover:-mr-1","z-10 h-4 flex items-center justify-center rounded-full bg-black dark:bg-white",(null!==(t=null==w?void 0:w.unread_count)&&void 0!==t?t:0)>9?"px-0.5 w-auto":"w-4"),children:(0,n.jsx)("p",{className:"text-xs text-background-alternative",children:null==w?void 0:w.unread_count})}):null,iconRight:(0,n.jsx)(tn.Z,{size:18,strokeWidth:1.5,className:"transition group-hover:text-foreground text-foreground-light"})})}),(0,n.jsxs)(e_.yk,{className:"p-0 w-screen md:w-[450px] overflow-hidden",side:"bottom",align:"end",children:[(0,n.jsxs)("div",{className:"px-4",children:[(0,n.jsx)("p",{className:"pt-4 pb-1 text-sm",children:"Notifications"}),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)(ek.mQ,{className:"w-full",onValueChange:e=>{o(e),"archived"===e&&c.filterStatuses.includes("unread")&&c.setFilters("unread","status")},value:a,children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsxs)(ek.dr,{className:"flex gap-5 grow border-none",children:[(0,n.jsxs)(ek.SP,{id:"inbox",value:"inbox",className:"px-0 data-[state=active]:bg-transparent flex gap-2",children:["Inbox",(0,n.jsx)("div",{className:(0,A.cn)("flex items-center justify-center text-xs rounded-full bg-surface-300 h-4",(null!==(s=null==w?void 0:w.unread_count)&&void 0!==s?s:0)>9?"px-0.5 w-auto":"w-4"),children:null==w?void 0:w.unread_count})]}),(0,n.jsx)(ek.SP,{id:"archived",value:"archived",className:"px-0 data-[state=active]:bg-transparent",children:"Archived"})]}),(0,n.jsx)(tO,{activeTab:a})]})})})]}),(0,n.jsxs)("div",{className:"border-t",children:[f&&(0,n.jsx)("div",{className:"p-4",children:(0,n.jsx)(j.A,{})}),v&&(0,n.jsx)("div",{className:"p-4",children:(0,n.jsx)(m.Z,{subject:"Failed to retrieve notifications",error:g})}),b&&(0,n.jsx)("div",{className:"flex flex-1 h-[400px] bg-background",children:E.length>0&&!("archived"===a&&c.filterStatuses.includes("unread"))?(0,n.jsx)(ta.Z,{items:E,ItemComponent:tR,LoaderComponent:(0,n.jsx)("div",{className:"p-4",children:(0,n.jsx)(j.Z,{})}),itemProps:{setRowHeight:(e,t)=>{u.current&&(u.current={...u.current,[e]:t})},getProject:e=>null==p?void 0:p.find(t=>t.ref===e),getOrganizationById:e=>null==h?void 0:h.find(t=>t.id===e),getOrganizationBySlug:e=>null==h?void 0:h.find(t=>t.slug===e),onUpdateNotificationStatus:(e,t)=>{S({ids:[e],status:t})},queueMarkRead:e=>{d.current&&!d.current.includes(e)&&d.current.push(e)}},getItemSize:e=>{var t,s;return null!==(s=null==u?void 0:null===(t=u.current)||void 0===t?void 0:t[e])&&void 0!==s?s:56},hasNextPage:y,isLoadingNextPage:N,onLoadNextPage:()=>k()}):(0,n.jsxs)("div",{className:"flex flex-col gap-y-4 items-center flex-grow justify-center",children:[(0,n.jsx)(tn.Z,{size:32,className:"text-foreground-light"}),(0,n.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,n.jsx)("p",{className:"text-foreground-light text-sm mx-auto text-center",children:"archived"===a?"No archived notifications".concat(c.numFiltersApplied>0?" based on the ".concat(c.numFiltersApplied," filter").concat(c.numFiltersApplied>1?"s":""," applied"):""):c.numFiltersApplied>0?"No notifications based on the ".concat(c.numFiltersApplied," filter").concat(c.numFiltersApplied>1?"s":""," applied"):"All caught up"}),(0,n.jsx)("p",{className:"text-foreground-lighter text-xs w-60 mx-auto text-center",children:"archived"===a?"Notifications that you have previously archived will be shown here":"You will be notified here for any notices on your organizations and projects"})]})]})})]}),E.length>0&&"inbox"===a&&(0,n.jsx)("div",{className:"flex items-center justify-center p-1.5 border-t",children:(0,n.jsx)(Y.z,{disabled:C,loading:C,type:"text",icon:(0,n.jsx)(tr.Z,{}),onClick:()=>_(),children:"Archive all"})})]})]})};let tD=()=>(0,n.jsx)("span",{className:"text-border-stronger",children:(0,n.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,n.jsx)("path",{d:"M16 3.549L7.12 20.600"})})});var tW=e=>{let{customHeaderComponents:t,breadcrumbs:s=[],headerBorder:r=!0,showProductMenu:d=!0}=e,u=(0,a.useRouter)(),{ref:p}=(0,o.UO)(),h=(0,ey.Vm)(),x=(0,w.l)(),{mobileMenuOpen:g,setMobileMenuOpen:m}=(0,eF.WZ)(),f=(null==h?void 0:h.is_branch_enabled)===!0,j=(0,c.uL)(),{data:v}=(0,e5.Gl)({orgSlug:null==x?void 0:x.slug}),{data:b}=(0,e7.v)({orgSlug:null==x?void 0:x.slug},{enabled:(null==v?void 0:v.usage_billing_enabled)===!1}),y=(0,l.useMemo)(()=>!!b&&e9((null==b?void 0:b.usages)||[]).length>0,[b]);return(0,n.jsxs)("div",{className:(0,A.cn)("flex h-12 max-h-12 min-h-12 items-center bg-dash-sidebar",r?"border-b border-default":""),children:[d&&(0,n.jsx)("div",{className:"flex items-center justify-center border-r flex-0 md:hidden h-full aspect-square",children:(0,n.jsxs)("button",{title:"Menu dropdown button",className:(0,A.cn)("group/view-toggle ml-4 flex justify-center flex-col border-none space-x-0 items-start gap-1 !bg-transparent rounded-md min-w-[30px] w-[30px] h-[30px]"),onClick:()=>m(!g),children:[(0,n.jsx)("div",{className:"h-px inline-block left-0 w-4 transition-all ease-out bg-foreground-lighter group-hover/view-toggle:bg-foreground p-0 m-0"}),(0,n.jsx)("div",{className:"h-px inline-block left-0 w-3 transition-all ease-out bg-foreground-lighter group-hover/view-toggle:bg-foreground p-0 m-0"})]})}),(0,n.jsxs)("div",{className:"relative flex flex-1 overflow-hidden",children:[(0,n.jsxs)("div",{className:"flex w-full items-center justify-between py-2 pl-1 pr-3 md:px-3 flex-nowrap overflow-x-auto no-scrollbar",children:[(0,n.jsxs)("div",{className:"flex items-center text-sm",children:[p&&(0,n.jsx)(i(),{href:eN.Qy?"/projects":"/project/default",className:"ml-1 mr-2 hidden md:flex items-center",children:(0,n.jsx)("img",{alt:"Supabase",src:"".concat(u.basePath,"/img/supabase-logo.svg"),className:"w-5 cursor-pointer rounded"})}),!eN.Qy&&(0,n.jsx)("div",{className:"ml-3 text-xs text-foreground-light",children:"Default project"}),p&&eN.Qy&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(e8,{}),(0,n.jsx)(tD,{}),(0,n.jsx)(eX,{}),y&&(0,n.jsx)("div",{className:"ml-2",children:(0,n.jsx)(i(),{href:"/org/".concat(null==x?void 0:x.slug,"/usage"),children:(0,n.jsx)(Q.C,{variant:"destructive",children:"Exceeding usage limits"})})}),h&&f&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tD,{}),(0,n.jsx)(e0,{})]})]}),(0,n.jsxs)("div",{className:"ml-3 flex items-center gap-x-3",children:[!f&&(0,n.jsx)(e2,{}),(0,n.jsx)(eZ,{})]})]}),(0,n.jsx)(te,{defaultValue:s})]}),(0,n.jsxs)("div",{className:"flex items-center gap-x-2",children:[t&&t,eN.Qy&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tt.v,{}),(0,n.jsx)(tU,{}),(0,n.jsx)(ts.Z,{})]})]})]}),(0,n.jsx)("div",{className:"absolute md:hidden left-0 h-full w-3 bg-gradient-to-r from-background-dash-sidebar to-transparent pointer-events-none"}),(0,n.jsx)("div",{className:"absolute md:hidden right-0 h-full w-3 bg-gradient-to-l from-background-dash-sidebar to-transparent pointer-events-none"})]}),!!p&&(0,n.jsxs)("div",{className:"flex h-full items-center",children:[j&&(0,n.jsx)("div",{className:"border-l flex-0 h-full",children:(0,n.jsx)(e3,{})}),(0,n.jsx)("div",{className:"border-l flex-0 h-full",children:(0,n.jsx)(eU,{})})]})]})}},64269:function(e,t,s){"use strict";var n=s(97458),r=s(71607),i=s.n(r),a=s(85847),l=s(15647),o=s(9738),c=s(4534),d=s(83145),u=s.n(d),p=s(32691),h=s(62213),x=s(52983),g=s(73512),m=s(79663),f=s(99457),j=s(18505),v=s(94218),b=s(80342),y=s(12753),N=s(53486),k=s(43633),w=s(22921),S=s(12361),_=s(50322);t.Z=e=>{var t;let{selectedDatabaseId:s,variant:r="regular",additionalOptions:d=[],onSelectId:C=i(),buttonProps:A}=e,E=(0,p.useRouter)(),{ref:z}=(0,g.UO)(),[P,R]=(0,x.useState)(!1),[,L]=(0,h.v1)("showConnect",h.AE.withDefault(!1)),T=(0,b.TF)(),I=null!=s?s:T.selectedDatabaseId,{data:Z,isLoading:F,isSuccess:O}=(0,j.bN)({projectRef:z}),U=null!=Z?Z:[],D=U.sort((e,t)=>e.inserted_at>t.inserted_at?1:0).sort(e=>e.identifier===z?-1:0),W=U.find(e=>e.identifier===I),q=(0,v.f)(null!==(t=null==W?void 0:W.region)&&void 0!==t?t:""),B=(0,v.U)(null!=I?I:""),M=d.find(e=>e.id===I);return(0,x.useEffect)(()=>{s&&T.setSelectedDatabaseId(s)},[s]),(0,n.jsxs)(y.J2,{open:P,onOpenChange:R,modal:!1,children:[(0,n.jsx)(y.xo,{asChild:!0,children:(0,n.jsxs)("div",{className:"flex cursor-pointer",children:[(0,n.jsx)("span",{className:"flex items-center text-foreground-lighter px-3 rounded-lg rounded-r-none text-xs border border-button border-r-0",children:"Source"}),(0,n.jsx)(N.z,{type:"default",icon:F&&(0,n.jsx)(a.Z,{className:"animate-spin"}),iconRight:(0,n.jsx)(l.Z,{strokeWidth:1.5,size:12}),...A,className:(0,k.cn)("pr-2 rounded-l-none","connected-on-right"===r&&"rounded-r-none","connected-on-left"===r&&"rounded-l-none border-l-0","connected-on-both"===r&&"rounded-none border-x-0",null==A?void 0:A.className),children:M?(0,n.jsx)("span",{children:M.name}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"capitalize",children:F||(null==W?void 0:W.identifier)===z?"Primary database":"Read replica"})," ",O&&(null==W?void 0:W.identifier)!==z&&(0,n.jsxs)("span",{children:["(",q," - ",B,")"]})]})})]})}),(0,n.jsx)(y.yk,{className:"p-0 w-64",side:"bottom",align:"end",children:(0,n.jsx)(w.mY,{children:(0,n.jsxs)(w.e8,{children:[d.length>0&&(0,n.jsx)(w.fu,{className:"border-b",children:d.map(e=>(0,n.jsx)(w.di,{value:e.id,className:"cursor-pointer w-full",onSelect:()=>{T.setSelectedDatabaseId(e.id),R(!1),C(e.id)},onClick:()=>{T.setSelectedDatabaseId(e.id),R(!1),C(e.id)},children:(0,n.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,n.jsx)("p",{children:e.name}),e.id===I&&(0,n.jsx)(o.Z,{size:14})]})},e.id))}),(0,n.jsx)(w.fu,{children:(0,n.jsx)(S.xr,{className:(U||[]).length>7?"h-[210px]":"",children:null==D?void 0:D.map(e=>{let t=(0,v.f)(e.region),s=(0,v.U)(e.identifier);if("ACTIVE_HEALTHY"!==e.status){let r=[f.hk.INIT_READ_REPLICA,f.hk.COMING_UP].includes(e.status)?"coming up":"not healthy";return(0,n.jsxs)(_.u,{children:[(0,n.jsx)(_.aJ,{asChild:!0,children:(0,n.jsx)("div",{className:"px-2 py-1.5 w-full flex items-center justify-between",children:(0,n.jsxs)("p",{className:"text-xs text-foreground-lighter",children:["Read replica (",t," - ",s,")"]})})}),(0,n.jsx)(_._v,{side:"right",className:"w-80",children:(0,n.jsx)(m.U,{className:"text-xs text-foreground",content:"Replica unable to accept requests as its ".concat(r,". [View infrastructure settings](/project/").concat(z,"/settings/infrastructure) for more information.")})})]},e.identifier)}return(0,n.jsx)(w.di,{value:e.identifier,className:"cursor-pointer w-full",onSelect:()=>{T.setSelectedDatabaseId(e.identifier),R(!1),C(e.identifier)},onClick:()=>{T.setSelectedDatabaseId(e.identifier),R(!1),C(e.identifier)},children:(0,n.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,n.jsx)("p",{children:e.identifier===z?"Primary database":"Read replica (".concat(t," - ").concat(s,")")}),e.identifier===I&&(0,n.jsx)(o.Z,{size:16})]})},e.identifier)})})}),(0,n.jsx)(w.fu,{className:"border-t",children:(0,n.jsx)(w.di,{className:"cursor-pointer w-full",onSelect:()=>{R(!1),E.push("/project/".concat(z,"/settings/infrastructure"))},onClick:()=>R(!1),children:(0,n.jsxs)(u(),{href:"/project/".concat(z,"/settings/infrastructure"),onClick:()=>{R(!1),L(null)},className:"w-full flex items-center gap-2",children:[(0,n.jsx)(c.Z,{size:14,strokeWidth:1.5}),(0,n.jsx)("p",{children:"Create a new read replica"})]})})})]})})})]})}},61711:function(e,t,s){"use strict";var n=s(97458),r=s(6433),i=s(36117),a=s(52983),l=s(54056),o=s(65864),c=s(26714),d=s(95293);let u=(0,i.Z)((e,t)=>({items:e,...t})),p=(0,a.memo)(e=>{let{data:t,index:s,style:r}=e,{items:i,itemProps:a,ItemComponent:l,listRef:o,LoaderComponent:c}=t,u=s<i.length?i[s]:void 0;return u?(0,n.jsx)("div",{style:r,children:(0,n.jsx)(l,{index:s,item:u,listRef:o,...a})}):void 0!==c?(0,n.jsx)("div",{style:r,children:c}):(0,n.jsx)("div",{className:"space-y-1 my-1",style:r,children:(0,n.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,n.jsxs)("div",{className:"flex flex-row h-6 px-4 items-center gap-2",children:[(0,n.jsx)(d.O,{className:"h-4 w-5"}),(0,n.jsx)(d.O,{className:"w-40 h-4"})]}),(0,n.jsxs)("div",{className:"flex flex-row h-6 px-4 items-center gap-2",children:[(0,n.jsx)(d.O,{className:"h-4 w-5"}),(0,n.jsx)(d.O,{className:"w-32 h-4"})]}),(0,n.jsxs)("div",{className:"flex flex-row h-6 px-4 items-center gap-2 opacity-75",children:[(0,n.jsx)(d.O,{className:"h-4 w-5"}),(0,n.jsx)(d.O,{className:"w-20 h-4"})]}),(0,n.jsxs)("div",{className:"flex flex-row h-6 px-4 items-center gap-2 opacity-50",children:[(0,n.jsx)(d.O,{className:"h-4 w-5"}),(0,n.jsx)(d.O,{className:"w-40 h-4"})]}),(0,n.jsxs)("div",{className:"flex flex-row h-6 px-4 items-center gap-2 opacity-25",children:[(0,n.jsx)(d.O,{className:"h-4 w-5"}),(0,n.jsx)(d.O,{className:"w-20 h-4"})]})]})})},o.wy);p.displayName="Item",t.Z=(0,a.memo)(function(e){let{items:t=[],itemProps:s,hasNextPage:r=!1,isLoadingNextPage:i=!1,getItemSize:d=()=>40,onLoadNextPage:h=()=>{},ItemComponent:x=()=>null,LoaderComponent:g}=e,m=(0,a.useRef)(),f=i?()=>{}:h,j=e=>!r||e<t.length,v=r?t.length+1:t.length,b=u(t,{itemProps:s,ItemComponent:x,LoaderComponent:g,listRef:m});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex-grow",children:(0,n.jsx)(l.ZP,{children:e=>{let{height:t,width:s}=e;return(0,n.jsx)(c.Z,{itemCount:v,isItemLoaded:j,loadMoreItems:f,children:e=>{let{onItemsRendered:r,ref:i}=e;return(0,n.jsx)(o.S_,{ref:e=>{i(e),m.current=e},height:null!=t?t:0,width:null!=s?s:0,itemCount:v,itemData:b,itemSize:d,onItemsRendered:r,children:p})}})}})}),(0,n.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,pointerEvents:"none"}})]})},r.t0)},63864:function(e,t,s){"use strict";var n=s(97458),r=s(43633),i=s(50322);t.Z=function(e){let{organization:t,showTooltip:s=!0,tooltipText:a="This organization is managed by Vercel Marketplace.",size:l="small"}=e;if("vercel-marketplace"===t.managed_by){let e=(0,n.jsx)("svg",{className:(0,r.cn)("small"===l&&"w-2.5 h-2.5","medium"===l&&"w-3.5 h-3.5","large"===l&&"w-5 h-5"),viewBox:"0 0 76 65",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M37.5274 0L75.0548 65H0L37.5274 0Z",fill:"hsl(var(--foreground-default) / 1)"})});return s?(0,n.jsxs)(i.u,{children:[(0,n.jsx)(i.aJ,{asChild:!0,children:(0,n.jsx)("div",{className:(0,r.cn)("bg-surface-100 dark:bg-surface-200 border rounded flex items-center justify-center hover:bg-surface-400 dark:hover:bg-surface-400 hover:border-stronger flex-shrink-0","small"===l&&"h-5 w-5","medium"===l&&"w-7 h-7","large"===l&&"w-10 h-10"),children:e})}),(0,n.jsx)(i._v,{children:a})]}):(0,n.jsx)("div",{className:(0,r.cn)("bg-surface-100 dark:bg-surface-200 border rounded flex items-center justify-center flex-shrink-0","small"===l&&"h-5 w-5","medium"===l&&"w-7 h-7","large"===l&&"w-10 h-10"),children:e})}return null}},67354:function(e,t,s){"use strict";s.d(t,{V:function(){return l}});var n=s(28894),r=s(129),i=s(21462);async function a(e,t){let{projectRef:s}=e;if(!s)throw Error("Project ref is required");let{data:n,error:i}=await (0,r.U2)("/v1/projects/{ref}/branches",{params:{path:{ref:s}},signal:t});if(i){if("Preview branching is not enabled for this project."===i.message)return[];(0,r.S3)(i)}return n}let l=function(e){let{projectRef:t}=e,{enabled:s=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.a)(i.x.list(t),e=>{let{signal:s}=e;return a({projectRef:t},s)},{enabled:s&&void 0!==t,...r})}},61569:function(e,t,s){"use strict";s.d(t,{U:function(){return n}});let n={settings:e=>["projects",e,"settings"],settingsV2:e=>["projects",e,"settings-v2"],api:e=>["projects",e,"settings","api"],postgrest:e=>["projects",e,"postgrest"],jwtSecretUpdatingStatus:e=>["projects",e,"jwt-secret-updating-status"],storage:e=>["projects",e,"storage"],upgradeEligibility:e=>["projects",e,"upgrade-eligibility"],upgradeStatus:e=>["projects",e,"upgrade-status"],diskAttributes:e=>["projects",e,"disk-attributes"],diskBreakdown:e=>["projects",e,"disk-breakdown"],diskUtilization:e=>["projects",e,"disk-utilization"],projectCreationPostgresVersions:(e,t,s)=>["projects",e,t,s,"available-creation-versions"],projectUnpausePostgresVersions:e=>["projects",e,"available-unpause-versions"],diskAutoscaleConfig:e=>["projects",e,"disk-autoscale-config"]}},38391:function(e,t,s){"use strict";s.d(t,{Pb:function(){return d},zR:function(){return c}});var n=s(40540),r=s(28894),i=s(129),a=s(94281),l=s(61569);async function o(e,t){let{projectRef:s}=e;if(!s)throw Error("projectRef is required");let{data:n,error:r}=await (0,i.U2)("/platform/projects/{ref}/settings",{params:{path:{ref:s}},signal:t});return r&&(0,i.S3)(r),n}let c=function(e){let{projectRef:t}=e,{enabled:s=!0,...i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=(0,a.Xo)(n.KA.TENANT_SQL_ADMIN_WRITE,"*");return(0,r.a)(l.U.settingsV2(t),e=>{let{signal:s}=e;return o({projectRef:t},s)},{enabled:s&&void 0!==t,refetchInterval(e){var t;let s=null!==(t=null==e?void 0:e.service_api_keys)&&void 0!==t?t:[];return c&&0===s.length?2e3:0},...i})},d=e=>{var t,s;return{anonKey:(null!==(t=null==e?void 0:e.service_api_keys)&&void 0!==t?t:[]).find(e=>"anon"===e.tags),serviceKey:(null!==(s=null==e?void 0:e.service_api_keys)&&void 0!==s?s:[]).find(e=>"service_role"===e.tags)}}},63609:function(e,t,s){"use strict";s.d(t,{A:function(){return n}});let n={schemas:e=>["projects",e,"schemas"],indexes:(e,t)=>["projects",e,"indexes",t].filter(Boolean),keywords:e=>["projects",e,"keywords"],migrations:e=>["projects",e,"migrations"],tableColumns:(e,t,s)=>["projects",e,"table-columns",t,s],databaseFunctions:e=>["projects",e,"database-functions"],entityDefinition:(e,t)=>["projects",e,"entity-definition",t],entityDefinitions:(e,t)=>["projects",e,"entity-definitions",t],tableDefinition:(e,t)=>["projects",e,"table-definition",t],viewDefinition:(e,t)=>["projects",e,"view-definition",t],backups:e=>["projects",e,"database","backups"],poolingConfiguration:e=>["projects",e,"database","pooling-configuration"],indexesFromQuery:(e,t)=>["projects",e,"indexes",{query:t}],indexAdvisorFromQuery:(e,t)=>["projects",e,"index-advisor",{query:t}],tableConstraints:(e,t)=>["projects",e,"table-constraints",t],foreignKeyConstraints:(e,t)=>["projects",e,"foreign-key-constraints",t],databaseSize:e=>["projects",e,"database-size"],maxConnections:e=>["projects",e,"max-connections"],pgbouncerStatus:e=>["projects",e,"pgbouncer","status"],pgbouncerConfig:e=>["projects",e,"pgbouncer","config"]}},98330:function(e,t,s){"use strict";s.d(t,{f:function(){return l}});var n=s(28894),r=s(129),i=s(63609);async function a(e,t){let{projectRef:s}=e;if(!s)throw Error("projectRef is required");let{data:n,error:i}=await (0,r.U2)("/platform/projects/{ref}/config/pgbouncer",{params:{path:{ref:s}},signal:t});return i&&(0,r.S3)(i),n}let l=function(e){let{projectRef:t}=e,{enabled:s=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.a)(i.A.pgbouncerConfig(t),e=>{let{signal:s}=e;return a({projectRef:t},s)},{enabled:s&&void 0!==t,...r})}},25606:function(e,t,s){"use strict";s.d(t,{b:function(){return l}});var n=s(28894),r=s(129),i=s(63609);async function a(e,t){let{projectRef:s}=e;if(!s)throw Error("Project ref is required");let{data:n,error:i}=await (0,r.U2)("/platform/projects/{ref}/config/supavisor",{params:{path:{ref:s}},signal:t});return i&&(0,r.S3)(i),n}let l=function(e){let{projectRef:t}=e,{enabled:s=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.a)(i.A.poolingConfiguration(t),e=>{let{signal:s}=e;return a({projectRef:t},s)},{enabled:s&&void 0!==t,...r})}},32179:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n={list:e=>["project",e,"replicas"],statuses:e=>["project",e,"replicas-statuses"],loadBalancers:e=>["project",e,"load-balancers"],replicaLag:(e,t)=>["project",e,"replica-lag",t]}},18505:function(e,t,s){"use strict";s.d(t,{Zs:function(){return l},bN:function(){return d},l_:function(){return o}});var n=s(28894),r=s(73512),i=s(129),a=s(32179);let l=2,o=5;async function c(e,t){let{projectRef:s}=e;if(!s)throw Error("Project ref is required");let{data:n,error:r}=await (0,i.U2)("/platform/projects/{ref}/databases",{params:{path:{ref:s}},signal:t});return r&&(0,i.S3)(r),n}let d=function(e){let{projectRef:t}=e,{enabled:s=!0,...i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.a)(a.Z.list(t),e=>{let{signal:s}=e;return c({projectRef:t},s)},{enabled:s&&r.Qy&&void 0!==t,...i})}},94218:function(e,t,s){"use strict";s.d(t,{U:function(){return a},f:function(){return l}});var n=s(99457),r=s(77875),i=s.n(r);let a=e=>{var t;return i()(null!==(t=e.split("-"))&&void 0!==t?t:[])},l=e=>{var t,s;return null===(t=i()(null===(s=n.q_.find(t=>t.region===e))||void 0===s?void 0:s.name.split("(")))||void 0===t?void 0:t.split(")")[0]}},17164:function(e,t,s){"use strict";s.d(t,{F:function(){return o}});var n=s(28894),r=s(129),i=s(56535),a=s(2083);async function l(e,t){let{projectRef:s}=e;if(!s)throw Error("projectRef is required");let{error:n,data:i}=await (0,r.U2)("/platform/projects/{ref}/billing/addons",{params:{path:{ref:s}},signal:t});return n&&(0,r.S3)(n),i}let o=function(e){let{projectRef:t}=e,{enabled:s=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.a)(a.U.addons(t),e=>{let{signal:s}=e;return l({projectRef:t},s)},{enabled:s&&i.Qy&&void 0!==t,staleTime:36e5,...r})}},49390:function(e,t,s){"use strict";s.d(t,{v:function(){return o}});var n=s(28894),r=s(129),i=s(56535),a=s(90584);async function l(e,t){let{orgSlug:s,projectRef:n,start:i,end:a}=e;if(!s)throw Error("orgSlug is required");let{data:l,error:o}=await (0,r.U2)("/platform/organizations/{slug}/usage",{params:{path:{slug:s},query:{project_ref:n,start:null==i?void 0:i.toISOString(),end:null==a?void 0:a.toISOString()}},signal:t});return o&&(0,r.S3)(o),l}let o=function(e){let{orgSlug:t,projectRef:s,start:r,end:o}=e,{enabled:c=!0,...d}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.a)(a.Z.orgUsage(t,s,null==r?void 0:r.toISOString(),null==o?void 0:o.toISOString()),e=>{let{signal:n}=e;return l({orgSlug:t,projectRef:s,start:r,end:o},n)},{enabled:c&&i.Qy&&void 0!==t,staleTime:18e5,...d})}},95909:function(e,t,s){"use strict";var n=s(97458),r=s(32691),i=s(52983),a=s(9060),l=s(23987),o=s(33968),c=s(22921),d=s(43633);t.Z=e=>{let{children:t,open:s=!1,onOpenChange:u}=e,p=(0,r.useRouter)(),{width:h}=(0,l.Z)();return(0,i.useEffect)(()=>{u(!1)},[null==p?void 0:p.asPath]),(0,i.useEffect)(()=>{u(!1)},[h]),(0,n.jsx)(o.yo,{open:s,onOpenChange:u,children:(0,n.jsx)(o.ue,{id:"mobile-sheet-content",showClose:!1,size:"full",side:"bottom",className:(0,d.cn)("rounded-t-lg overflow-hidden overflow-y-scroll","h-[85dvh] md:max-h-[500px] py-2"),children:(0,n.jsx)(a.SV,{FallbackComponent:()=>(0,n.jsx)(c.rb,{}),children:t})})})}},7879:function(e,t,s){"use strict";s.d(t,{d:function(){return E}});var n=s(97458),r=s(71607),i=s.n(r),a=s(9738),l=s(74459),o=s(98809),c=s(52983),d=s(17434),u=s(97137),p=s(43633),h=s(53486);let x=e=>({hljs:{display:"block",overflowX:"auto",color:e?"#ddd":"#888"},"hljs-tag":{color:"#569cd6"},"hljs-keyword":{color:"#569cd6",fontWeight:"normal"},"hljs-selector-tag":{color:"#569cd6",fontWeight:"normal"},"hljs-literal":{color:"#569cd6",fontWeight:"normal"},"hljs-strong":{color:"#569cd6"},"hljs-name":{color:"#569cd6"},"hljs-code":{color:"#66d9ef"},"hljs-class .hljs-title":{color:"gray"},"hljs-attribute":{color:"#bf79db"},"hljs-symbol":{color:"#bf79db"},"hljs-regexp":{color:"#bf79db"},"hljs-link":{color:"#bf79db"},"hljs-string":{color:"#3ECF8E"},"hljs-bullet":{color:"#3ECF8E"},"hljs-subst":{color:"#3ECF8E"},"hljs-title":{color:"#3ECF8E",fontWeight:"normal"},"hljs-section":{color:"#3ECF8E",fontWeight:"normal"},"hljs-emphasis":{color:"#3ECF8E"},"hljs-type":{color:"#3ECF8E",fontWeight:"normal"},"hljs-built_in":{color:"#3ECF8E"},"hljs-builtin-name":{color:"#3ECF8E"},"hljs-selector-attr":{color:"#3ECF8E"},"hljs-selector-pseudo":{color:"#3ECF8E"},"hljs-addition":{color:"#3ECF8E"},"hljs-variable":{color:"#3ECF8E"},"hljs-template-tag":{color:"#3ECF8E"},"hljs-template-variable":{color:"#3ECF8E"},"hljs-comment":{color:e?"#999":"#888"},"hljs-quote":{color:"#75715e"},"hljs-deletion":{color:"#75715e"},"hljs-meta":{color:"#75715e"},"hljs-doctag":{fontWeight:"normal"},"hljs-selector-id":{fontWeight:"normal"}});var g=s(99075),m=s.n(g),f=s(46213),j=s(35789),v=s(79839),b=s(51201),y=s(92517),N=s(95110),k=s(33303),w=s(99423),S=s(70403),_=s(3457),C=s(83235),A=s(19487);let E=e=>{var t,s,r,g;let{title:E,language:z,linesToHighlight:P=[],highlightBorder:R,styleConfig:L,className:T,wrapperClassName:I,value:Z,theme:F,children:O,hideCopy:U=!1,hideLineNumbers:D=!1,wrapLines:W=!0,renderer:q,focusable:B=!0,onCopyCallback:M=i()}=e,{resolvedTheme:V}=(0,o.F)(),H=null==V?void 0:V.includes("dark"),Q=null!=F?F:x(H),[Y,J]=(0,c.useState)(!1),K=()=>{J(!0),M(),setTimeout(()=>{J(!1)},1e3)},G=c.Children.toArray(O),[X]=1===G.length?G:[],$=null!==(s=null!=Z?Z:"string"==typeof X?X:void 0)&&void 0!==s?s:O,ee="string"==typeof($=null!==(r=null==$?void 0:null===(t=$.trimEnd)||void 0===t?void 0:t.call($))&&void 0!==r?r:$)&&$.length<70?"short-inline-codeblock":"",et=z||(T?T.replace("language-",""):"js");"jsx"===et&&(et="js"),u.Z.registerLanguage("js",N.Z),u.Z.registerLanguage("ts",A.Z),u.Z.registerLanguage("py",_.Z),u.Z.registerLanguage("sql",C.Z),u.Z.registerLanguage("bash",f.Z),u.Z.registerLanguage("dart",v.Z),u.Z.registerLanguage("csharp",j.Z),u.Z.registerLanguage("json",k.Z),u.Z.registerLanguage("kotlin",w.Z),u.Z.registerLanguage("curl",m()),u.Z.registerLanguage("http",y.Z),u.Z.registerLanguage("php",S.Z),u.Z.registerLanguage("python",_.Z),u.Z.registerLanguage("go",b.Z),("bash"===et||"sh"===et)&&(D=!0);let es=!D;return(0,n.jsxs)(n.Fragment,{children:[E&&(0,n.jsx)("div",{className:"text-sm rounded-t-md bg-surface-100 py-2 px-4 border border-b-0 border-default font-sans",children:E}),T?(0,n.jsxs)("div",{className:(0,p.cn)("group relative max-w-[90vw] md:max-w-none overflow-auto",I),children:[(0,n.jsx)(u.Z,{language:et,wrapLines:W,style:Q,className:(0,p.cn)("code-block border border-surface p-4 w-full !my-0 !bg-surface-100 outline-none focus:border-foreground-lighter/50","".concat(E?"rounded-t-none rounded-b-md":"rounded-md"),"".concat(es?"":"pl-6"),T),customStyle:{fontSize:13,lineHeight:1.4},showLineNumbers:es,lineProps:e=>P.includes(e)?{style:{display:"block",backgroundColor:(null==L?void 0:L.highlightBackgroundColor)?null==L?void 0:L.highlightBackgroundColor:"hsl(var(--background-selection))",borderLeft:R?"1px solid ".concat((null==L?void 0:L.highlightBorderColor)?null==L?void 0:L.highlightBorderColor:"hsl(var(--foreground-default)",")"):null},class:"hljs-line-highlight"}:{},lineNumberContainerStyle:{paddingTop:"128px"},lineNumberStyle:{minWidth:"44px",paddingLeft:"4px",paddingRight:"4px",marginRight:"12px",color:null!==(g=null==L?void 0:L.lineNumber)&&void 0!==g?g:"#828282",textAlign:"center",fontSize:12,paddingTop:"4px",paddingBottom:"4px"},renderer:q,contentEditable:B,onBeforeInput:e=>(e.preventDefault(),!1),suppressContentEditableWarning:!0,children:$}),!U&&(Z||O)&&T?(0,n.jsx)("div",{className:["absolute right-2 top-2","opacity-0 group-hover:opacity-100 transition","".concat(H?"dark":"")].join(" "),children:(0,n.jsx)(d.CopyToClipboard,{text:Z||O,children:(0,n.jsx)(h.z,{type:"default",className:"px-1.5",icon:Y?(0,n.jsx)(a.Z,{}):(0,n.jsx)(l.Z,{}),onClick:()=>K(),children:Y?"Copied":""})})}):null]}):(0,n.jsx)("code",{className:ee,children:Z||O})]})}},47889:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var n=s(97458),r=s(90346),i=s(52983),a=s(43633);let l=i.forwardRef((e,t)=>{let{className:s,orientation:i="horizontal",decorative:l=!0,...o}=e;return(0,n.jsx)(r.f,{ref:t,decorative:l,orientation:i,className:(0,a.cn)("shrink-0 bg-border-muted","horizontal"===i?"h-[1px] w-full":"h-full w-[1px]",s),...o})});l.displayName=r.f.displayName},95293:function(e,t,s){"use strict";s.d(t,{O:function(){return i}});var n=s(97458),r=s(43633);function i(e){let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",t),...s})}},19337:function(e,t,s){"use strict";s.d(t,{SP:function(){return c},dr:function(){return o},mQ:function(){return l},nU:function(){return d}});var n=s(97458),r=s(77317),i=s(52983),a=s(43633);let l=r.fC,o=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(r.aV,{ref:t,className:(0,a.cn)("flex items-center border-b",s),...i})});o.displayName=r.aV.displayName;let c=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(r.xz,{ref:t,className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap py-1.5 text-sm  ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground data-[state=active]:shadow-sm text-foreground-lighter hover:text-foreground data-[state=active]:border-foreground border-b-2 border-transparent","group",s),...i})});c.displayName=r.xz.displayName;let d=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(r.VY,{ref:t,className:(0,a.cn)("mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...i})});d.displayName=r.VY.displayName},8294:function(e,t,s){"use strict";s.d(t,{c:function(){return c}});var n=s(97458),r=s(29901),i=s(46417),a=s(16402),l=s(52983),o=s(43633);let c=(0,l.memo)(e=>{let{size:t=24,loading:s=!1,className:c,allowHoverEffect:d=!1}=e,u=Math.max(1,t/46),p=(0,l.useRef)(null),[h,x]=(0,l.useState)(!1),g=(0,r.c)(0),m=(0,r.c)(0),f=(0,i.q)(g,{stiffness:300,damping:30}),j=(0,i.q)(m,{stiffness:300,damping:30});return(0,n.jsxs)("div",{className:(0,o.cn)("text-brand-600 flex justify-center items-center relative",c),style:{width:t,height:t,position:"relative"},children:[(0,n.jsx)("div",{ref:p,className:"absolute flex items-center justify-center",style:{width:2*t,height:2*t,left:-t/2,top:-t/2},onMouseMove:e=>{if(!d||!p.current)return;let t=p.current.getBoundingClientRect(),s=t.left+t.width/2,n=t.top+t.height/2,r=e.clientX-s,i=e.clientY-n;g.set(r/5),m.set(i/5)},onMouseEnter:()=>x(!0),onMouseLeave:()=>{x(!1),g.set(0),m.set(0)}}),(0,n.jsxs)(a.E.svg,{width:t,height:t,viewBox:"0 0 46 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)(a.E.path,{fillRule:"evenodd",clipRule:"evenodd",d:"M23 1.78677L44.2132 23L23 44.2132L1.7868 23L23 1.78677ZM23 0.372559L23.7071 1.07967L44.9203 22.2929L45.6274 23L44.9203 23.7071L23.7071 44.9203L23 45.6274L22.2929 44.9203L1.07969 23.7071L0.372583 23L1.07969 22.2929L22.2929 1.07967L23 0.372559Z",fill:"none",stroke:"currentColor",strokeWidth:u,animate:s?"loading":h?"hover":"rest",variants:{rest:{rotate:0},loading:{rotate:360},hover:{rotate:10}},transition:{duration:2,repeat:s?1/0:0,ease:"circInOut",type:"spring",stiffness:60,damping:10}}),(0,n.jsx)(a.E.path,{fillRule:"evenodd",clipRule:"evenodd",d:"M30 23C30 26.866 26.866 30 23 30C19.134 30 16 26.866 16 23C16 19.134 19.134 16 23 16C26.866 16 30 19.134 30 23ZM31 23C31 27.4183 27.4183 31 23 31C18.5817 31 15 27.4183 15 23C15 18.5817 18.5817 15 23 15C27.4183 15 31 18.5817 31 23Z",fill:"none",stroke:"currentColor",strokeWidth:u,variants:{rest:{scale:1,x:0,y:0},loading:{scale:[1,1.1,1],x:0,y:0},hover:{scale:1.1}},animate:h?"hover":s?"loading":"rest",style:{x:f,y:j},transition:{duration:2,repeat:s?1/0:0,ease:"easeInOut"}})]})]})})}}]);