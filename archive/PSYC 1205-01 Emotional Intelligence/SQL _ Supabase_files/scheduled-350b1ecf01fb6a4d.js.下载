(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1252],{9752:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/database/backups/scheduled",function(){return a(74196)}])},40885:function(e,t,a){"use strict";var s=a(97458),r=a(32672),i=a(83145),n=a.n(i);a(52983);var l=a(33971),c=a(4981);t.Z=function(e){var t;let{active:a}=e,{ref:i,cloud_provider:d}=(null===(t=(0,r.d2)())||void 0===t?void 0:t.project)||{},o=[{enabled:!0,id:"scheduled",label:"Scheduled backups",href:"/project/".concat(i,"/database/backups/scheduled")},{enabled:!0,id:"pitr",label:"Point in time",href:"/project/".concat(i,"/database/backups/pitr")},{enabled:"FLY"!==d,id:"rtnp",label:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:["Restore to new project"," ",(0,s.jsx)(l.C,{size:"small",className:"!text-[10px] px-1.5 py-0",children:"New"})]}),href:"/project/".concat(i,"/database/backups/restore-to-new-project")}];return(0,s.jsx)(c.M,{className:"overflow-hidden overflow-x-auto",children:o.map(e=>e.enabled&&(0,s.jsx)(c._,{active:e.id===a,children:(0,s.jsx)(n(),{href:e.href,children:e.label})},e.id))})}},55527:function(e,t,a){"use strict";a.d(t,{p:function(){return n}});var s=a(97458),r=a(43633),i=a(27477);let n=e=>{let{title:t,description:a,docsUrl:n,actions:l,className:c}=e;return(0,s.jsxs)("div",{className:(0,r.cn)("w-full mb-6 flex flex-col sm:flex-row md:items-center justify-between gap-4 ".concat(c)),children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("h3",{className:"text-foreground text-xl prose",children:t}),a&&(0,s.jsx)("div",{className:"prose text-sm max-w-full",children:a})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row md:items-center gap-x-2",children:[void 0!==n&&(0,s.jsx)(i.G,{href:n}),l]})]})}},37315:function(e,t,a){"use strict";var s=a(97458),r=a(19369);t.Z=e=>{let{resourceText:t,isFullPage:a=!1}=e,i=()=>(0,s.jsx)("div",{className:"block w-full rounded border border-opacity-20 py-4 px-6 border-overlay bg-surface-200",children:(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)(r.Z,{size:20})}),(0,s.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("p",{className:"text-sm",children:["You need additional permissions to ",t]}),(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Contact your organization owner or administrator for assistance."})})]})})]})});return a?(0,s.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,s.jsx)("div",{className:"w-[550px]",children:(0,s.jsx)(i,{})})}):(0,s.jsx)(i,{})}},74196:function(e,t,a){"use strict";a.r(t);var s=a(97458),r=a(40540),i=a(21116),n=a(73512),l=a(21823),c=a(40885),d=a(405),o=a(33838),u=a(84261),f=a(27477),h=a(55527),x=a(62445),p=a(37315),m=a(61115),b=a(46825),v=a(94281),j=a(289),g=a(27429),N=a(38057);let k=()=>{let{ref:e}=(0,n.UO)(),{data:t,error:a,isLoading:d,isError:N,isSuccess:k}=(0,b.T)({projectRef:e}),w=(0,j.Qv)(),y=null==t?void 0:t.pitr_enabled,_=(0,v.N4)(),C=(0,v.Xo)(r.KA.READ,"back_ups");return(0,s.jsx)(o._S,{children:(0,s.jsx)(o.jX,{children:(0,s.jsx)("div",{className:"col-span-12",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(h.p,{className:"!mb-0",title:"Database Backups"}),(0,s.jsx)(c.Z,{active:"scheduled"}),w?(0,s.jsx)(g.J,{type:"default",title:"Database backups are not available for OrioleDB",description:"OrioleDB is currently in public alpha and projects created are strictly ephemeral with no database backups",children:(0,s.jsx)(f.G,{abbrev:!1,className:"mt-2",href:"https://supabase.com/docs"})}):(0,s.jsxs)("div",{className:"flex flex-col gap-y-4",children:[d&&(0,s.jsx)(m.A,{}),N&&(0,s.jsx)(u.Z,{error:a,subject:"Failed to retrieve scheduled backups"}),k&&(0,s.jsxs)(s.Fragment,{children:[!y&&(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Projects are backed up daily around midnight of your project's region and can be restored at any time."}),y&&(0,s.jsx)(x.Z,{hideCollapse:!0,defaultVisibility:!0,icon:(0,s.jsx)(i.Z,{strokeWidth:2}),title:"Point-In-Time-Recovery (PITR) enabled",description:(0,s.jsxs)("div",{children:["Your project uses PITR and full daily backups are no longer taken. They're not needed, as PITR supports a superset of functionality, in terms of the granular recovery that can be performed."," ",(0,s.jsx)("a",{className:"text-brand transition-colors hover:text-brand-600",href:"https://supabase.com/docs/guides/platform/backups",children:"Learn more"})]})}),_&&!C?(0,s.jsx)(p.Z,{resourceText:"view scheduled backups"}):(0,s.jsx)(l.M4,{})]})]})]})})})})};k.getLayout=e=>(0,s.jsx)(N.Z,{children:(0,s.jsx)(d.Z,{title:"Database",children:e})}),t.default=k},28289:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var s=a(97458),r=a(52983),i=a(17199),n=a(75675);function l(e,t){if(!t.error)return delete e[t.key],e;if(t)return{...e,[t.key]:t.error};throw Error()}function c(e){let{validate:t,...a}=e,[c,d]=(0,r.useReducer)(l,null),o=(0,i.TA)({validateOnBlur:!0,...a,validationSchema:a.validationSchema,initialValues:a.initialValues,onSubmit:a.onSubmit,validate:t||function(){return c}});return(0,s.jsx)("form",{id:a.id,name:a.name,onSubmit:o.handleSubmit,className:a.className,style:a.style,method:"POST",children:(0,s.jsx)(n.o,{values:o.values,errors:o.errors,formContextOnChange:o.handleChange,handleBlur:o.handleBlur,touched:o.touched,fieldLevelValidation:function(e,t){d({key:e,error:t})},children:a.children({errors:o.errors,touched:o.touched,isSubmitting:o.isSubmitting,isValidating:o.isValidating,submitCount:o.submitCount,initialValues:o.initialValues,values:o.values,handleReset:o.handleReset,resetForm:o.resetForm,setFieldValue:o.setFieldValue})})})}},4981:function(e,t,a){"use strict";a.d(t,{M:function(){return n},_:function(){return l}});var s=a(97458),r=a(52983),i=a(43633);let n=(0,r.forwardRef)((e,t)=>(0,s.jsx)("nav",{ref:t,dir:"ltr",...e,className:(0,i.cn)("border-b",e.className),children:(0,s.jsx)("ul",{role:"menu",className:"flex gap-5",children:e.children})})),l=(0,r.forwardRef)((e,t)=>{let{children:a,className:r,active:n,...l}=e;return(0,s.jsx)("li",{ref:t,"aria-selected":n?"true":"false","data-state":n?"active":"inactive",className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap text-sm ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground text-foreground-lighter hover:text-foreground data-[state=active]:border-foreground border-b-2 border-transparent *:py-1.5",r),...l,children:a})})},104:function(e,t,a){"use strict";a.d(t,{r:function(){return o}});var s=a(97458),r=a(56384),i=a(31706),n=a(52983),l=a(43633);let c=(0,i.j)("peer inline-flex shrink-0 cursor-pointer items-center rounded-full border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-brand data-[state=checked]:hover:bg-brand-600/90 data-[state=unchecked]:bg-control data-[state=unchecked]:hover:bg-border",{variants:{size:{small:"h-[16px] w-[28px]",medium:"h-[20px] w-[34px]",large:"h-[24px] w-[44px]"}},defaultVariants:{size:"medium"}}),d=(0,i.j)("pointer-events-none block rounded-full bg-foreground-lighter data-[state=checked]:bg-white shadow-lg ring-0 transition-transform",{variants:{size:{small:"h-[12px] w-[12px] data-[state=checked]:translate-x-[13px] data-[state=unchecked]:translate-x-[1px]",medium:"h-[16px] w-[16px] data-[state=checked]:translate-x-[15px] data-[state=unchecked]:translate-x-[1px]",large:"h-[18px] w-[18px] data-[state=checked]:translate-x-[22px] data-[state=unchecked]:translate-x-[3px]"}},defaultVariants:{size:"medium"}}),o=n.forwardRef((e,t)=>{let{className:a,size:i,...n}=e;return(0,s.jsx)(r.fC,{className:(0,l.cn)(c({size:i}),a),...n,ref:t,children:(0,s.jsx)(r.bU,{className:(0,l.cn)(d({size:i}))})})});o.displayName=r.fC.displayName}},function(e){e.O(0,[6665,3659,7186,7623,588,7037,8e3,6402,4418,8703,2303,6823,6499,4837,3297,441,1577,5605,1503,7702,5834,7198,3535,8232,3048,7199,5538,3767,2347,8777,8005,2578,1446,9198,4554,5631,8803,8482,5618,3881,9774,2888,179],function(){return e(e.s=9752)}),_N_E=e.O()}]);