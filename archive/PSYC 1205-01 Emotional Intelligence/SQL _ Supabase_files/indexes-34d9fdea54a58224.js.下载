(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6796],{8660:function(e){e.exports=function(e,n,t,s){for(var a=-1,r=null==e?0:e.length;++a<r;){var i=e[a];n(s,i,t(i),e)}return s}},3792:function(e,n,t){var s=t(61701);e.exports=function(e,n,t,a){return s(e,function(e,s,r){n(a,e,t(e),r)}),a}},48318:function(e,n,t){var s=t(84546),a=t(45436),r=t(99105),i=t(29233),l=t(31525),c=t(77026);e.exports=function(e,n,t,o){var d=-1,u=a,m=!0,x=e.length,h=[],p=n.length;if(!x)return h;t&&(n=i(n,l(t))),o?(u=r,m=!1):n.length>=200&&(u=c,m=!1,n=new s(n));e:for(;++d<x;){var f=e[d],g=null==t?f:t(f);if(f=o||0!==f?f:0,m&&g==g){for(var j=p;j--;)if(n[j]===g)continue e;h.push(f)}else u(n,g,o)||h.push(f)}return h}},17325:function(e,n,t){var s=t(8660),a=t(3792),r=t(55833),i=t(55589);e.exports=function(e,n){return function(t,l){var c=i(t)?s:a,o=n?n():{};return c(t,e,r(l,2),o)}}},40916:function(e,n,t){var s=t(54466),a=t(55589);e.exports=function(e,n,t,r){return null==e?[]:(a(n)||(n=null==n?[]:[n]),a(t=r?void 0:t)||(t=null==t?[]:[t]),s(e,n,t))}},50663:function(e,n,t){var s=t(17325)(function(e,n,t){e[t?0:1].push(n)},function(){return[[],[]]});e.exports=s},92238:function(e,n,t){var s=t(48318),a=t(29735),r=t(18268),i=a(function(e,n){return r(e)?s(e,n):[]});e.exports=i},99739:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/database/indexes",function(){return t(30920)}])},73692:function(e,n,t){"use strict";t.d(n,{b:function(){return d}});var s=t(97458),a=t(52983),r=t(37914),i=t(53486),l=t(19405),c=t(61958),o=t(19369);let d=e=>{let{visible:n,onClose:t}=e;return(0,s.jsx)(r.Z,{size:"medium",visible:n,header:"Schemas managed by Supabase",customFooter:(0,s.jsx)("div",{className:"flex items-center justify-end space-x-2",children:(0,s.jsx)(i.z,{type:"default",onClick:()=>t(),children:"Understood"})}),onCancel:()=>t(),children:(0,s.jsxs)(r.Z.Content,{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-sm",children:"The following schemas are managed by Supabase and are currently protected from write access through the dashboard."}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:c.s.map(e=>(0,s.jsx)("code",{className:"text-xs",children:e},e))}),(0,s.jsx)("p",{className:"text-sm !mt-4",children:"These schemas are critical to the functionality of your Supabase project and hence we highly recommend not altering them."}),(0,s.jsx)("p",{className:"text-sm",children:"You can, however, still interact with those schemas through the SQL Editor although we advise you only do so if you know what you are doing."})]})})};n.Z=e=>{let{schema:n,entity:t}=e,[r,c]=(0,a.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.bZ,{children:[(0,s.jsx)(o.Z,{strokeWidth:2}),(0,s.jsxs)(l.Cd,{children:["Currently viewing ",t," from a protected schema"]}),(0,s.jsxs)(l.X,{children:[(0,s.jsxs)("p",{className:"mb-2",children:["The ",(0,s.jsx)("code",{className:"text-xs",children:n})," schema is managed by Supabase and is read-only through the dashboard."]}),(0,s.jsx)(i.z,{type:"default",size:"tiny",onClick:()=>c(!0),children:"Learn more"})]})]}),(0,s.jsx)(d,{visible:r,onClose:()=>c(!1)})]})}},405:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var s=t(97458),a=t(32691),r=t(63640),i=t(4879),l=t(31723),c=t(17164),o=t(289),d=t(76026),u=t(15631),m=t(56535),x=t(11794);let h=(e,n)=>{var t;let a=null!==(t=null==e?void 0:e.ref)&&void 0!==t?t:"default",{pgNetExtensionExists:r,pitrEnabled:i,columnLevelPrivileges:l}=n||{};return[{title:"Database Management",items:[{name:"Schema Visualizer",key:"schemas",url:"/project/".concat(a,"/database/schemas"),items:[]},{name:"Tables",key:"tables",url:"/project/".concat(a,"/database/tables"),items:[]},{name:"Functions",key:"functions",url:"/project/".concat(a,"/database/functions"),items:[]},{name:"Triggers",key:"triggers",url:"/project/".concat(a,"/database/triggers"),items:[]},{name:"Enumerated Types",key:"types",url:"/project/".concat(a,"/database/types"),items:[]},{name:"Extensions",key:"extensions",url:"/project/".concat(a,"/database/extensions"),items:[]},{name:"Indexes",key:"indexes",url:"/project/".concat(a,"/database/indexes"),items:[]},{name:"Publications",key:"publications",url:"/project/".concat(a,"/database/publications"),items:[]}]},{title:"Access Control",items:[{name:"Roles",key:"roles",url:"/project/".concat(a,"/database/roles"),items:[]},...l?[{name:"Column Privileges",key:"column-privileges",url:"/project/".concat(a,"/database/column-privileges"),items:[],label:"ALPHA"}]:[],{name:"Policies",key:"policies",url:"/project/".concat(a,"/auth/policies"),rightIcon:(0,s.jsx)(x.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]}]},{title:"Platform",items:[...m.Qy?[{name:"Backups",key:"backups",url:i?"/project/".concat(a,"/database/backups/pitr"):"/project/".concat(a,"/database/backups/scheduled"),items:[]}]:[],{name:"Migrations",key:"migrations",url:"/project/".concat(a,"/database/migrations"),items:[]},{name:"Wrappers",key:"wrappers",url:"/project/".concat(a,"/integrations?category=wrapper"),rightIcon:(0,s.jsx)(x.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]},...r?[{name:"Webhooks",key:"hooks",url:"/project/".concat(a,"/integrations/webhooks/overview"),rightIcon:(0,s.jsx)(x.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]}]:[]]},{title:"Tools",items:[{name:"Security Advisor",key:"security-advisor",url:"/project/".concat(a,"/advisors/security"),rightIcon:(0,s.jsx)(x.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]},{name:"Performance Advisor",key:"performance-advisor",url:"/project/".concat(a,"/advisors/performance"),rightIcon:(0,s.jsx)(x.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]},{name:"Query Performance",key:"query-performance",url:"/project/".concat(a,"/advisors/query-performance"),rightIcon:(0,s.jsx)(x.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]}]}]},p=()=>{let e=(0,o.Vm)(),n=(0,a.useRouter)().pathname.split("/")[4],{data:t}=(0,l.H)({projectRef:null==e?void 0:e.ref,connectionString:null==e?void 0:e.connectionString}),{data:d}=(0,c.F)({projectRef:null==e?void 0:e.ref}),u=void 0!==(null!=t?t:[]).find(e=>"pg_net"===e.name),m=(null==d?void 0:d.selected_addons.find(e=>"pitr"===e.type))!==void 0,x=(0,r.ar)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.Q,{page:n,menu:h(e,{pgNetExtensionExists:u,pitrEnabled:m,columnLevelPrivileges:x})})})};var f=(0,d.Q)(e=>{let{children:n}=e;return(0,s.jsx)(u.Z,{product:"Database",productMenu:(0,s.jsx)(p,{}),isBlocking:!1,children:n})})},38057:function(e,n,t){"use strict";t.d(n,{Z:function(){return _}});var s=t(97458),a=t(73512),r=t(26328),i=t(78859),l=t(88803),c=t(3666),o=t(7350),d=t(16696),u=t(65206),m=t(83145),x=t.n(m),h=t(32691),p=t(52983),f=t(56535),g=t(43633),j=t(53486),v=t(78978),y=t(95909),b=()=>{let e=(0,h.useRouter)(),[n,t]=(0,p.useState)(!1),{ref:r}=(0,a.UO)();return(0,s.jsxs)("div",{className:"h-14 w-full flex flex-row md:hidden",children:[(0,s.jsxs)("nav",{className:(0,g.cn)("group px-4 z-10 w-full h-14","border-b bg-dash-sidebar border-default shadow-xl","transition-width duration-200","hide-scrollbar flex flex-row items-center justify-between overflow-x-auto"),children:[(0,s.jsx)(x(),{href:f.Qy?"/projects":"/project/".concat(r),className:"flex items-center h-[26px] w-[26px] min-w-[26px]",children:(0,s.jsx)("img",{alt:"Supabase",src:"".concat(e.basePath,"/img/supabase-logo.svg"),className:"absolute h-[26px] w-[26px] cursor-pointer rounded"})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(v.av,{children:(0,s.jsx)("button",{className:(0,g.cn)("group","flex-grow h-[30px] rounded-md","p-2","flex items-center justify-between","bg-transparent border-none text-foreground-lighter","hover:bg-opacity-100 hover:border-strong hover:text-foreground-light","focus-visible:!outline-4 focus-visible:outline-offset-1 focus-visible:outline-brand-600","transition"),children:(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)(d.Z,{size:18,strokeWidth:2})})})}),(0,s.jsx)("button",{title:"Menu dropdown button",className:(0,g.cn)((0,j.d)({type:"default"}),"flex lg:hidden border-default bg-surface-100/75 text-foreground-light rounded-md min-w-[30px] w-[30px] h-[30px] data-[state=open]:bg-overlay-hover/30"),onClick:()=>t(!0),children:(0,s.jsx)(u.Z,{size:18,strokeWidth:1})})]})]}),(0,s.jsx)(y.Z,{open:n,onOpenChange:t,"data-state":"expanded",children:(0,s.jsx)(l.TZ,{})})]})},N=t(32672),_=e=>{let{children:n,showProductMenu:t}=e,{ref:d}=(0,a.UO)();return(0,s.jsx)(c.Hn,{defaultOpen:!1,children:(0,s.jsx)(N.Ml,{projectRef:d,children:(0,s.jsx)(i.EA,{children:(0,s.jsxs)("div",{className:"flex flex-col h-screen w-screen",children:[(0,s.jsx)(r.l,{}),(0,s.jsxs)("div",{className:"flex-shrink-0",children:[(0,s.jsx)(b,{}),(0,s.jsx)(o.N,{showProductMenu:t})]}),(0,s.jsxs)("div",{className:"flex flex-1 w-full overflow-y-hidden",children:[(0,s.jsx)(l.YE,{}),(0,s.jsx)("div",{className:"flex-grow h-full overflow-y-auto",children:n})]})]})})})})}},33838:function(e,n,t){"use strict";t.d(n,{CG:function(){return N},FW:function(){return m},I7:function(){return h},Lc:function(){return j},RN:function(){return f},Wv:function(){return y},_S:function(){return o},g$:function(){return g},gW:function(){return _},jX:function(){return x},q7:function(){return u},qw:function(){return p},s_:function(){return c},tM:function(){return v},tU:function(){return d},ur:function(){return b},y:function(){return l}});var s=t(97458),a=t(52983),r=t(41212),i=t(43633);let l="mx-auto w-full max-w-[1200px]",c="px-4 md:px-6 lg:px-14 xl:px-24 2xl:px-28",o=(0,a.forwardRef)((e,n)=>{let{className:t,bottomPadding:a,size:l="default",...o}=e,{aiAssistantPanel:d}=(0,r.WZ)(),{open:u}=d;return(0,s.jsx)("div",{ref:n,...o,className:(0,i.cn)("mx-auto w-full",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[l],c,a&&"pb-16",u?"xl:px-6":"",t)})}),d=(0,a.forwardRef)((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)("header",{...a,ref:n,className:(0,i.cn)("w-full","flex-col gap-3 py-6",t)})}),u=(0,a.forwardRef)((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)("h1",{ref:n,...a,className:(0,i.cn)("text-2xl",t)})}),m=(0,a.forwardRef)((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)("p",{ref:n,...a,className:(0,i.cn)("text-sm text-foreground-light",t)})}),x=(0,a.forwardRef)((e,n)=>{let{className:t,isFullWidth:a,topPadding:r,...l}=e;return(0,s.jsx)("div",{ref:n,...l,className:(0,i.cn)("flex flex-col first:pt-12 py-6",a?"w-full":"gap-3 lg:grid md:grid-cols-12",t)})}),h=(0,a.forwardRef)((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:n,...a,className:(0,i.cn)("w-full h-px bg-border",t)})}),p=(0,a.forwardRef)((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)("h3",{ref:n,...a,className:(0,i.cn)("text-foreground text-xl",t)})}),f=(0,a.forwardRef)((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)("p",{ref:n,...a,className:(0,i.cn)("text-sm text-foreground-light",t)})}),g=(0,a.forwardRef)((e,n)=>{let{className:t,children:a,title:r,...l}=e;return(0,s.jsxs)("div",{ref:n,...l,className:(0,i.cn)("col-span-4 xl:col-span-5 prose text-sm",t),children:[r&&(0,s.jsx)("h2",{children:r}),a]})}),j=(0,a.forwardRef)((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:n,...a,className:(0,i.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",t)})}),v=(0,a.forwardRef)((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:n,...a,className:(0,i.cn)("flex flex-col gap-3 items-center",t)})}),y=(0,a.forwardRef)((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:n,...a,className:(0,i.cn)("flex w-full items-center",t)})}),b=(0,a.forwardRef)((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:n,...a,className:(0,i.cn)("flex flex-row gap-3",t)})}),N=(0,a.forwardRef)((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:n,...a,className:(0,i.cn)("flex flex-col gap-3","min-w-[420px]",t)})}),_=(0,a.forwardRef)((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:n,...a,className:(0,i.cn)(l,c,"my-8 flex flex-col gap-8",t)})});d.displayName="ScaffoldHeader",u.displayName="ScaffoldTitle",m.displayName="ScaffoldDescription",o.displayName="ScaffoldContainer",h.displayName="ScaffoldDivider",x.displayName="ScaffoldSection",N.displayName="ScaffoldColumn",g.displayName="ScaffoldSectionDetail",j.displayName="ScaffoldSectionContent",v.displayName="ScaffoldFilterAndContent",y.displayName="ScaffoldActionsContainer",b.displayName="ScaffoldActionsGroup",_.displayName="ScaffoldContainerLegacy",p.displayName="ScaffoldSectionTitle",f.displayName="ScaffoldSectionDescription"},55527:function(e,n,t){"use strict";t.d(n,{p:function(){return i}});var s=t(97458),a=t(43633),r=t(27477);let i=e=>{let{title:n,description:t,docsUrl:i,actions:l,className:c}=e;return(0,s.jsxs)("div",{className:(0,a.cn)("w-full mb-6 flex flex-col sm:flex-row md:items-center justify-between gap-4 ".concat(c)),children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("h3",{className:"text-foreground text-xl prose",children:n}),t&&(0,s.jsx)("div",{className:"prose text-sm max-w-full",children:t})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row md:items-center gap-x-2",children:[void 0!==i&&(0,s.jsx)(r.G,{href:i}),l]})]})}},74172:function(e,n,t){"use strict";var s=t(97458),a=t(83145),r=t.n(a),i=t(33880),l=t(33971),c=t(53486);n.Z=e=>{let{name:n="",isActive:t,isExternal:a,icon:o,rightIcon:d,url:u="",target:m="_self",onClick:x,textClassName:h="",hoverText:p="",label:f}=e,g=(0,s.jsx)(i.ZP.Item,{icon:o,rounded:!0,active:t,onClick:x,children:(0,s.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,s.jsxs)("div",{title:p||("string"==typeof n?n:""),className:"flex items-center gap-2 truncate w-full "+h,children:[(0,s.jsxs)("span",{className:"truncate",children:[n," "]}),void 0!==f&&(0,s.jsx)(l.C,{variant:"warning",className:"py-0 px-1.5 capitalize",children:f})]}),d&&(0,s.jsx)("div",{children:d})]})});return u?a?(0,s.jsx)(c.z,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:o,children:(0,s.jsx)(r(),{href:u,target:"_blank",rel:"noreferrer",children:n})}):(0,s.jsx)(r(),{href:u,className:"block",target:m,children:g}):g}},4879:function(e,n,t){"use strict";t.d(n,{Q:function(){return l}});var s=t(97458),a=t(33880),r=t(33971),i=t(74172),l=e=>{let{page:n,menu:t}=e;return(0,s.jsx)("div",{className:"flex flex-col space-y-8 overflow-y-auto",children:(0,s.jsx)(a.ZP,{type:"pills",children:t.map((e,l)=>(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"my-6 space-y-8",children:(0,s.jsxs)("div",{className:"mx-3",children:[(0,s.jsx)(a.ZP.Group,{title:e.title?(0,s.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,s.jsx)("span",{children:e.title}),e.isPreview&&(0,s.jsx)(r.C,{variant:"warning",children:"Not production ready"})]}):null}),(0,s.jsx)("div",{children:e.items.map(e=>{let t=e.pages?e.pages.includes(n):n===e.key;return(0,s.jsx)(i.Z,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:t,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key)})})]})}),l!==t.length-1&&(0,s.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}},58427:function(e,n,t){"use strict";var s=t(97458),a=t(40540),r=t(26833),i=t(9738),l=t(4534),c=t(52983),o=t(32672),d=t(1447),u=t(94281),m=t(53486),x=t(95293),h=t(19405),p=t(12753),f=t(22921),g=t(12361);n.Z=e=>{let{className:n,disabled:t=!1,size:j="tiny",showError:v=!0,selectedSchemaName:y,supportSelectAll:b=!1,excludedSchemas:N=[],onSelectSchema:_,onSelectCreateSchema:w}=e,[k,S]=(0,c.useState)(!1),q=(0,u.Xo)(a.KA.TENANT_SQL_ADMIN_WRITE,"schemas"),{project:C}=(0,o.d2)(),{data:E,isLoading:Z,isSuccess:R,isError:T,error:A,refetch:z}=(0,d.Q1)({projectRef:null==C?void 0:C.ref,connectionString:null==C?void 0:C.connectionString}),L=(E||[]).filter(e=>!N.includes(e.name)).sort((e,n)=>e.name.localeCompare(n.name));return(0,s.jsxs)("div",{className:n,children:[Z&&(0,s.jsx)(m.z,{type:"default",className:"w-full [&>span]:w-full",size:j,disabled:!0,children:(0,s.jsx)(x.O,{className:"w-full h-3 bg-foreground-muted"})},"schema-selector-skeleton"),v&&T&&(0,s.jsxs)(h.bZ,{variant:"warning",className:"!px-3 !py-3",children:[(0,s.jsx)(h.Cd,{className:"text-xs text-amber-900",children:"Failed to load schemas"}),(0,s.jsxs)(h.X,{className:"text-xs mb-2 break-words",children:["Error: ",null==A?void 0:A.message]}),(0,s.jsx)(m.z,{type:"default",size:"tiny",onClick:()=>z(),children:"Reload schemas"})]}),R&&(0,s.jsxs)(p.J2,{open:k,onOpenChange:S,modal:!1,children:[(0,s.jsx)(p.xo,{asChild:!0,children:(0,s.jsx)(m.z,{size:j,disabled:t,type:"default","data-testid":"schema-selector",className:"w-full [&>span]:w-full !pr-1 space-x-1",iconRight:(0,s.jsx)(r.Z,{className:"text-foreground-muted",strokeWidth:2,size:14}),children:y?(0,s.jsxs)("div",{className:"w-full flex gap-1",children:[(0,s.jsx)("p",{className:"text-foreground-lighter",children:"schema"}),(0,s.jsx)("p",{className:"text-foreground",children:"*"===y?"All schemas":y})]}):(0,s.jsx)("div",{className:"w-full flex gap-1",children:(0,s.jsx)("p",{className:"text-foreground-lighter",children:"Choose a schema…"})})})}),(0,s.jsx)(p.yk,{className:"p-0 min-w-[200px]",side:"bottom",align:"start",sameWidthAsTrigger:!0,children:(0,s.jsxs)(f.mY,{children:[(0,s.jsx)(f.sZ,{placeholder:"Find schema..."}),(0,s.jsxs)(f.e8,{children:[(0,s.jsx)(f.rb,{children:"No schemas found"}),(0,s.jsx)(f.fu,{children:(0,s.jsxs)(g.xr,{className:(L||[]).length>7?"h-[210px]":"",children:[b&&(0,s.jsxs)(f.di,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{_("*"),S(!1)},onClick:()=>{_("*"),S(!1)},children:[(0,s.jsx)("span",{children:"All schemas"}),"*"===y&&(0,s.jsx)(i.Z,{className:"text-brand",strokeWidth:2,size:16})]},"select-all"),null==L?void 0:L.map(e=>(0,s.jsxs)(f.di,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{_(e.name),S(!1)},onClick:()=>{_(e.name),S(!1)},children:[(0,s.jsx)("span",{children:e.name}),y===e.name&&(0,s.jsx)(i.Z,{className:"text-brand",strokeWidth:2,size:16})]},e.id))]})}),void 0!==w&&q&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.zz,{}),(0,s.jsx)(f.fu,{children:(0,s.jsxs)(f.di,{className:"cursor-pointer flex items-center gap-x-2 w-full",onSelect:()=>{w(),S(!1)},onClick:()=>{w(),S(!1)},children:[(0,s.jsx)(l.Z,{size:12}),"Create a new schema"]})})]})]})]})})]})]})}},31723:function(e,n,t){"use strict";t.d(n,{H:function(){return o}});var s=t(28894),a=t(129),r=t(39310),i=t(289),l=t(56535);async function c(e,n){let{projectRef:t,connectionString:s}=e;if(!t)throw Error("projectRef is required");let r=new Headers;s&&r.set("x-connection-encrypted",s);let{data:i,error:l}=await (0,a.U2)("/platform/pg-meta/{ref}/extensions",{params:{header:{"x-connection-encrypted":s},path:{ref:t}},headers:r,signal:n});return l&&(0,a.S3)(l),i}let o=function(e){let{projectRef:n,connectionString:t}=e,{enabled:a=!0,...o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=(0,i.Vm)(),u=(null==d?void 0:d.status)===l.S.ACTIVE_HEALTHY;return(0,s.a)(r.o.list(n),e=>{let{signal:s}=e;return c({projectRef:n,connectionString:t},s)},{enabled:a&&void 0!==n&&u,...o})}},67133:function(e,n,t){"use strict";t.d(n,{LW:function(){return u},bn:function(){return p}});var s=t(36457),a=t(64618),r=t(34549),i=t(15538),l=t.n(i),c=t(70864),o=t(32161),d=t(63609);let u="pgmq_public",m=l()("\ncreate schema if not exists ".concat(u,";\ngrant usage on schema ").concat(u," to postgres, anon, authenticated, service_role;\n\ncreate or replace function ").concat(u,".pop(\n    queue_name text\n)\n  returns setof pgmq.message_record\n  language plpgsql\n  set search_path = ''\nas $$\nbegin\n    return query\n    select *\n    from pgmq.pop(\n        queue_name := queue_name\n    );\nend;\n$$;\n\ncomment on function ").concat(u,".pop(queue_name text) is 'Retrieves and locks the next message from the specified queue.';\n\n\ncreate or replace function ").concat(u,".send(\n    queue_name text,\n    message jsonb,\n    sleep_seconds integer default 0  -- renamed from 'delay'\n)\n  returns setof bigint\n  language plpgsql\n  set search_path = ''\nas $$\nbegin\n    return query\n    select *\n    from pgmq.send(\n        queue_name := queue_name,\n        msg := message,\n        delay := sleep_seconds\n    );\nend;\n$$;\n\ncomment on function ").concat(u,".send(queue_name text, message jsonb, sleep_seconds integer) is 'Sends a message to the specified queue, optionally delaying its availability by a number of seconds.';\n\n\ncreate or replace function ").concat(u,".send_batch(\n    queue_name text,\n    messages jsonb[],\n    sleep_seconds integer default 0  -- renamed from 'delay'\n)\n  returns setof bigint\n  language plpgsql\n  set search_path = ''\nas $$\nbegin\n    return query\n    select *\n    from pgmq.send_batch(\n        queue_name := queue_name,\n        msgs := messages,\n        delay := sleep_seconds\n    );\nend;\n$$;\n\ncomment on function ").concat(u,".send_batch(queue_name text, messages jsonb[], sleep_seconds integer) is 'Sends a batch of messages to the specified queue, optionally delaying their availability by a number of seconds.';\n\n\ncreate or replace function ").concat(u,".archive(\n    queue_name text,\n    message_id bigint\n)\n  returns boolean\n  language plpgsql\n  set search_path = ''\nas $$\nbegin\n    return\n    pgmq.archive(\n        queue_name := queue_name,\n        msg_id := message_id\n    );\nend;\n$$;\n\ncomment on function ").concat(u,".archive(queue_name text, message_id bigint) is 'Archives a message by moving it from the queue to a permanent archive.';\n\n\ncreate or replace function ").concat(u,".delete(\n    queue_name text,\n    message_id bigint\n)\n  returns boolean\n  language plpgsql\n  set search_path = ''\nas $$\nbegin\n    return\n    pgmq.delete(\n        queue_name := queue_name,\n        msg_id := message_id\n    );\nend;\n$$;\n\ncomment on function ").concat(u,".delete(queue_name text, message_id bigint) is 'Permanently deletes a message from the specified queue.';\n\ncreate or replace function ").concat(u,".read(\n    queue_name text,\n    sleep_seconds integer,\n    n integer\n)\n  returns setof pgmq.message_record\n  language plpgsql\n  set search_path = ''\nas $$\nbegin\n    return query\n    select *\n    from pgmq.read(\n        queue_name := queue_name,\n        vt := sleep_seconds,\n        qty := n\n    );\nend;\n$$;\n\ncomment on function ").concat(u,'.read(queue_name text, sleep_seconds integer, n integer) is \'Reads up to "n" messages from the specified queue with an optional "sleep_seconds" (visibility timeout).\';\n\n-- Grant execute permissions on wrapper functions to roles\ngrant execute on function ').concat(u,".pop(text) to postgres, service_role, anon, authenticated;\ngrant execute on function pgmq.pop(text) to postgres, service_role, anon, authenticated;\n\ngrant execute on function ").concat(u,".send(text, jsonb, integer) to postgres, service_role, anon, authenticated;\ngrant execute on function pgmq.send(text, jsonb, integer) to postgres, service_role, anon, authenticated;\n\ngrant execute on function ").concat(u,".send_batch(text, jsonb[], integer) to postgres, service_role, anon, authenticated;\ngrant execute on function pgmq.send_batch(text, jsonb[], integer) to postgres, service_role, anon, authenticated;\n\ngrant execute on function ").concat(u,".archive(text, bigint) to postgres, service_role, anon, authenticated;\ngrant execute on function pgmq.archive(text, bigint) to postgres, service_role, anon, authenticated;\n\ngrant execute on function ").concat(u,".delete(text, bigint) to postgres, service_role, anon, authenticated;\ngrant execute on function pgmq.delete(text, bigint) to postgres, service_role, anon, authenticated;\n\ngrant execute on function ").concat(u,".read(text, integer, integer) to postgres, service_role, anon, authenticated;\ngrant execute on function pgmq.read(text, integer, integer) to postgres, service_role, anon, authenticated;\n\n-- For the service role, we want full access\n-- Grant permissions on existing tables\ngrant all privileges on all tables in schema pgmq to postgres, service_role;\n\n-- Ensure service_role has permissions on future tables\nalter default privileges in schema pgmq grant all privileges on tables to postgres, service_role;\n\ngrant usage on schema pgmq to postgres, anon, authenticated, service_role;\n\n\n/*\n  Grant access to sequences to API roles by default. Existing table permissions\n  continue to enforce insert restrictions. This is necessary to accommodate the\n  on-backup hook that rebuild queue table primary keys to avoid a pg_dump segfault.\n  This can be removed once logical backups are completely retired.\n*/\ngrant usage, select, update\non all sequences in schema pgmq\nto anon, authenticated, service_role;\n\nalter default privileges in schema pgmq\ngrant usage, select, update\non sequences\nto anon, authenticated, service_role;\n")),x=l()("\n  drop function if exists \n    ".concat(u,".pop(queue_name text),\n    ").concat(u,".send(queue_name text, message jsonb, sleep_seconds integer),\n    ").concat(u,".send_batch(queue_name text, message jsonb[], sleep_seconds integer),\n    ").concat(u,".archive(queue_name text, message_id bigint),\n    ").concat(u,".delete(queue_name text, message_id bigint),\n    ").concat(u,".read(queue_name text, sleep integer, n integer)\n  ;\n\n  -- Revoke execute permissions on inner pgmq functions to roles (inverse of enabling)\n  do $$\n  begin\n      if exists (select 1 from pg_namespace where nspname = 'pgmq') then\n          -- Revoke privileges on the schema itself\n          revoke all on schema pgmq from anon, authenticated, service_role;\n          \n          -- Revoke default privileges for future objects\n          alter default privileges in schema pgmq revoke all on tables from anon, authenticated, service_role;\n          alter default privileges in schema pgmq revoke all on sequences from anon, authenticated, service_role;\n          alter default privileges in schema pgmq revoke all on functions from anon, authenticated, service_role;\n      end if;\n  end $$;\n\n  drop schema if exists ").concat(u,";\n"));async function h(e){let{projectRef:n,connectionString:t,enable:s}=e,{result:a}=await (0,c.R)({projectRef:n,connectionString:t,sql:s?m:x,queryKey:["toggle-queues-exposure"]});return a}let p=function(){let{onSuccess:e,onError:n,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,s.NL)();return(0,a.D)(e=>h(e),{async onSuccess(n,t,s){let{projectRef:a}=t;await i.invalidateQueries(o.a.exposePostgrestStatus(a)),i.invalidateQueries(d.A.schemas(a)),await (null==e?void 0:e(n,t,s))},async onError(e,t,s){void 0===n?r.Am.error("Failed to toggle queue exposure via PostgREST: ".concat(e.message)):n(e,t,s)},...t})}},32161:function(e,n,t){"use strict";t.d(n,{a:function(){return s}});let s={create:()=>["queues","create"],delete:e=>["queues",e,"delete"],purge:e=>["queues",e,"purge"],getMessagesInfinite:(e,n,t)=>["projects",e,"queue-messages",n,t].filter(Boolean),list:e=>["projects",e,"queues"],metrics:(e,n)=>["projects",e,"queue-metrics",n],exposePostgrestStatus:e=>["projects",e,"queue-expose-status"]}},29952:function(e,n,t){"use strict";t.d(n,{Kz:function(){return c}});var s=t(28894),a=t(70864),r=t(63609);let i=e=>{let{table:n,schema:t}=e,s=[];n&&s.push("tablename = '".concat(n,"'")),t&&s.push("schemaname = '".concat(t,"'"));let a=s.length>0?"WHERE ".concat(s.join(" AND ")):"";return"\n  \n  SELECT\n    tbl.schemaname,\n    tbl.tablename,\n    tbl.quoted_name,\n    tbl.is_table,\n    json_agg(a) as columns\n  FROM\n    (\n      SELECT\n        n.nspname as schemaname,\n        c.relname as tablename,\n        (quote_ident(n.nspname) || '.' || quote_ident(c.relname)) as quoted_name,\n        true as is_table\n      FROM\n        pg_catalog.pg_class c\n        JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace\n      WHERE\n        c.relkind = 'r'\n        AND n.nspname not in ('information_schema', 'pg_catalog', 'pg_toast')\n        AND n.nspname not like 'pg_temp_%'\n        AND n.nspname not like 'pg_toast_temp_%'\n        AND has_schema_privilege(n.oid, 'USAGE') = true\n        AND has_table_privilege(quote_ident(n.nspname) || '.' || quote_ident(c.relname), 'SELECT, INSERT, UPDATE, DELETE, TRUNCATE, REFERENCES, TRIGGER') = true\n      union all\n      SELECT\n        n.nspname as schemaname,\n        c.relname as tablename,\n        (quote_ident(n.nspname) || '.' || quote_ident(c.relname)) as quoted_name,\n        false as is_table\n      FROM\n        pg_catalog.pg_class c\n        JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace\n      WHERE\n        c.relkind in ('v', 'm')\n        AND n.nspname not in ('information_schema', 'pg_catalog', 'pg_toast')\n        AND n.nspname not like 'pg_temp_%'\n        AND n.nspname not like 'pg_toast_temp_%'\n        AND has_schema_privilege(n.oid, 'USAGE') = true\n        AND has_table_privilege(quote_ident(n.nspname) || '.' || quote_ident(c.relname), 'SELECT, INSERT, UPDATE, DELETE, TRUNCATE, REFERENCES, TRIGGER') = true\n    ) as tbl\n    LEFT JOIN (\n      SELECT\n        attrelid,\n        attname,\n        format_type(atttypid, atttypmod) as data_type,\n        attnum,\n        attisdropped\n      FROM\n        pg_attribute\n    ) as a ON (\n      a.attrelid = tbl.quoted_name::regclass\n      AND a.attnum > 0\n      AND NOT a.attisdropped\n      AND has_column_privilege(tbl.quoted_name, a.attname, 'SELECT, INSERT, UPDATE, REFERENCES')\n    )\n  ".concat(a,"\n  GROUP BY schemaname, tablename, quoted_name, is_table;\n").trim()};async function l(e,n){let{projectRef:t,connectionString:s,table:r,schema:l}=e,c=i({table:r,schema:l}),{result:o}=await (0,a.R)({projectRef:t,connectionString:s,sql:c,queryKey:["table-columns",l,r]},n);return o}let c=function(e){let{projectRef:n,connectionString:t,schema:a,table:i}=e,{enabled:c=!0,...o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.a)(r.A.tableColumns(n,a,i),e=>{let{signal:s}=e;return l({projectRef:n,connectionString:t,schema:a,table:i},s)},{enabled:c&&void 0!==n,...o})}},50998:function(e,n,t){"use strict";t.d(n,{B:function(){return c}});var s=t(62213),a=t(52983),r=t(73512),i=t(56535);let l=e=>(0,s.v1)("schema",s.Oi.withDefault(e)),c=()=>{let{ref:e}=(0,r.UO)(),n=e&&e.length>0&&window.localStorage.getItem(i.dA.LAST_SELECTED_SCHEMA(e))||"public",[t,s]=l((0,a.useMemo)(()=>n,[e]));return(0,a.useEffect)(()=>{e&&e.length>0&&window.localStorage.setItem(i.dA.LAST_SELECTED_SCHEMA(e),t)},[t,e]),{selectedSchema:t,setSelectedSchema:s}}},61958:function(e,n,t){"use strict";t.d(n,{T:function(){return a},s:function(){return s}});let s=["auth","cron","extensions","information_schema","net","pgsodium","pgsodium_masks","pgbouncer","pgtle","realtime","storage","supabase_functions","supabase_migrations","vault","graphql","graphql_public",t(67133).LW],a=s.filter(e=>"extensions"!==e)},30920:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ec}});var s=t(97458),a=t(99033),r=t(50663),i=t.n(r),l=t(71635),c=t.n(l),o=t(52983),d=t(34549),u=t(73512),m=t(32672),x=t(2052),h=t(84261),p=t(81932),f=t(58427),g=t(61115),j=t(28894),v=t(70864),y=t(63609);let b=e=>{let{schema:n}=e;return'\nSELECT schemaname as "schema",\n  tablename as "table",\n  indexname as "name",\n  indexdef as "definition"\nFROM pg_indexes\nWHERE schemaname = \''.concat(n,"';\n").trim()};async function N(e,n){let{schema:t,projectRef:s,connectionString:a}=e;if(!t)throw Error("schema is required");let r=b({schema:t}),{result:i}=await (0,v.R)({projectRef:s,connectionString:a,sql:r,queryKey:["indexes",t]},n);return i}let _=function(e){let{projectRef:n,connectionString:t,schema:s}=e,{enabled:a=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,j.a)(y.A.indexes(n,s),e=>{let{signal:a}=e;return N({projectRef:n,connectionString:t,schema:s},a)},{enabled:a&&void 0!==n&&void 0!==s,...r})};var w=t(1447),k=t(49736),S=t(50998),q=t(61958),C=t(19369),E=t(16696),Z=t(26597),R=t(60661),T=t(53486),A=t(26944),z=t(15518),L=t(73692),D=t(36457),F=t(26833),P=t(9738),M=t(85847),O=t(83145),W=t.n(O),I=t(29952),$=t(92464),G=t(12753),H=t(22921),Q=t(12361),U=t(43633),B=t(68981),V=t(41013),Y=t(59225);let X=[{name:"B-Tree",value:"btree",description:"For querying data with equality or range conditions on columns.\nThis is the default index type that Postgres uses."},{name:"Hash",value:"hash",description:"For querying exact matches on columns"},{name:"GiST",value:"gist",description:"For querying complex data types or custom-defined operators"},{name:"SP-GiST",value:"spgist",description:"Similar to GiST, but is more specialized and customizable"},{name:"GIN",value:"gin",description:"For querying multi-valued data such as arrays or full-text search scenarios"},{name:"BRIN",value:"brin",description:"For querying large tables with sorted data"}];var J=t(289),K=t(27429),ee=t(27477),en=e=>{var n,t;let{visible:a,onClose:r}=e,i=(0,D.NL)(),{project:l}=(0,m.d2)(),c=(0,J.Qv)(),[u,x]=(0,o.useState)("public"),[h,f]=(0,o.useState)(void 0),[j,v]=(0,o.useState)([]),[b,N]=(0,o.useState)(X[0].value),[_,S]=(0,o.useState)(!1),[q,C]=(0,o.useState)(!1),[E,Z]=(0,o.useState)(""),{data:R}=(0,w.Q1)({projectRef:null==l?void 0:l.ref,connectionString:null==l?void 0:l.connectionString}),{data:z,isLoading:L}=(0,$.Hp)({schemas:[u],sort:"alphabetical",search:E,projectRef:null==l?void 0:l.ref,connectionString:null==l?void 0:l.connectionString}),{data:O,isLoading:en,isSuccess:et}=(0,I.Kz)({schema:u,table:h,projectRef:null==l?void 0:l.ref,connectionString:null==l?void 0:l.connectionString}),{mutate:es,isLoading:ea}=(0,k.r)({onSuccess:async()=>{await i.invalidateQueries(y.A.indexes(null==l?void 0:l.ref,u)),r(),d.Am.success("Successfully created index")},onError:e=>{d.Am.error("Failed to create index: ".concat(e.message))}}),er=(0,o.useMemo)(()=>(null==z?void 0:z.pages.flatMap(e=>e.data.entities))||[],[null==z?void 0:z.pages]);function ei(e){Z(e)}let el=(null!==(t=null==O?void 0:null===(n=O[0])||void 0===n?void 0:n.columns)&&void 0!==t?t:[]).filter(e=>null!==e).map(e=>({id:e.attname,value:e.attname,name:e.attname,disabled:!1})),ec='\nCREATE INDEX ON "'.concat(u,'"."').concat(h,'" USING ').concat(b," (").concat(j.map(e=>'"'.concat(e,'"')).join(", "),");\n").trim(),eo=()=>{if(!l)return console.error("Project is required");es({projectRef:l.ref,connectionString:l.connectionString,sql:ec})};(0,o.useEffect)(()=>{a&&(x("public"),f(""),v([]),N(X[0].value))},[a]),(0,o.useEffect)(()=>{f(""),v([]),N(X[0].value)},[u]),(0,o.useEffect)(()=>{v([]),N(X[0].value)},[h]);let ed=0===er.length;return(0,s.jsx)(A.ZP,{size:"large",header:"Create new index",visible:a,onCancel:r,onConfirm:()=>eo(),loading:ea,confirmText:"Create index",children:(0,s.jsxs)("div",{className:"py-6 space-y-6",children:[(0,s.jsxs)(A.ZP.Content,{className:"space-y-6",children:[(0,s.jsx)(Y.E,{label:"Select a schema",name:"select-schema",isReactForm:!1,children:(0,s.jsxs)(G.J2,{modal:!1,open:_,onOpenChange:S,children:[(0,s.jsx)(G.xo,{asChild:!0,children:(0,s.jsx)(T.z,{type:"default",size:"medium",className:"w-full [&>span]:w-full text-left",iconRight:(0,s.jsx)(F.Z,{className:"text-foreground-muted",strokeWidth:2,size:14}),children:void 0!==u&&""!==u?u:"Choose a schema"})}),(0,s.jsx)(G.yk,{className:"p-0",side:"bottom",align:"start",sameWidthAsTrigger:!0,children:(0,s.jsxs)(H.mY,{children:[(0,s.jsx)(H.sZ,{placeholder:"Find table...",value:E,onValueChange:ei}),(0,s.jsxs)(H.e8,{children:[(0,s.jsx)(H.rb,{children:"No schemas found"}),(0,s.jsx)(H.fu,{children:(0,s.jsx)(Q.xr,{className:(R||[]).length>7?"h-[210px]":"",children:(null!=R?R:[]).map(e=>(0,s.jsxs)(H.di,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{x(e.name),S(!1)},onClick:()=>{x(e.name),S(!1)},children:[(0,s.jsx)("span",{children:e.name}),h===e.name&&(0,s.jsx)(P.Z,{className:"text-brand",strokeWidth:2,size:16})]},e.name))})})]})]})})]})}),(0,s.jsx)(Y.E,{label:"Select a table",name:"select-table",description:ed&&!L&&"Create a table in this schema via the Table or SQL editor first",isReactForm:!1,children:(0,s.jsxs)(G.J2,{modal:!1,open:q,onOpenChange:C,children:[(0,s.jsx)(G.xo,{asChild:!0,disabled:ed||L,children:(0,s.jsx)(T.z,{type:"default",size:"medium",className:(0,U.cn)("w-full [&>span]:w-full text-left",""===h&&"text-foreground-lighter"),iconRight:(0,s.jsx)(F.Z,{className:"text-foreground-muted",strokeWidth:2,size:14}),children:void 0!==h&&""!==h?h:ed?"No tables available in schema":"Choose a table"})}),(0,s.jsx)(G.yk,{className:"p-0",side:"bottom",align:"start",sameWidthAsTrigger:!0,children:(0,s.jsxs)(H.mY,{shouldFilter:!1,children:[(0,s.jsx)(H.sZ,{placeholder:"Find table...",value:E,onValueChange:ei}),(0,s.jsxs)(H.e8,{children:[(0,s.jsx)(H.rb,{children:L?(0,s.jsxs)("div",{className:"flex items-center gap-2 text-center justify-center",children:[(0,s.jsx)(M.Z,{size:12,className:"animate-spin"}),"Loading..."]}):"No tables found"}),(0,s.jsx)(H.fu,{children:(0,s.jsx)(Q.xr,{className:(er||[]).length>7?"h-[210px]":"",children:(null!=er?er:[]).map(e=>(0,s.jsxs)(H.di,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{f(e.name),C(!1)},onClick:()=>{f(e.name),C(!1)},children:[(0,s.jsx)("span",{children:e.name}),h===e.name&&(0,s.jsx)(P.Z,{className:"text-brand",strokeWidth:2,size:16})]},e.name))})})]})]})})]})}),h&&(0,s.jsxs)(Y.E,{label:"Select up to 32 columns",isReactForm:!1,children:[en&&(0,s.jsx)(g.Z,{className:"py-4"}),et&&(0,s.jsx)(V.m,{options:el,placeholder:"Choose which columns to create an index on",searchPlaceholder:"Search for a column",value:j,onChange:v})]})]}),j.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A.ZP.Separator,{}),(0,s.jsxs)(A.ZP.Content,{className:"space-y-6",children:[(0,s.jsx)(Y.E,{label:"Select an index type",name:"selected-index-type",isReactForm:!1,children:(0,s.jsxs)(B.Ph,{disabled:c,value:b,onValueChange:N,name:"selected-index-type",children:[(0,s.jsx)(B.i4,{size:"small",children:(0,s.jsx)(B.ki,{className:"font-mono",children:b})}),(0,s.jsx)(B.Bw,{children:X.map((e,n)=>(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)(B.Ql,{value:e.value,children:(0,s.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,s.jsx)("span",{children:e.name}),e.description.split("\n").map((n,t)=>(0,s.jsx)("span",{className:"text-foreground-lighter group-focus:text-foreground-light group-data-[state=checked]:text-foreground-light",children:n},"".concat(e.value,"-description-").concat(t)))]})}),n<X.length-1&&(0,s.jsx)(B.U$,{})]},e.name))})]})}),c&&(0,s.jsx)(K.J,{type:"default",className:"!mt-2",title:"OrioleDB currently only supports the B-tree index type",description:"More index types may be supported when OrioleDB is no longer in preview",children:(0,s.jsx)(ee.G,{className:"mt-2",abbrev:!1,href:"https://supabase.com/docs"})})]}),(0,s.jsx)(A.ZP.Separator,{}),(0,s.jsx)(A.ZP.Content,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-sm",children:"Preview of SQL statement"}),(0,s.jsx)(T.z,{asChild:!0,type:"default",children:(0,s.jsx)(W(),{href:void 0!==l?"/project/".concat(l.ref,"/sql/new?content=").concat(ec):"/",children:"Open in SQL Editor"})})]})}),(0,s.jsx)("div",{className:"h-[200px] !mt-2",children:(0,s.jsx)("div",{className:"relative h-full",children:(0,s.jsx)(p.Z,{isReadOnly:!0,autofocus:!1,id:"".concat(u,"-").concat(h,"-").concat(j.join(","),"-").concat(b),language:"pgsql",defaultValue:ec})})})]})]})})},et=()=>{var e,n;let{project:t}=(0,m.d2)(),{schema:a,table:r}=(0,u.UO)(),[l,j]=(0,o.useState)(""),{selectedSchema:v,setSelectedSchema:y}=(0,S.B)(),[b,N]=(0,o.useState)(!1),[D,F]=(0,o.useState)(),[P,M]=(0,o.useState)(),{data:O,refetch:W,error:I,isLoading:$,isSuccess:G,isError:H}=_({schema:v,projectRef:null==t?void 0:t.ref,connectionString:null==t?void 0:t.connectionString}),{data:Q,isLoading:U,isSuccess:B,isError:V}=(0,w.Q1)({projectRef:null==t?void 0:t.ref,connectionString:null==t?void 0:t.connectionString}),{mutate:Y,isLoading:X}=(0,k.r)({onSuccess:async()=>{await W(),M(void 0),d.Am.success("Successfully deleted index")},onError:e=>{d.Am.error("Failed to delete index: ".concat(e.message))}}),[J]=i()(null!=Q?Q:[],e=>{var n;return q.s.includes(null!==(n=null==e?void 0:e.name)&&void 0!==n?n:"")}),K=null==Q?void 0:Q.find(e=>e.name===v),ee=J.some(e=>e.id===(null==K?void 0:K.id)),et=c()(null!=O?O:[],e=>e.name.toLocaleLowerCase()),es=l.length>0?et.filter(e=>e.name.includes(l)||e.table.includes(l)):et,ea=e=>{if(!t)return console.error("Project is required");Y({projectRef:t.ref,connectionString:t.connectionString,sql:'drop index if exists "'.concat(e.name,'"')})};return(0,o.useEffect)(()=>{if(void 0!==a){let e=null==Q?void 0:Q.find(e=>e.name===a);void 0!==e&&y(e.name)}},[a,B]),(0,o.useEffect)(()=>{void 0!==r&&j(r)},[r]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"pb-8",children:(0,s.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[U&&(0,s.jsx)(g.Z,{className:"w-[260px]"}),V&&(0,s.jsxs)("div",{className:"w-[260px] text-foreground-light text-sm border px-3 py-1.5 rounded flex items-center space-x-2",children:[(0,s.jsx)(C.Z,{strokeWidth:2,size:16}),(0,s.jsx)("p",{children:"Failed to load schemas"})]}),B&&(0,s.jsx)(f.Z,{className:"w-full lg:w-[180px]",size:"tiny",showError:!1,selectedSchemaName:v,onSelectSchema:y}),(0,s.jsx)(R.Z,{size:"tiny",value:l,className:"w-full lg:w-52",onChange:e=>j(e.target.value),placeholder:"Search for an index",icon:(0,s.jsx)(E.Z,{size:14})}),!ee&&(0,s.jsx)(T.z,{className:"ml-auto flex-grow lg:flex-grow-0",type:"primary",onClick:()=>N(!0),disabled:!B,children:"Create index"})]}),ee&&(0,s.jsx)(L.Z,{schema:v,entity:"indexes"}),$&&(0,s.jsx)(g.A,{}),H&&(0,s.jsx)(h.Z,{error:I,subject:"Failed to retrieve database indexes"}),G&&(0,s.jsx)("div",{className:"w-full overflow-hidden overflow-x-auto",children:(0,s.jsx)(x.Z,{head:[(0,s.jsx)(x.Z.th,{children:"Schema"},"schema"),(0,s.jsx)(x.Z.th,{children:"Table"},"table"),(0,s.jsx)(x.Z.th,{children:"Name"},"name"),(0,s.jsx)(x.Z.th,{},"buttons")],body:(0,s.jsxs)(s.Fragment,{children:[0===et.length&&0===l.length&&(0,s.jsx)(x.Z.tr,{children:(0,s.jsxs)(x.Z.td,{colSpan:4,children:[(0,s.jsx)("p",{className:"text-sm text-foreground",children:"No indexes created yet"}),(0,s.jsxs)("p",{className:"text-sm text-foreground-light",children:['There are no indexes found in the schema "',v,'"']})]})}),0===et.length&&l.length>0&&(0,s.jsx)(x.Z.tr,{children:(0,s.jsxs)(x.Z.td,{colSpan:4,children:[(0,s.jsx)("p",{className:"text-sm text-foreground",children:"No results found"}),(0,s.jsxs)("p",{className:"text-sm text-foreground-light",children:['Your search for "',l,'" did not return any results']})]})}),es.length>0&&es.map(e=>(0,s.jsxs)(x.Z.tr,{children:[(0,s.jsx)(x.Z.td,{children:(0,s.jsx)("p",{title:e.schema,children:e.schema})}),(0,s.jsx)(x.Z.td,{children:(0,s.jsx)("p",{title:e.table,children:e.table})}),(0,s.jsx)(x.Z.td,{children:(0,s.jsx)("p",{title:e.name,children:e.name})}),(0,s.jsx)(x.Z.td,{children:(0,s.jsxs)("div",{className:"flex justify-end items-center space-x-2",children:[(0,s.jsx)(T.z,{type:"default",onClick:()=>F(e),children:"View definition"}),!ee&&(0,s.jsx)(T.z,{type:"text",className:"px-1",icon:(0,s.jsx)(Z.Z,{}),onClick:()=>M(e)})]})})]},e.name))]})})})]})}),(0,s.jsx)(A.ZP,{size:"xlarge",visible:void 0!==D,header:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"Index:"}),(0,s.jsx)("code",{className:"text-sm ml-2",children:null==D?void 0:D.name})]}),onCancel:()=>F(void 0),children:(0,s.jsx)("div",{className:"h-full",children:(0,s.jsx)("div",{className:"relative h-full",children:(0,s.jsx)(p.Z,{isReadOnly:!0,id:null!==(e=null==D?void 0:D.name)&&void 0!==e?e:"",language:"pgsql",defaultValue:null!==(n=null==D?void 0:D.definition)&&void 0!==n?n:""})})})}),(0,s.jsx)(en,{visible:b,onClose:()=>N(!1)}),(0,s.jsx)(z.Z,{variant:"warning",size:"medium",loading:X,visible:void 0!==P,title:(0,s.jsxs)(s.Fragment,{children:["Confirm to delete index ",(0,s.jsx)("code",{className:"text-sm",children:null==P?void 0:P.name})]}),confirmLabel:"Confirm delete",confirmLabelLoading:"Deleting...",onConfirm:()=>void 0!==P?ea(P):{},onCancel:()=>M(void 0),alert:{title:"This action cannot be undone",description:"Deleting an index that is still in use will cause queries to slow down, and in some cases causing significant performance issues."},children:(0,s.jsx)("ul",{className:"mt-4 space-y-5",children:(0,s.jsx)("li",{className:"flex gap-3",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{className:"text-sm",children:"Before deleting this index, consider:"}),(0,s.jsxs)("ul",{className:"space-y-2 mt-2 text-sm text-foreground-light",children:[(0,s.jsx)("li",{className:"list-disc ml-6",children:"This index is no longer in use"}),(0,s.jsx)("li",{className:"list-disc ml-6",children:"The table which the index is on is not currently in use, as dropping an index requires a short exclusive access lock on the table."})]})]})})})})]})},es=t(405),ea=t(33838),er=t(55527),ei=t(38057);let el=()=>(0,s.jsx)(ea._S,{children:(0,s.jsxs)(ea.jX,{children:[(0,s.jsx)(ea.Lc,{className:"gap-0",children:(0,s.jsx)(er.p,{className:"!mb-0",title:"Database Indexes",description:"Improve query performance against your database"})}),(0,s.jsxs)(ea.g$,{className:"flex items-center lg:justify-end gap-2 flex-wrap",children:[(0,s.jsx)(ee.G,{className:"no-underline",href:"https://supabase.com/docs/guides/database/query-optimization"}),(0,s.jsx)(T.z,{asChild:!0,type:"default",icon:(0,s.jsx)(a.Z,{strokeWidth:1.5}),children:(0,s.jsx)("a",{target:"_blank",rel:"noreferrer",className:"no-underline",href:"https://supabase.com/docs/guides/database/extensions/index_advisor",children:"Index Advisor"})})]}),(0,s.jsx)("div",{className:"col-span-12 mt-3",children:(0,s.jsx)(et,{})})]})});el.getLayout=e=>(0,s.jsx)(ei.Z,{children:(0,s.jsx)(es.Z,{title:"Indexes",children:e})});var ec=el},72439:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});let s=(0,t(74234).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},11794:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});let s=(0,t(74234).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},68141:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});let s=(0,t(74234).Z)("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]])},56476:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});let s=(0,t(74234).Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},76524:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});let s=(0,t(74234).Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},65206:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});let s=(0,t(74234).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},30808:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});let s=(0,t(74234).Z)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]])},36462:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});let s=(0,t(74234).Z)("PanelLeftDashed",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 14v1",key:"askpd8"}],["path",{d:"M9 19v2",key:"16tejx"}],["path",{d:"M9 3v2",key:"1noubl"}],["path",{d:"M9 9v1",key:"19ebxg"}]])},66136:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});let s=(0,t(74234).Z)("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]])},78978:function(e,n,t){"use strict";t.d(n,{B_:function(){return j},_f:function(){return N},aG:function(){return g},av:function(){return b}});var s=t(97458),a=t(72439),r=t(28570),i=t(52983),l=t(9060),c=t(73512),o=t(39957),d=t(43633),u=t(22921),m=t(53486),x=t(79180),h=t(92654),p=t(69133),f=t(82040);function g(e){let{className:n}=e,t=(0,h.Wo)(),r=(0,h.yg)();if(t)return(0,s.jsxs)("button",{className:(0,d.cn)("p-2 bg-overlay flex items-center gap-2 text-xs text-foreground-muted",n),onClick:r,children:[(0,s.jsx)(a.Z,{width:12,height:12}),t.name]})}let j=(0,i.forwardRef)((e,n)=>{let{children:t,className:a,...r}=e;return(0,s.jsx)(u.mY,{ref:n,className:(0,d.cn)("h-full w-full flex flex-col overflow-hidden","[&_[cmdk-group]]:px-2 [&_[cmdk-group]]:!bg-transparent [&_[cmdk-group-heading]]:!bg-transparent [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-border-stronger [&_[cmdk-input]]:h-12","[&_[cmdk-item]_svg]:h-5","[&_[cmdk-item]_svg]:w-5","[&_[cmdk-item]_svg]:stroke-1","[&_[cmdk-input-wrapper]_svg]:h-5","[&_[cmdk-input-wrapper]_svg]:w-5","[&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0",a),...r,children:t})});function v(e){let{resetErrorBoundary:n}=e;return(0,s.jsx)("div",{className:(0,d.cn)("min-h-64","flex items-center justify-center"),children:(0,s.jsxs)("div",{className:"p-10 flex flex-col items-center gap-6 mt-4",children:[(0,s.jsx)(r.Z,{strokeWidth:1.5,size:40}),(0,s.jsx)("p",{className:"text-lg text-center",children:"Sorry, looks like we're having some issues with the command menu!"}),(0,s.jsx)("p",{className:"text-sm text-center",children:"Please try again in a bit."}),(0,s.jsx)(m.z,{size:"tiny",type:"secondary",onClick:n,children:"Try again?"})]})})}function y(e){let{children:n}=e,t=(0,h.EB)();return t?(0,s.jsx)(t,{}):(0,s.jsx)(j,{children:n})}function b(e){let{children:n}=e,t=(0,f.Cc)(),s=(0,f.FX)(),a=i.Children.only(n);return a&&(0,i.isValidElement)(a)?(0,i.cloneElement)(a,{onClick:()=>{var e,n;s(!t),null===(e=(n=a.props).onOpen)||void 0===e||e.call(n,!t)},"aria-haspopup":"dialog","aria-expanded":t,"aria-controls":"command-menu-dialog-content",className:(0,d.cn)("h-10 px-4 py-2","inline-flex items-center justify-center","whitespace-nowrap","rounded-md border border-input bg-background","text-sm font-medium","hover:bg-accent hover:text-accent-foreground","ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","transition-colors",a.props.className)}):null}function N(e){let{children:n,trigger:t}=e,a=(0,f.Cc)(),r=(0,f.FX)(),u=(0,c.Gc)("sm"),m=(0,f.Qd)(),g=(0,h.Wo)(),j=(0,h.yg)(),b=(0,p.a)(),N=(0,p.A)(),{ref:_}=function(e){let{toggleOpen:n}=e,{ref:t,handleTouchStart:s,handleTouchMove:a,handleTouchEnd:r}=(0,o.Z)({onClose:n}),l=(0,f.Gk)(),c=(0,i.useMemo)(()=>({handleTouchStart:s,handleTouchMove:a,handleTouchEnd:r}),[s,a,r]);return(0,i.useEffect)(()=>{l(c)},[c]),{ref:t}}({toggleOpen:()=>r(!a)});return(0,s.jsxs)(x.Vq,{open:a,onOpenChange:r,children:[t,(0,s.jsx)(x.cZ,{id:"command-menu-dialog-content",hideClose:!0,forceMount:!0,ref:_,onOpenAutoFocus:e=>u&&e.preventDefault(),onInteractOutside:()=>r(!1),onEscapeKeyDown:e=>(e.preventDefault(),b?N(""):g?j():r(!1)),size:m,className:(0,d.cn)("relative flex flex-col my-0 mx-auto rounded-t-lg overflow-hidden","h-[85dvh] mt-[15vh] md:max-h-[500px] md:mt-0 left-0 bottom-0 md:bottom-auto","!animate-in !slide-in-from-bottom-[85%] !duration-300","data-[state=closed]:!animate-out data-[state=closed]:!slide-out-to-bottom","!slide-in-from-left-[0%] :!slide-in-from-top-[0%]","!slide-out-to-left-[0%] !slide-out-to-top-[0%]","md:data-[state=open]:!slide-in-from-bottom-[0%] md:data-[state=closed]:!slide-out-to-bottom-[0%]","md:data-[state=open]:!zoom-in-95 md:data-[state=closed]:!zoom-out-95"),dialogOverlayProps:{className:(0,d.cn)("overflow-hidden flex data-closed:delay-100")},children:(0,s.jsx)(l.SV,{FallbackComponent:v,children:(0,s.jsx)(y,{children:n})})})]})}j.displayName=u.mY.displayName},92654:function(e,n,t){"use strict";t.d(n,{EB:function(){return u},Qy:function(){return p},SL:function(){return m},Wo:function(){return d},yg:function(){return x}});var s=t(85466),a=t.n(s),r=t(52983),i=t(34653),l=t(42807),c=t(36478),o=t(69133);let d=()=>{let{pagesState:e}=(0,l.D)(),{commandPages:n,pageStack:t}=(0,i.R)(e),s=t.at(-1);return(0,r.useMemo)(()=>s&&n[s]?{...n[s],name:s}:void 0,[n,s])},u=()=>{let e=d();if(e&&(0,c.sG)(e))return e.component},m=()=>{let{pagesState:e}=(0,l.D)(),n=(0,o.A)();return function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.appendPageStack(t),s||n("")}},x=()=>{let{pagesState:e}=(0,l.D)(),{popPageStack:n}=(0,i.R)(e);return n},h=[],p=function(e,n){let{deps:t=h,enabled:s=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{pagesState:c}=(0,l.D)(),{registerNewPage:o}=(0,i.R)(c),d=(0,r.useRef)(t),u=(0,r.useRef)(s),m=(0,r.useRef)();(0,r.useMemo)(()=>{if(!a()(d.current,t)||u.current!==s){var r;null===(r=m.current)||void 0===r||r.call(m),m.current=s?o(e,n):void 0,d.current=t,u.current=s}},[o,e,n,t,s]),(0,r.useEffect)(()=>(m.current=s?o(e,n):void 0,()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.call(m)}),[])}},69133:function(e,n,t){"use strict";t.d(n,{A:function(){return i},a:function(){return r}});var s=t(34653),a=t(42807);let r=()=>{let{queryState:e}=(0,a.D)(),{query:n}=(0,s.R)(e);return n},i=()=>{let{queryState:e}=(0,a.D)(),{setQuery:n}=(0,s.R)(e);return n}},27425:function(e,n,t){"use strict";t.d(n,{H:function(){return r},a:function(){return i}});var s=t(97458),a=t(11321);let r=e=>{let{name:n}=e;return(0,s.jsx)("div",{className:"text-typography-body-light [[data-theme*=dark]_&]:text-typography-body-dark flex cursor-not-allowed items-center space-x-2 rounded bg-gray-600 py-0.5 px-2 text-sm",children:(0,s.jsx)("span",{className:"opacity-50",children:n})})},i=e=>{let{name:n,handleRemove:t}=e;return(0,s.jsxs)("div",{className:"text-typography-body-light [[data-theme*=dark]_&]:text-typography-body-dark flex items-center space-x-2 rounded bg-surface-300 py-0.5 px-2 text-sm",onClick:e=>e.preventDefault(),children:[(0,s.jsx)("span",{children:n}),(0,s.jsx)(a.Z,{size:12,className:"cursor-pointer opacity-50 transition hover:opacity-100",onClick:e=>{e.preventDefault(),e.stopPropagation(),t()}})]})}},41013:function(e,n,t){"use strict";t.d(n,{m:function(){return f}});var s=t(97458),a=t(40916),r=t.n(a),i=t(92238),l=t.n(i),c=t(15647),o=t(9738),d=t(52983),u=t(12753),m=t(43633),x=t(22921),h=t(12361),p=t(27425);let f=e=>{let{options:n,value:t,placeholder:a,searchPlaceholder:i="Search for option",disabled:f=!1,onChange:g=()=>{}}=e,[j,v]=(0,d.useState)(!1),[y,b]=(0,d.useState)(t||[]),N=t||y,_=r()(n,["disabled"],["desc"]),w=e=>void 0!==(N||[]).find(n=>n===e.value),k=e=>{let t=w(e)?[...l()(N,e.value)]:[...N.concat([e.value])],s=n.filter(e=>e.disabled).map(e=>e.name),a=[...new Set(t.concat(s))];b(a),g(a)};return(0,s.jsx)("div",{className:f?"pointer-events-none opacity-50":"",children:(0,s.jsxs)(u.J2,{open:j,onOpenChange:v,modal:!1,children:[(0,s.jsx)(u.xo,{asChild:!0,children:(0,s.jsxs)("div",{className:(0,m.cn)("relative border border-strong bg-control rounded","flex w-full flex-wrap items-start gap-1.5 p-1.5 cursor-pointer","".concat(0===N.length?"h-9":"")),onClick:()=>v(!0),children:[0===N.length&&a&&(0,s.jsx)("div",{className:"px-2 text-sm text-foreground-light h-full flex items-center",children:a}),N.map((e,n)=>{var t;let a="".concat(e,"-").concat(n),r=_.find(n=>n.value===e),i=null!==(t=null==r?void 0:r.disabled)&&void 0!==t&&t;return r?i?(0,s.jsx)(p.H,{name:r.name},a):(0,s.jsx)(p.a,{name:r.name,handleRemove:()=>k(r)},a):(0,s.jsx)(s.Fragment,{})}),(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 pl-3 pr-2 flex space-x-1 items-center cursor-pointer ",children:(0,s.jsx)(c.Z,{size:16,strokeWidth:2,className:"text-foreground-lighter"})})]})}),(0,s.jsx)(u.yk,{className:"p-0 w-96 border-strong",side:"bottom",align:"start",children:(0,s.jsxs)(x.mY,{children:[(0,s.jsx)(x.sZ,{placeholder:i}),(0,s.jsxs)(x.e8,{children:[(0,s.jsx)(x.rb,{children:"No options found"}),(0,s.jsx)(x.fu,{children:(0,s.jsx)(h.xr,{className:(0,m.cn)(_.length>7?"h-[210px]":""),children:null==_?void 0:_.map(e=>{let n=!!(N&&N.find(n=>n===e.value));return(0,s.jsx)(x.di,{value:e.value,className:"cursor-pointer w-full",onClick:()=>k(e),onSelect:()=>k(e),children:(0,s.jsxs)("div",{className:"w-full flex items-center justify-between",children:[e.name,n&&(0,s.jsx)(o.Z,{size:14})]})},e.id)})})})]})]})})]})})}},33880:function(e,n,t){"use strict";t.d(n,{ZP:function(){return m}});var s=t(97458),a=t(52983),r=t(92334),i=t(43633);function l(e){let{children:n,className:t,tag:a="div",style:r}=e;return(0,s.jsx)("".concat(a),{style:r,children:n})}l.Title=function(e){let{className:n,level:t=1,children:a,style:r}=e;return(0,s.jsx)("h".concat(t),{style:r,children:a})},l.Text=function(e){let{className:n,children:t,style:a,type:r,disabled:i,mark:l,code:c,keyboard:o,underline:d,strikethrough:u,strong:m,small:x}=e;return c?(0,s.jsx)("code",{style:a,children:t}):l?(0,s.jsx)("mark",{style:a,children:t}):o?(0,s.jsx)("kbd",{style:a,children:t}):m?(0,s.jsx)("strong",{style:a,children:t}):(0,s.jsx)("span",{style:a,children:t})},l.Link=function(e){let{children:n,target:t="_blank",href:a,className:r,onClick:i,style:l}=e;return(0,s.jsx)("a",{onClick:i,href:a,target:t,rel:"noopener noreferrer",style:l,children:n})};let c=(0,a.createContext)({type:"text"}),o=e=>{let{type:n}=e;return(0,s.jsx)(c.Provider,{value:{type:n},children:e.children})},d=()=>{let e=(0,a.useContext)(c);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function u(e){let{children:n,className:t,ulClassName:a,style:r,type:i="text"}=e;return(0,s.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:t,style:r,children:(0,s.jsx)(o,{type:i,children:(0,s.jsx)("ul",{className:a,children:n})})})}u.Item=function(e){let{children:n,icon:t,active:a,rounded:l,onClick:c,doNotCloseOverlay:o=!1,showActiveBar:u=!1,style:m}=e,x=(0,r.Z)("menu"),{type:h}=d(),p=[x.item.base];p.push(x.item.variants[h].base),a?p.push(x.item.variants[h].active):p.push(x.item.variants[h].normal);let f=[x.item.content.base];a?f.push(x.item.content.active):f.push(x.item.content.normal);let g=[x.item.icon.base];return a?g.push(x.item.icon.active):g.push(x.item.icon.normal),(0,s.jsxs)("li",{role:"menuitem",className:(0,i.cn)("outline-none",p),style:m,onClick:c,"aria-current":a?"page":void 0,children:[t&&(0,s.jsx)("div",{className:"".concat(g.join(" ")," min-w-fit"),children:t}),(0,s.jsx)("span",{className:f.join(" "),children:n})]})},u.Group=function(e){let{children:n,icon:t,title:a}=e,i=(0,r.Z)("menu"),{type:l}=d();return(0,s.jsxs)("div",{className:[i.group.base,i.group.variants[l]].join(" "),children:[t&&(0,s.jsx)("span",{className:i.group.icon,children:t}),(0,s.jsx)("span",{className:i.group.content,children:a}),n]})},u.Misc=function(e){let{children:n}=e;return(0,s.jsx)("div",{children:(0,s.jsx)(l.Text,{children:(0,s.jsx)("span",{children:n})})})};var m=u}},function(e){e.O(0,[6665,7623,588,7037,8e3,6402,4418,8703,2303,6823,6499,4837,3297,441,1577,5605,1503,7702,5834,7198,3535,8232,3048,5538,8005,2578,1446,9198,4554,5631,8803,9774,2888,179],function(){return e(e.s=99739)}),_N_E=e.O()}]);