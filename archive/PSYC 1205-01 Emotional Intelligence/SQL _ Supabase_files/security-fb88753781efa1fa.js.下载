(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6374],{79682:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/advisors/security",function(){return l(60749)}])},60749:function(e,t,l){"use strict";l.r(t);var i=l(97458),s=l(52983),n=l(73512),r=l(59596),a=l(24619),c=l(96103),u=l(63659),d=l(86841),f=l(89536),o=l(50048),v=l(55527),h=l(53431),p=l(289),L=l(42317),_=l(38057);let m=()=>{var e;let t=(0,p.Vm)(),{ref:l,preset:o,id:_}=(0,n.UO)(),[m,x]=(0,s.useState)([{level:a.l.ERROR,filters:[]},{level:a.l.WARN,filters:[]},{level:a.l.INFO,filters:[]}]),[b,j]=(0,s.useState)(null!=o?o:a.l.ERROR),[R,g]=(0,s.useState)(null),{data:E,isLoading:N,isRefetching:O,refetch:T}=(0,h.U)({projectRef:null==t?void 0:t.ref}),S=(null!=E?E:[]).filter(e=>e.categories.includes("SECURITY")),k=(null===(e=m.find(e=>e.level===b))||void 0===e?void 0:e.filters)||[],w=S.filter(e=>e.level===b).filter(e=>k.length>0?k.includes(e.name):e),C=c.EV.filter(e=>S.some(t=>t.name===e.name&&t.level===b)).map(e=>({name:e.title,value:e.name}));return(0,s.useEffect)(()=>{var e;_&&g(null!==(e=S.find(e=>e.cache_key===_))&&void 0!==e?e:null)},[_,S]),(0,i.jsxs)("div",{className:"h-full flex flex-col",children:[(0,i.jsx)(v.p,{className:"py-4 px-6 !mb-0",title:"Security Advisor",docsUrl:"https://supabase.com/docs/guides/database/database-linter"}),(0,i.jsx)(r.Z,{activeLints:S,isLoading:N,currentTab:b,setCurrentTab:j,setSelectedLint:g}),(0,i.jsx)(d.Z,{filterOptions:C,filteredLints:w,activeLints:S,currentTab:b,filters:m,isLoading:N||O,setFilters:x,onClickRefresh:T}),(0,i.jsx)(L.O,{loading:O}),(0,i.jsx)(u.Z,{filteredLints:w,currentTab:b,selectedLint:R,setSelectedLint:g,isLoading:N}),(0,i.jsx)(f.Z,{hideDbInspectCTA:!0,isLoading:N,isRefetching:O,refetch:T})]})};m.getLayout=e=>(0,i.jsx)(_.Z,{children:(0,i.jsx)(o.Z,{title:"Linter",children:e})}),t.default=m}},function(e){e.O(0,[6665,7623,588,7037,8e3,6402,4418,8703,2303,6823,6499,4837,3297,441,1577,5605,1503,7702,5834,7198,3535,8232,3048,9497,8005,2578,1446,9198,4554,5631,8803,13,9774,2888,179],function(){return e(e.s=79682)}),_N_E=e.O()}]);