(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7831],{80628:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/database/migrations",function(){return n(29663)}])},51841:function(e,t,n){"use strict";var r=n(97458),s=n(9738),a=n(32024),i=n(52983),l=n(43633);let o=(0,i.forwardRef)((e,t)=>{let{commands:n,className:s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("space-y-4",s),children:n.map((e,t)=>(0,r.jsx)(c,{item:e},"command-".concat(t)))})});o.displayName="CommandRender",t.Z=o;let c=e=>{let{item:t}=e,[n,l]=(0,i.useState)(!1);return(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("span",{className:"font-mono text-sm text-foreground-lighter",children:"> ".concat(t.comment)}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)("div",{className:"flex gap-2 font-mono text-sm font-normal text-foreground",children:[(0,r.jsx)("span",{className:"text-foreground-lighter",children:"$"}),(0,r.jsxs)("span",{children:[(0,r.jsxs)("span",{children:[t.jsx?t.jsx():null," "]}),(0,r.jsx)("button",{type:"button",className:"text-foreground-lighter hover:text-foreground",onClick:()=>{var e;e=t.command,l(!0),navigator.clipboard.writeText(e).then(),setTimeout(function(){l(!1)},3e3)},children:n?(0,r.jsx)(s.Z,{size:14,strokeWidth:3,className:"text-brand"}):(0,r.jsx)(a.Z,{size:14})})]})]})})]})}},405:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(97458),s=n(32691),a=n(63640),i=n(4879),l=n(31723),o=n(17164),c=n(289),d=n(76026),u=n(15631),m=n(56535),f=n(11794);let x=(e,t)=>{var n;let s=null!==(n=null==e?void 0:e.ref)&&void 0!==n?n:"default",{pgNetExtensionExists:a,pitrEnabled:i,columnLevelPrivileges:l}=t||{};return[{title:"Database Management",items:[{name:"Schema Visualizer",key:"schemas",url:"/project/".concat(s,"/database/schemas"),items:[]},{name:"Tables",key:"tables",url:"/project/".concat(s,"/database/tables"),items:[]},{name:"Functions",key:"functions",url:"/project/".concat(s,"/database/functions"),items:[]},{name:"Triggers",key:"triggers",url:"/project/".concat(s,"/database/triggers"),items:[]},{name:"Enumerated Types",key:"types",url:"/project/".concat(s,"/database/types"),items:[]},{name:"Extensions",key:"extensions",url:"/project/".concat(s,"/database/extensions"),items:[]},{name:"Indexes",key:"indexes",url:"/project/".concat(s,"/database/indexes"),items:[]},{name:"Publications",key:"publications",url:"/project/".concat(s,"/database/publications"),items:[]}]},{title:"Access Control",items:[{name:"Roles",key:"roles",url:"/project/".concat(s,"/database/roles"),items:[]},...l?[{name:"Column Privileges",key:"column-privileges",url:"/project/".concat(s,"/database/column-privileges"),items:[],label:"ALPHA"}]:[],{name:"Policies",key:"policies",url:"/project/".concat(s,"/auth/policies"),rightIcon:(0,r.jsx)(f.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]}]},{title:"Platform",items:[...m.Qy?[{name:"Backups",key:"backups",url:i?"/project/".concat(s,"/database/backups/pitr"):"/project/".concat(s,"/database/backups/scheduled"),items:[]}]:[],{name:"Migrations",key:"migrations",url:"/project/".concat(s,"/database/migrations"),items:[]},{name:"Wrappers",key:"wrappers",url:"/project/".concat(s,"/integrations?category=wrapper"),rightIcon:(0,r.jsx)(f.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]},...a?[{name:"Webhooks",key:"hooks",url:"/project/".concat(s,"/integrations/webhooks/overview"),rightIcon:(0,r.jsx)(f.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]}]:[]]},{title:"Tools",items:[{name:"Security Advisor",key:"security-advisor",url:"/project/".concat(s,"/advisors/security"),rightIcon:(0,r.jsx)(f.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]},{name:"Performance Advisor",key:"performance-advisor",url:"/project/".concat(s,"/advisors/performance"),rightIcon:(0,r.jsx)(f.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]},{name:"Query Performance",key:"query-performance",url:"/project/".concat(s,"/advisors/query-performance"),rightIcon:(0,r.jsx)(f.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]}]}]},h=()=>{let e=(0,c.Vm)(),t=(0,s.useRouter)().pathname.split("/")[4],{data:n}=(0,l.H)({projectRef:null==e?void 0:e.ref,connectionString:null==e?void 0:e.connectionString}),{data:d}=(0,o.F)({projectRef:null==e?void 0:e.ref}),u=void 0!==(null!=n?n:[]).find(e=>"pg_net"===e.name),m=(null==d?void 0:d.selected_addons.find(e=>"pitr"===e.type))!==void 0,f=(0,a.ar)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.Q,{page:t,menu:x(e,{pgNetExtensionExists:u,pitrEnabled:m,columnLevelPrivileges:f})})})};var p=(0,d.Q)(e=>{let{children:t}=e;return(0,r.jsx)(u.Z,{product:"Database",productMenu:(0,r.jsx)(h,{}),isBlocking:!1,children:t})})},38057:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(97458),s=n(73512),a=n(26328),i=n(78859),l=n(88803),o=n(3666),c=n(7350),d=n(16696),u=n(65206),m=n(83145),f=n.n(m),x=n(32691),h=n(52983),p=n(56535),g=n(43633),j=n(53486),v=n(78978),y=n(95909),b=()=>{let e=(0,x.useRouter)(),[t,n]=(0,h.useState)(!1),{ref:a}=(0,s.UO)();return(0,r.jsxs)("div",{className:"h-14 w-full flex flex-row md:hidden",children:[(0,r.jsxs)("nav",{className:(0,g.cn)("group px-4 z-10 w-full h-14","border-b bg-dash-sidebar border-default shadow-xl","transition-width duration-200","hide-scrollbar flex flex-row items-center justify-between overflow-x-auto"),children:[(0,r.jsx)(f(),{href:p.Qy?"/projects":"/project/".concat(a),className:"flex items-center h-[26px] w-[26px] min-w-[26px]",children:(0,r.jsx)("img",{alt:"Supabase",src:"".concat(e.basePath,"/img/supabase-logo.svg"),className:"absolute h-[26px] w-[26px] cursor-pointer rounded"})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(v.av,{children:(0,r.jsx)("button",{className:(0,g.cn)("group","flex-grow h-[30px] rounded-md","p-2","flex items-center justify-between","bg-transparent border-none text-foreground-lighter","hover:bg-opacity-100 hover:border-strong hover:text-foreground-light","focus-visible:!outline-4 focus-visible:outline-offset-1 focus-visible:outline-brand-600","transition"),children:(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsx)(d.Z,{size:18,strokeWidth:2})})})}),(0,r.jsx)("button",{title:"Menu dropdown button",className:(0,g.cn)((0,j.d)({type:"default"}),"flex lg:hidden border-default bg-surface-100/75 text-foreground-light rounded-md min-w-[30px] w-[30px] h-[30px] data-[state=open]:bg-overlay-hover/30"),onClick:()=>n(!0),children:(0,r.jsx)(u.Z,{size:18,strokeWidth:1})})]})]}),(0,r.jsx)(y.Z,{open:t,onOpenChange:n,"data-state":"expanded",children:(0,r.jsx)(l.TZ,{})})]})},w=n(32672),N=e=>{let{children:t,showProductMenu:n}=e,{ref:d}=(0,s.UO)();return(0,r.jsx)(o.Hn,{defaultOpen:!1,children:(0,r.jsx)(w.Ml,{projectRef:d,children:(0,r.jsx)(i.EA,{children:(0,r.jsxs)("div",{className:"flex flex-col h-screen w-screen",children:[(0,r.jsx)(a.l,{}),(0,r.jsxs)("div",{className:"flex-shrink-0",children:[(0,r.jsx)(b,{}),(0,r.jsx)(c.N,{showProductMenu:n})]}),(0,r.jsxs)("div",{className:"flex flex-1 w-full overflow-y-hidden",children:[(0,r.jsx)(l.YE,{}),(0,r.jsx)("div",{className:"flex-grow h-full overflow-y-auto",children:t})]})]})})})})}},33838:function(e,t,n){"use strict";n.d(t,{CG:function(){return w},FW:function(){return m},I7:function(){return x},Lc:function(){return j},RN:function(){return p},Wv:function(){return y},_S:function(){return c},g$:function(){return g},gW:function(){return N},jX:function(){return f},q7:function(){return u},qw:function(){return h},s_:function(){return o},tM:function(){return v},tU:function(){return d},ur:function(){return b},y:function(){return l}});var r=n(97458),s=n(52983),a=n(41212),i=n(43633);let l="mx-auto w-full max-w-[1200px]",o="px-4 md:px-6 lg:px-14 xl:px-24 2xl:px-28",c=(0,s.forwardRef)((e,t)=>{let{className:n,bottomPadding:s,size:l="default",...c}=e,{aiAssistantPanel:d}=(0,a.WZ)(),{open:u}=d;return(0,r.jsx)("div",{ref:t,...c,className:(0,i.cn)("mx-auto w-full",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[l],o,s&&"pb-16",u?"xl:px-6":"",n)})}),d=(0,s.forwardRef)((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("header",{...s,ref:t,className:(0,i.cn)("w-full","flex-col gap-3 py-6",n)})}),u=(0,s.forwardRef)((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("h1",{ref:t,...s,className:(0,i.cn)("text-2xl",n)})}),m=(0,s.forwardRef)((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("p",{ref:t,...s,className:(0,i.cn)("text-sm text-foreground-light",n)})}),f=(0,s.forwardRef)((e,t)=>{let{className:n,isFullWidth:s,topPadding:a,...l}=e;return(0,r.jsx)("div",{ref:t,...l,className:(0,i.cn)("flex flex-col first:pt-12 py-6",s?"w-full":"gap-3 lg:grid md:grid-cols-12",n)})}),x=(0,s.forwardRef)((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,...s,className:(0,i.cn)("w-full h-px bg-border",n)})}),h=(0,s.forwardRef)((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("h3",{ref:t,...s,className:(0,i.cn)("text-foreground text-xl",n)})}),p=(0,s.forwardRef)((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("p",{ref:t,...s,className:(0,i.cn)("text-sm text-foreground-light",n)})}),g=(0,s.forwardRef)((e,t)=>{let{className:n,children:s,title:a,...l}=e;return(0,r.jsxs)("div",{ref:t,...l,className:(0,i.cn)("col-span-4 xl:col-span-5 prose text-sm",n),children:[a&&(0,r.jsx)("h2",{children:a}),s]})}),j=(0,s.forwardRef)((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,...s,className:(0,i.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",n)})}),v=(0,s.forwardRef)((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,...s,className:(0,i.cn)("flex flex-col gap-3 items-center",n)})}),y=(0,s.forwardRef)((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,...s,className:(0,i.cn)("flex w-full items-center",n)})}),b=(0,s.forwardRef)((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,...s,className:(0,i.cn)("flex flex-row gap-3",n)})}),w=(0,s.forwardRef)((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,...s,className:(0,i.cn)("flex flex-col gap-3","min-w-[420px]",n)})}),N=(0,s.forwardRef)((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,...s,className:(0,i.cn)(l,o,"my-8 flex flex-col gap-8",n)})});d.displayName="ScaffoldHeader",u.displayName="ScaffoldTitle",m.displayName="ScaffoldDescription",c.displayName="ScaffoldContainer",x.displayName="ScaffoldDivider",f.displayName="ScaffoldSection",w.displayName="ScaffoldColumn",g.displayName="ScaffoldSectionDetail",j.displayName="ScaffoldSectionContent",v.displayName="ScaffoldFilterAndContent",y.displayName="ScaffoldActionsContainer",b.displayName="ScaffoldActionsGroup",N.displayName="ScaffoldContainerLegacy",h.displayName="ScaffoldSectionTitle",p.displayName="ScaffoldSectionDescription"},55527:function(e,t,n){"use strict";n.d(t,{p:function(){return i}});var r=n(97458),s=n(43633),a=n(27477);let i=e=>{let{title:t,description:n,docsUrl:i,actions:l,className:o}=e;return(0,r.jsxs)("div",{className:(0,s.cn)("w-full mb-6 flex flex-col sm:flex-row md:items-center justify-between gap-4 ".concat(o)),children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("h3",{className:"text-foreground text-xl prose",children:t}),n&&(0,r.jsx)("div",{className:"prose text-sm max-w-full",children:n})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row md:items-center gap-x-2",children:[void 0!==i&&(0,r.jsx)(a.G,{href:i}),l]})]})}},74172:function(e,t,n){"use strict";var r=n(97458),s=n(83145),a=n.n(s),i=n(33880),l=n(33971),o=n(53486);t.Z=e=>{let{name:t="",isActive:n,isExternal:s,icon:c,rightIcon:d,url:u="",target:m="_self",onClick:f,textClassName:x="",hoverText:h="",label:p}=e,g=(0,r.jsx)(i.ZP.Item,{icon:c,rounded:!0,active:n,onClick:f,children:(0,r.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,r.jsxs)("div",{title:h||("string"==typeof t?t:""),className:"flex items-center gap-2 truncate w-full "+x,children:[(0,r.jsxs)("span",{className:"truncate",children:[t," "]}),void 0!==p&&(0,r.jsx)(l.C,{variant:"warning",className:"py-0 px-1.5 capitalize",children:p})]}),d&&(0,r.jsx)("div",{children:d})]})});return u?s?(0,r.jsx)(o.z,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:c,children:(0,r.jsx)(a(),{href:u,target:"_blank",rel:"noreferrer",children:t})}):(0,r.jsx)(a(),{href:u,className:"block",target:m,children:g}):g}},4879:function(e,t,n){"use strict";n.d(t,{Q:function(){return l}});var r=n(97458),s=n(33880),a=n(33971),i=n(74172),l=e=>{let{page:t,menu:n}=e;return(0,r.jsx)("div",{className:"flex flex-col space-y-8 overflow-y-auto",children:(0,r.jsx)(s.ZP,{type:"pills",children:n.map((e,l)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"my-6 space-y-8",children:(0,r.jsxs)("div",{className:"mx-3",children:[(0,r.jsx)(s.ZP.Group,{title:e.title?(0,r.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,r.jsx)("span",{children:e.title}),e.isPreview&&(0,r.jsx)(a.C,{variant:"warning",children:"Not production ready"})]}):null}),(0,r.jsx)("div",{children:e.items.map(e=>{let n=e.pages?e.pages.includes(t):t===e.key;return(0,r.jsx)(i.Z,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:n,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key)})})]})}),l!==n.length-1&&(0,r.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}},31723:function(e,t,n){"use strict";n.d(t,{H:function(){return c}});var r=n(28894),s=n(129),a=n(39310),i=n(289),l=n(56535);async function o(e,t){let{projectRef:n,connectionString:r}=e;if(!n)throw Error("projectRef is required");let a=new Headers;r&&a.set("x-connection-encrypted",r);let{data:i,error:l}=await (0,s.U2)("/platform/pg-meta/{ref}/extensions",{params:{header:{"x-connection-encrypted":r},path:{ref:n}},headers:a,signal:t});return l&&(0,s.S3)(l),i}let c=function(e){let{projectRef:t,connectionString:n}=e,{enabled:s=!0,...c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=(0,i.Vm)(),u=(null==d?void 0:d.status)===l.S.ACTIVE_HEALTHY;return(0,r.a)(a.o.list(t),e=>{let{signal:r}=e;return o({projectRef:t,connectionString:n},r)},{enabled:s&&void 0!==t&&u,...c})}},29663:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});var r=n(97458),s=n(28977),a=n.n(s),i=n(83145),l=n.n(i),o=n(52983),c=n(32672),d=n(2052),u=n(81932),m=n(61115),f=n(28894),x=n(70864),h=n(63609);let p=()=>"\n    select\n      *\n    from supabase_migrations.schema_migrations sm\n    order by sm.version desc\n  ".trim();async function g(e,t){let{projectRef:n,connectionString:r}=e,s=p();try{let{result:e}=await (0,x.R)({projectRef:n,connectionString:r,sql:s,queryKey:["migrations"]},t);return e}catch(e){if(e.message.includes('relation "supabase_migrations.schema_migrations" does not exist'))return[];throw e}}let j=function(e){let{projectRef:t,connectionString:n}=e,{enabled:r=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.a)(h.A.migrations(t),e=>{let{signal:r}=e;return g({projectRef:t,connectionString:n},r)},{enabled:r&&void 0!==t,...s})};var v=n(53486),y=n(60661),b=n(26944),w=n(25289),N=n(56757),k=n(95962),Z=n(73512),C=n(51841),_=n(75856),S=n(43633),R=()=>{let{ref:e}=(0,Z.UO)(),[t,n]=(0,o.useState)(!1),s=[{comment:"Link your project",command:"supabase link --project-ref ".concat(e),jsx:()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-brand-600",children:"supabase"})," link --project-ref ",e]})},{comment:'Create a new migration called "new-migration"',command:"supabase migration new new-migration",jsx:()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-brand-600",children:"supabase"})," migration new new-migration"]})},{comment:"Run all migrations against this project",command:"supabase db push",jsx:()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-brand-600",children:"supabase"})," db push"]})}];return(0,r.jsx)("div",{className:"w-full p-4 md:p-12 bg-no-repeat border rounded bg-studio border-default",children:(0,r.jsxs)("div",{className:"space-y-4 md:space-y-8",children:[(0,r.jsxs)("div",{className:"space-y-2 w-4/5",children:[(0,r.jsx)("h4",{className:"text-lg",children:"Database migrations"}),(0,r.jsx)("p",{className:"text-sm text-foreground-light",children:'Database changes are managed through "migrations" and they are a common way of tracking changes to your database over time. You can run migrations against your project\'s database via the Supabase CLI.'})]}),(0,r.jsxs)(_.ZP,{open:t,onOpenChange:n,children:[(0,r.jsx)(_.ZP.Trigger,{asChild:!0,children:(0,r.jsx)("button",{type:"button",className:(0,S.cn)("flex w-full items-center justify-between rounded py-3 px-6 text-foreground border bg-surface-100",t&&"rounded-b-none"),children:(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3 w-full",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-8 h-8 p-2 border rounded bg-alternative",children:(0,r.jsx)(w.Z,{strokeWidth:2})}),(0,r.jsx)("h4",{children:"Terminal instructions"})]}),t?(0,r.jsx)(N.Z,{className:"text-border-stronger transition data-open-parent:rotate-0 data-closed-parent:rotate-180",strokeWidth:2,width:14}):(0,r.jsx)(k.Z,{className:"text-border-stronger transition data-open-parent:rotate-0 data-closed-parent:rotate-180",strokeWidth:2,width:14})]})})}),(0,r.jsx)(_.ZP.Content,{children:(0,r.jsx)("div",{className:"border border-t-0 bg-surface-100 rounded-b py-3 px-6",children:(0,r.jsx)(C.Z,{commands:s})})})]})]})})},M=n(16696),P=n(27429),z=()=>{var e,t,n,s;let[i,f]=(0,o.useState)(""),[x,h]=(0,o.useState)(),{project:p}=(0,c.d2)(),{data:g,isLoading:w,isSuccess:N,isError:k,error:Z}=j({projectRef:null==p?void 0:p.ref,connectionString:null==p?void 0:p.connectionString}),C=0===i.length?null!=g?g:[]:null!==(t=null==g?void 0:g.filter(e=>{var t;return e.version.includes(i)||(null===(t=e.name)||void 0===t?void 0:t.includes(i))}))&&void 0!==t?t:[];return(0,r.jsxs)(r.Fragment,{children:[w&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.Z,{}),(0,r.jsx)(m.Z,{className:"w-3/4"}),(0,r.jsx)(m.Z,{className:"w-1/2"})]}),(0,r.jsxs)("div",{children:[k&&(0,r.jsx)(P.J,{type:"warning",title:"Failed to retrieve migration history for database",description:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"mb-1",children:"Try refreshing your browser, but if the issue persists, please reach out to us via support."}),(0,r.jsxs)("p",{className:"mb-4",children:["Error: ",null!==(n=null==Z?void 0:Z.message)&&void 0!==n?n:"Unknown"]})]}),children:(0,r.jsx)(v.z,{asChild:!0,type:"default",children:(0,r.jsx)(l(),{href:"/support/new?ref=".concat(null==p?void 0:p.ref,"&category=dashboard_bug&subject=Unable%20to%20view%20database%20migrations"),children:"Contact support"})},"contact-support")}),N&&(0,r.jsxs)("div",{children:[g.length<=0&&(0,r.jsx)(R,{}),g.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-80 mb-4",children:(0,r.jsx)(y.Z,{size:"small",placeholder:"Search for a migration",value:i,onChange:e=>f(e.target.value),icon:(0,r.jsx)(M.Z,{size:"14"})})}),(0,r.jsx)(d.Z,{head:[(0,r.jsx)(d.Z.th,{style:{width:"180px"},children:"Version"},"version"),(0,r.jsx)(d.Z.th,{children:"Name"},"version"),(0,r.jsx)(d.Z.th,{children:"Inserted at (UTC)"},"version"),(0,r.jsx)(d.Z.th,{},"buttons")],body:C.length>0?C.map(e=>{var t,n;let s=a()(e.version,"YYYYMMDDHHmmss").format("DD MMM YYYY, HH:mm:ss");return(0,r.jsxs)(d.Z.tr,{children:[(0,r.jsx)(d.Z.td,{children:e.version}),(0,r.jsx)(d.Z.td,{className:0===(null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"").length?"!text-foreground-lighter":"",children:null!==(n=null==e?void 0:e.name)&&void 0!==n?n:"Name not available"}),(0,r.jsx)(d.Z.td,{children:s}),(0,r.jsx)(d.Z.td,{align:"right",children:(0,r.jsx)(v.z,{type:"default",onClick:()=>h(e),children:"View migration SQL"})})]},e.version)}):(0,r.jsx)(d.Z.tr,{children:(0,r.jsxs)(d.Z.td,{colSpan:3,children:[(0,r.jsx)("p",{className:"text-sm text-foreground",children:"No results found"}),(0,r.jsxs)("p",{className:"text-sm text-foreground-light",children:['Your search for "',i,'" did not return any results']})]})})})]})]})]}),(0,r.jsx)(b.ZP,{size:"large",visible:void 0!==x,header:"Migration: ".concat(null==x?void 0:x.version),onCancel:()=>h(void 0),customFooter:(0,r.jsx)("div",{className:"flex items-center justify-end p-4 border-t border-overlay-border",children:(0,r.jsx)(v.z,{type:"default",onClick:()=>h(void 0),children:"Close"})}),children:(0,r.jsx)("div",{className:"h-full",children:(0,r.jsx)("div",{className:"relative h-full",children:(0,r.jsx)(u.Z,{isReadOnly:!0,id:null!==(s=null==x?void 0:x.version)&&void 0!==s?s:"",language:"pgsql",defaultValue:null==x?void 0:null===(e=x.statements)||void 0===e?void 0:e.join("\n")})})})})]})},E=n(405),D=n(33838),T=n(55527),W=n(27477),A=n(38057);let O=()=>(0,r.jsx)(D._S,{children:(0,r.jsxs)(D.jX,{children:[(0,r.jsx)(D.Lc,{children:(0,r.jsx)(T.p,{className:"!mb-0",title:"Database Migrations",description:"History of migrations that have been run on your database"})}),(0,r.jsx)(D.g$,{className:"flex items-center md:justify-end gap-x-2",children:(0,r.jsx)(W.G,{className:"no-underline",href:"https://supabase.com/docs/guides/deployment/database-migrations"})}),(0,r.jsx)("div",{className:"col-span-12 mt-3",children:(0,r.jsx)(z,{})})]})});O.getLayout=e=>(0,r.jsx)(A.Z,{children:(0,r.jsx)(E.Z,{title:"Migrations",children:e})});var F=O},72439:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(74234).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},11794:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(74234).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},68141:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(74234).Z)("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]])},56476:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(74234).Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},76524:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(74234).Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},65206:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(74234).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},30808:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(74234).Z)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]])},36462:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(74234).Z)("PanelLeftDashed",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 14v1",key:"askpd8"}],["path",{d:"M9 19v2",key:"16tejx"}],["path",{d:"M9 3v2",key:"1noubl"}],["path",{d:"M9 9v1",key:"19ebxg"}]])},66136:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(74234).Z)("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]])},78978:function(e,t,n){"use strict";n.d(t,{B_:function(){return j},_f:function(){return w},aG:function(){return g},av:function(){return b}});var r=n(97458),s=n(72439),a=n(28570),i=n(52983),l=n(9060),o=n(73512),c=n(39957),d=n(43633),u=n(22921),m=n(53486),f=n(79180),x=n(92654),h=n(69133),p=n(82040);function g(e){let{className:t}=e,n=(0,x.Wo)(),a=(0,x.yg)();if(n)return(0,r.jsxs)("button",{className:(0,d.cn)("p-2 bg-overlay flex items-center gap-2 text-xs text-foreground-muted",t),onClick:a,children:[(0,r.jsx)(s.Z,{width:12,height:12}),n.name]})}let j=(0,i.forwardRef)((e,t)=>{let{children:n,className:s,...a}=e;return(0,r.jsx)(u.mY,{ref:t,className:(0,d.cn)("h-full w-full flex flex-col overflow-hidden","[&_[cmdk-group]]:px-2 [&_[cmdk-group]]:!bg-transparent [&_[cmdk-group-heading]]:!bg-transparent [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-border-stronger [&_[cmdk-input]]:h-12","[&_[cmdk-item]_svg]:h-5","[&_[cmdk-item]_svg]:w-5","[&_[cmdk-item]_svg]:stroke-1","[&_[cmdk-input-wrapper]_svg]:h-5","[&_[cmdk-input-wrapper]_svg]:w-5","[&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0",s),...a,children:n})});function v(e){let{resetErrorBoundary:t}=e;return(0,r.jsx)("div",{className:(0,d.cn)("min-h-64","flex items-center justify-center"),children:(0,r.jsxs)("div",{className:"p-10 flex flex-col items-center gap-6 mt-4",children:[(0,r.jsx)(a.Z,{strokeWidth:1.5,size:40}),(0,r.jsx)("p",{className:"text-lg text-center",children:"Sorry, looks like we're having some issues with the command menu!"}),(0,r.jsx)("p",{className:"text-sm text-center",children:"Please try again in a bit."}),(0,r.jsx)(m.z,{size:"tiny",type:"secondary",onClick:t,children:"Try again?"})]})})}function y(e){let{children:t}=e,n=(0,x.EB)();return n?(0,r.jsx)(n,{}):(0,r.jsx)(j,{children:t})}function b(e){let{children:t}=e,n=(0,p.Cc)(),r=(0,p.FX)(),s=i.Children.only(t);return s&&(0,i.isValidElement)(s)?(0,i.cloneElement)(s,{onClick:()=>{var e,t;r(!n),null===(e=(t=s.props).onOpen)||void 0===e||e.call(t,!n)},"aria-haspopup":"dialog","aria-expanded":n,"aria-controls":"command-menu-dialog-content",className:(0,d.cn)("h-10 px-4 py-2","inline-flex items-center justify-center","whitespace-nowrap","rounded-md border border-input bg-background","text-sm font-medium","hover:bg-accent hover:text-accent-foreground","ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","transition-colors",s.props.className)}):null}function w(e){let{children:t,trigger:n}=e,s=(0,p.Cc)(),a=(0,p.FX)(),u=(0,o.Gc)("sm"),m=(0,p.Qd)(),g=(0,x.Wo)(),j=(0,x.yg)(),b=(0,h.a)(),w=(0,h.A)(),{ref:N}=function(e){let{toggleOpen:t}=e,{ref:n,handleTouchStart:r,handleTouchMove:s,handleTouchEnd:a}=(0,c.Z)({onClose:t}),l=(0,p.Gk)(),o=(0,i.useMemo)(()=>({handleTouchStart:r,handleTouchMove:s,handleTouchEnd:a}),[r,s,a]);return(0,i.useEffect)(()=>{l(o)},[o]),{ref:n}}({toggleOpen:()=>a(!s)});return(0,r.jsxs)(f.Vq,{open:s,onOpenChange:a,children:[n,(0,r.jsx)(f.cZ,{id:"command-menu-dialog-content",hideClose:!0,forceMount:!0,ref:N,onOpenAutoFocus:e=>u&&e.preventDefault(),onInteractOutside:()=>a(!1),onEscapeKeyDown:e=>(e.preventDefault(),b?w(""):g?j():a(!1)),size:m,className:(0,d.cn)("relative flex flex-col my-0 mx-auto rounded-t-lg overflow-hidden","h-[85dvh] mt-[15vh] md:max-h-[500px] md:mt-0 left-0 bottom-0 md:bottom-auto","!animate-in !slide-in-from-bottom-[85%] !duration-300","data-[state=closed]:!animate-out data-[state=closed]:!slide-out-to-bottom","!slide-in-from-left-[0%] :!slide-in-from-top-[0%]","!slide-out-to-left-[0%] !slide-out-to-top-[0%]","md:data-[state=open]:!slide-in-from-bottom-[0%] md:data-[state=closed]:!slide-out-to-bottom-[0%]","md:data-[state=open]:!zoom-in-95 md:data-[state=closed]:!zoom-out-95"),dialogOverlayProps:{className:(0,d.cn)("overflow-hidden flex data-closed:delay-100")},children:(0,r.jsx)(l.SV,{FallbackComponent:v,children:(0,r.jsx)(y,{children:t})})})]})}j.displayName=u.mY.displayName},92654:function(e,t,n){"use strict";n.d(t,{EB:function(){return u},Qy:function(){return h},SL:function(){return m},Wo:function(){return d},yg:function(){return f}});var r=n(85466),s=n.n(r),a=n(52983),i=n(34653),l=n(42807),o=n(36478),c=n(69133);let d=()=>{let{pagesState:e}=(0,l.D)(),{commandPages:t,pageStack:n}=(0,i.R)(e),r=n.at(-1);return(0,a.useMemo)(()=>r&&t[r]?{...t[r],name:r}:void 0,[t,r])},u=()=>{let e=d();if(e&&(0,o.sG)(e))return e.component},m=()=>{let{pagesState:e}=(0,l.D)(),t=(0,c.A)();return function(n){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.appendPageStack(n),r||t("")}},f=()=>{let{pagesState:e}=(0,l.D)(),{popPageStack:t}=(0,i.R)(e);return t},x=[],h=function(e,t){let{deps:n=x,enabled:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{pagesState:o}=(0,l.D)(),{registerNewPage:c}=(0,i.R)(o),d=(0,a.useRef)(n),u=(0,a.useRef)(r),m=(0,a.useRef)();(0,a.useMemo)(()=>{if(!s()(d.current,n)||u.current!==r){var a;null===(a=m.current)||void 0===a||a.call(m),m.current=r?c(e,t):void 0,d.current=n,u.current=r}},[c,e,t,n,r]),(0,a.useEffect)(()=>(m.current=r?c(e,t):void 0,()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.call(m)}),[])}},69133:function(e,t,n){"use strict";n.d(t,{A:function(){return i},a:function(){return a}});var r=n(34653),s=n(42807);let a=()=>{let{queryState:e}=(0,s.D)(),{query:t}=(0,r.R)(e);return t},i=()=>{let{queryState:e}=(0,s.D)(),{setQuery:t}=(0,r.R)(e);return t}},75856:function(e,t,n){"use strict";var r=n(97458),s=n(99517);n(52983);var a=n(92334);let i=e=>{let{open:t,children:n,className:a,...i}=e;return(0,r.jsx)(s.fC,{asChild:i.asChild,defaultOpen:i.defaultOpen,open:t,onOpenChange:i.onOpenChange,disabled:i.disabled,className:a,children:n})};i.Trigger=function(e){let{children:t,asChild:n}=e;return(0,r.jsx)(s.xz,{asChild:n,children:t})},i.Content=function(e){let{asChild:t,children:n,className:i}=e,l=(0,a.Z)("collapsible");return(0,r.jsx)(s.VY,{asChild:t,className:[l.content,i].join(" "),children:n})},t.ZP=i},33880:function(e,t,n){"use strict";n.d(t,{ZP:function(){return m}});var r=n(97458),s=n(52983),a=n(92334),i=n(43633);function l(e){let{children:t,className:n,tag:s="div",style:a}=e;return(0,r.jsx)("".concat(s),{style:a,children:t})}l.Title=function(e){let{className:t,level:n=1,children:s,style:a}=e;return(0,r.jsx)("h".concat(n),{style:a,children:s})},l.Text=function(e){let{className:t,children:n,style:s,type:a,disabled:i,mark:l,code:o,keyboard:c,underline:d,strikethrough:u,strong:m,small:f}=e;return o?(0,r.jsx)("code",{style:s,children:n}):l?(0,r.jsx)("mark",{style:s,children:n}):c?(0,r.jsx)("kbd",{style:s,children:n}):m?(0,r.jsx)("strong",{style:s,children:n}):(0,r.jsx)("span",{style:s,children:n})},l.Link=function(e){let{children:t,target:n="_blank",href:s,className:a,onClick:i,style:l}=e;return(0,r.jsx)("a",{onClick:i,href:s,target:n,rel:"noopener noreferrer",style:l,children:t})};let o=(0,s.createContext)({type:"text"}),c=e=>{let{type:t}=e;return(0,r.jsx)(o.Provider,{value:{type:t},children:e.children})},d=()=>{let e=(0,s.useContext)(o);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function u(e){let{children:t,className:n,ulClassName:s,style:a,type:i="text"}=e;return(0,r.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:n,style:a,children:(0,r.jsx)(c,{type:i,children:(0,r.jsx)("ul",{className:s,children:t})})})}u.Item=function(e){let{children:t,icon:n,active:s,rounded:l,onClick:o,doNotCloseOverlay:c=!1,showActiveBar:u=!1,style:m}=e,f=(0,a.Z)("menu"),{type:x}=d(),h=[f.item.base];h.push(f.item.variants[x].base),s?h.push(f.item.variants[x].active):h.push(f.item.variants[x].normal);let p=[f.item.content.base];s?p.push(f.item.content.active):p.push(f.item.content.normal);let g=[f.item.icon.base];return s?g.push(f.item.icon.active):g.push(f.item.icon.normal),(0,r.jsxs)("li",{role:"menuitem",className:(0,i.cn)("outline-none",h),style:m,onClick:o,"aria-current":s?"page":void 0,children:[n&&(0,r.jsx)("div",{className:"".concat(g.join(" ")," min-w-fit"),children:n}),(0,r.jsx)("span",{className:p.join(" "),children:t})]})},u.Group=function(e){let{children:t,icon:n,title:s}=e,i=(0,a.Z)("menu"),{type:l}=d();return(0,r.jsxs)("div",{className:[i.group.base,i.group.variants[l]].join(" "),children:[n&&(0,r.jsx)("span",{className:i.group.icon,children:n}),(0,r.jsx)("span",{className:i.group.content,children:s}),t]})},u.Misc=function(e){let{children:t}=e;return(0,r.jsx)("div",{children:(0,r.jsx)(l.Text,{children:(0,r.jsx)("span",{children:t})})})};var m=u}},function(e){e.O(0,[6665,7623,588,7037,8e3,6402,4418,8703,2303,6823,6499,4837,3297,441,1577,5605,1503,7702,5834,7198,3535,8232,3048,8005,2578,1446,9198,4554,5631,8803,9774,2888,179],function(){return e(e.s=80628)}),_N_E=e.O()}]);